"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([["7703"],{3726:function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"static/image/default-background.jpg"},7261:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5944);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6726);var _hakit_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3629);var _emotion_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4421);const defaultBackground=new URL(__webpack_require__(3726),__webpack_require__.b).href;const BackgroundElement=/*#__PURE__*/(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.Z)("div",{target:"e1wprg8f0"})("width:100%;height:100%;background-position:center center;background-repeat:no-repeat;background-size:cover;filter:",({blur})=>blur?`blur(${blur}px)`:"none",";",({backgroundImage,backgroundColor,opacity,blendMode})=>`
    ${backgroundImage?`background-image: url(${backgroundImage});`:""}
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      background: inherit;
      opacity: ${opacity};
      background: ${backgroundColor};
      mix-blend-mode: ${blendMode};
    }
    &:after {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top center, ${backgroundColor} 0%, rgba(255, 255, 255, 0) 100%);
      width: 80vw;
      height: 80vh;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      mix-blend-mode: color-dodge;
    }
  `);const BackgroundWrapper=/*#__PURE__*/(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.Z)("div",{target:"e1wprg8f1"})("position:absolute !important;inset:0;z-index:-1;pointer-events:none;");const __WEBPACK_DEFAULT_EXPORT__={label:"Root",withSizeOptions:false,fields:{background:{type:"object",label:"Background options",description:"General options for the main background",default:{},disableBreakpoints:true,collapsible:{open:true},objectFields:{useBackgroundImage:{type:"radio",label:"Use Background Image",description:"Whether to use a background image or not",options:[{label:"Yes",value:true},{label:"No",value:false}],default:true},backgroundImage:{type:"imageUpload",label:"Background Image",description:"The entity to display in the button card",default:void 0,visible(data){return data.background?.useBackgroundImage}},backgroundColor:{type:"color",label:"Background Color",description:"The background color of the button card",default:"#4254c5"},blendMode:{type:"select",label:"Blend Mode",description:"The blend mode to apply to the background overlay color",default:"multiply",options:[{label:"Color",value:"color"},{label:"Color Burn",value:"color-burn"},{label:"Color Dodge",value:"color-dodge"},{label:"Darken",value:"darken"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hard Light",value:"hard-light"},{label:"Hue",value:"hue"},{label:"Lighten",value:"lighten"},{label:"Luminosity",value:"luminosity"},{label:"Multiply",value:"multiply"},{label:"Normal",value:"normal"},{label:"Overlay",value:"overlay"},{label:"Saturation",value:"saturation"},{label:"Screen",value:"screen"},{label:"Soft Light",value:"soft-light"}]},blur:{type:"number",label:"Blur",min:0,description:"The blur amount to apply to the background image of the dashboard",default:25},opacity:{type:"number",label:"Opacity",description:"The opacity of the background overlay color",default:.9,min:0,max:1,step:.1}}}},render(props){const{editMode,_editor,background}=props;const{useStore}=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_1__.useHass)();const hasSetWindowContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);const setWindowContext=useStore(store=>store.setWindowContext);const windowContext=useStore(store=>store.windowContext);const container=editMode?_editor.iframe:document.head;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const newWindowContext=container?.contentWindow;if(editMode&&windowContext!==newWindowContext&&false===hasSetWindowContext.current&&void 0!==newWindowContext&&newWindowContext){setWindowContext(newWindowContext);hasSetWindowContext.current=true;console.log("Setting window context",newWindowContext)}},[container,editMode,windowContext,setWindowContext]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>{setWindowContext(window)},[setWindowContext]);if(!container)return/*#__PURE__*/(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.tZ)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.HY,{});if(editMode&&!hasSetWindowContext.current)return/*#__PURE__*/(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.tZ)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.HY,{});return/*#__PURE__*/(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.BX)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.HY,{children:[props.children,/*#__PURE__*/(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.tZ)(BackgroundWrapper,{children:/*#__PURE__*/(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.tZ)(BackgroundElement,{blendMode:background?.blendMode,backgroundColor:background?.backgroundColor,backgroundImage:background?.useBackgroundImage?background?.backgroundImage?background?.backgroundImage:defaultBackground:void 0,blur:background?.blur,opacity:background?.opacity})})]})}}}}]);