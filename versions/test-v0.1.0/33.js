/*! For license information please see 33.js.LICENSE.txt */
(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([["33"],{1068:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>isPropValid});var _emotion_memoize__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5042);var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var isPropValid=/* #__PURE__ */(0,_emotion_memoize__WEBPACK_IMPORTED_MODULE_0__.Z)(function(prop){return reactPropsRegex.test(prop)||111===prop.charCodeAt(0)&&110===prop.charCodeAt(1)&&prop.charCodeAt(2)<91})},5243:function(__unused_webpack_module,exports){/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(global,factory){factory(exports)})(0,function(exports){"use strict";var version="1.9.4";function extend(dest){var i,j,len,src;for(j=1,len=arguments.length;j<len;j++){src=arguments[j];for(i in src)dest[i]=src[i]}return dest}var create$2=Object.create||function(){function F(){}return function(proto){F.prototype=proto;return new F}}();function bind(fn,obj){var slice=Array.prototype.slice;if(fn.bind)return fn.bind.apply(fn,slice.call(arguments,1));var args=slice.call(arguments,2);return function(){return fn.apply(obj,args.length?args.concat(slice.call(arguments)):arguments)}}var lastId=0;function stamp(obj){if(!("_leaflet_id"in obj))obj["_leaflet_id"]=++lastId;return obj._leaflet_id}function throttle(fn,time,context){var lock,args,wrapperFn,later;later=function(){lock=false;if(args){wrapperFn.apply(context,args);args=false}};wrapperFn=function(){if(lock)args=arguments;else{fn.apply(context,arguments);setTimeout(later,time);lock=true}};return wrapperFn}function wrapNum(x,range,includeMax){var max=range[1],min=range[0],d=max-min;return x===max&&includeMax?x:((x-min)%d+d)%d+min}function falseFn(){return false}function formatNum(num,precision){if(false===precision)return num;var pow=Math.pow(10,void 0===precision?6:precision);return Math.round(num*pow)/pow}function trim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function splitWords(str){return trim(str).split(/\s+/)}function setOptions(obj,options){if(!Object.prototype.hasOwnProperty.call(obj,"options"))obj.options=obj.options?create$2(obj.options):{};for(var i in options)obj.options[i]=options[i];return obj.options}function getParamString(obj,existingUrl,uppercase){var params=[];for(var i in obj)params.push(encodeURIComponent(uppercase?i.toUpperCase():i)+"="+encodeURIComponent(obj[i]));return(existingUrl&&-1!==existingUrl.indexOf("?")?"&":"?")+params.join("&")}var templateRe=/\{ *([\w_ -]+) *\}/g;function template(str,data){return str.replace(templateRe,function(str,key){var value=data[key];if(void 0===value)throw new Error("No value provided for variable "+str);if("function"==typeof value)value=value(data);return value})}var isArray=Array.isArray||function(obj){return"[object Array]"===Object.prototype.toString.call(obj)};function indexOf(array,el){for(var i=0;i<array.length;i++)if(array[i]===el)return i;return -1}var emptyImageUrl="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function getPrefixed(name){return window["webkit"+name]||window["moz"+name]||window["ms"+name]}var lastTime=0;function timeoutDefer(fn){var time=+new Date,timeToCall=Math.max(0,16-(time-lastTime));lastTime=time+timeToCall;return window.setTimeout(fn,timeToCall)}var requestFn=window.requestAnimationFrame||getPrefixed("RequestAnimationFrame")||timeoutDefer;var cancelFn=window.cancelAnimationFrame||getPrefixed("CancelAnimationFrame")||getPrefixed("CancelRequestAnimationFrame")||function(id){window.clearTimeout(id)};function requestAnimFrame(fn,context,immediate){if(!immediate||requestFn!==timeoutDefer)return requestFn.call(window,bind(fn,context));fn.call(context)}function cancelAnimFrame(id){if(id)cancelFn.call(window,id)}var Util={__proto__:null,extend:extend,create:create$2,bind:bind,get lastId(){return lastId},stamp:stamp,throttle:throttle,wrapNum:wrapNum,falseFn:falseFn,formatNum:formatNum,trim:trim,splitWords:splitWords,setOptions:setOptions,getParamString:getParamString,template:template,isArray:isArray,indexOf:indexOf,emptyImageUrl:emptyImageUrl,requestFn:requestFn,cancelFn:cancelFn,requestAnimFrame:requestAnimFrame,cancelAnimFrame:cancelAnimFrame};function Class(){}Class.extend=function(props){var NewClass=function(){setOptions(this);if(this.initialize)this.initialize.apply(this,arguments);this.callInitHooks()};var parentProto=NewClass.__super__=this.prototype;var proto=create$2(parentProto);proto.constructor=NewClass;NewClass.prototype=proto;for(var i in this)if(Object.prototype.hasOwnProperty.call(this,i)&&"prototype"!==i&&"__super__"!==i)NewClass[i]=this[i];if(props.statics)extend(NewClass,props.statics);if(props.includes){checkDeprecatedMixinEvents(props.includes);extend.apply(null,[proto].concat(props.includes))}extend(proto,props);delete proto.statics;delete proto.includes;if(proto.options){proto.options=parentProto.options?create$2(parentProto.options):{};extend(proto.options,props.options)}proto._initHooks=[];proto.callInitHooks=function(){if(this._initHooksCalled)return;if(parentProto.callInitHooks)parentProto.callInitHooks.call(this);this._initHooksCalled=true;for(var i=0,len=proto._initHooks.length;i<len;i++)proto._initHooks[i].call(this)};return NewClass};Class.include=function(props){var parentOptions=this.prototype.options;extend(this.prototype,props);if(props.options){this.prototype.options=parentOptions;this.mergeOptions(props.options)}return this};Class.mergeOptions=function(options){extend(this.prototype.options,options);return this};Class.addInitHook=function(fn){var args=Array.prototype.slice.call(arguments,1);var init="function"==typeof fn?fn:function(){this[fn].apply(this,args)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(init);return this};function checkDeprecatedMixinEvents(includes){if("undefined"==typeof L||!L||!L.Mixin)return;includes=isArray(includes)?includes:[includes];for(var i=0;i<includes.length;i++)if(includes[i]===L.Mixin.Events)console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}var Events={on:function(types,fn,context){if("object"==typeof types)for(var type in types)this._on(type,types[type],fn);else{types=splitWords(types);for(var i=0,len=types.length;i<len;i++)this._on(types[i],fn,context)}return this},off:function(types,fn,context){if(arguments.length){if("object"==typeof types)for(var type in types)this._off(type,types[type],fn);else{types=splitWords(types);var removeAll=1===arguments.length;for(var i=0,len=types.length;i<len;i++)if(removeAll)this._off(types[i]);else this._off(types[i],fn,context)}}else delete this._events;return this},_on:function(type,fn,context,_once){if("function"!=typeof fn){console.warn("wrong listener type: "+typeof fn);return}if(false!==this._listens(type,fn,context))return;if(context===this)context=void 0;var newListener={fn:fn,ctx:context};if(_once)newListener.once=true;this._events=this._events||{};this._events[type]=this._events[type]||[];this._events[type].push(newListener)},_off:function(type,fn,context){var listeners,i,len;if(!this._events)return;listeners=this._events[type];if(!listeners)return;if(1===arguments.length){if(this._firingCount)for(i=0,len=listeners.length;i<len;i++)listeners[i].fn=falseFn;delete this._events[type];return}if("function"!=typeof fn){console.warn("wrong listener type: "+typeof fn);return}var index=this._listens(type,fn,context);if(false!==index){var listener=listeners[index];if(this._firingCount){listener.fn=falseFn;this._events[type]=listeners=listeners.slice()}listeners.splice(index,1)}},fire:function(type,data,propagate){if(!this.listens(type,propagate))return this;var event=extend({},data,{type:type,target:this,sourceTarget:data&&data.sourceTarget||this});if(this._events){var listeners=this._events[type];if(listeners){this._firingCount=this._firingCount+1||1;for(var i=0,len=listeners.length;i<len;i++){var l=listeners[i];var fn=l.fn;if(l.once)this.off(type,fn,l.ctx);fn.call(l.ctx||this,event)}this._firingCount--}}if(propagate)this._propagateEvent(event);return this},listens:function(type,fn,context,propagate){if("string"!=typeof type)console.warn('"string" type argument expected');var _fn=fn;if("function"!=typeof fn){propagate=!!fn;_fn=void 0;context=void 0}var listeners=this._events&&this._events[type];if(listeners&&listeners.length){if(false!==this._listens(type,_fn,context))return true}if(propagate){for(var id in this._eventParents)if(this._eventParents[id].listens(type,fn,context,propagate))return true}return false},_listens:function(type,fn,context){if(!this._events)return false;var listeners=this._events[type]||[];if(!fn)return!!listeners.length;if(context===this)context=void 0;for(var i=0,len=listeners.length;i<len;i++)if(listeners[i].fn===fn&&listeners[i].ctx===context)return i;return false},once:function(types,fn,context){if("object"==typeof types)for(var type in types)this._on(type,types[type],fn,true);else{types=splitWords(types);for(var i=0,len=types.length;i<len;i++)this._on(types[i],fn,context,true)}return this},addEventParent:function(obj){this._eventParents=this._eventParents||{};this._eventParents[stamp(obj)]=obj;return this},removeEventParent:function(obj){if(this._eventParents)delete this._eventParents[stamp(obj)];return this},_propagateEvent:function(e){for(var id in this._eventParents)this._eventParents[id].fire(e.type,extend({layer:e.target,propagatedFrom:e.target},e),true)}};Events.addEventListener=Events.on;Events.removeEventListener=Events.clearAllEventListeners=Events.off;Events.addOneTimeEventListener=Events.once;Events.fireEvent=Events.fire;Events.hasEventListeners=Events.listens;var Evented=Class.extend(Events);function Point(x,y,round){this.x=round?Math.round(x):x;this.y=round?Math.round(y):y}var trunc=Math.trunc||function(v){return v>0?Math.floor(v):Math.ceil(v)};Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(point){return this.clone()._add(toPoint(point))},_add:function(point){this.x+=point.x;this.y+=point.y;return this},subtract:function(point){return this.clone()._subtract(toPoint(point))},_subtract:function(point){this.x-=point.x;this.y-=point.y;return this},divideBy:function(num){return this.clone()._divideBy(num)},_divideBy:function(num){this.x/=num;this.y/=num;return this},multiplyBy:function(num){return this.clone()._multiplyBy(num)},_multiplyBy:function(num){this.x*=num;this.y*=num;return this},scaleBy:function(point){return new Point(this.x*point.x,this.y*point.y)},unscaleBy:function(point){return new Point(this.x/point.x,this.y/point.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=trunc(this.x);this.y=trunc(this.y);return this},distanceTo:function(point){point=toPoint(point);var x=point.x-this.x,y=point.y-this.y;return Math.sqrt(x*x+y*y)},equals:function(point){point=toPoint(point);return point.x===this.x&&point.y===this.y},contains:function(point){point=toPoint(point);return Math.abs(point.x)<=Math.abs(this.x)&&Math.abs(point.y)<=Math.abs(this.y)},toString:function(){return"Point("+formatNum(this.x)+", "+formatNum(this.y)+")"}};function toPoint(x,y,round){if(x instanceof Point)return x;if(isArray(x))return new Point(x[0],x[1]);if(null==x)return x;if("object"==typeof x&&"x"in x&&"y"in x)return new Point(x.x,x.y);return new Point(x,y,round)}function Bounds(a,b){if(!a)return;var points=b?[a,b]:a;for(var i=0,len=points.length;i<len;i++)this.extend(points[i])}Bounds.prototype={extend:function(obj){var min2,max2;if(!obj)return this;if(obj instanceof Point||"number"==typeof obj[0]||"x"in obj)min2=max2=toPoint(obj);else{obj=toBounds(obj);min2=obj.min;max2=obj.max;if(!min2||!max2)return this}if(this.min||this.max){this.min.x=Math.min(min2.x,this.min.x);this.max.x=Math.max(max2.x,this.max.x);this.min.y=Math.min(min2.y,this.min.y);this.max.y=Math.max(max2.y,this.max.y)}else{this.min=min2.clone();this.max=max2.clone()}return this},getCenter:function(round){return toPoint((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,round)},getBottomLeft:function(){return toPoint(this.min.x,this.max.y)},getTopRight:function(){return toPoint(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(obj){var min,max;obj="number"==typeof obj[0]||obj instanceof Point?toPoint(obj):toBounds(obj);if(obj instanceof Bounds){min=obj.min;max=obj.max}else min=max=obj;return min.x>=this.min.x&&max.x<=this.max.x&&min.y>=this.min.y&&max.y<=this.max.y},intersects:function(bounds){bounds=toBounds(bounds);var min=this.min,max=this.max,min2=bounds.min,max2=bounds.max,xIntersects=max2.x>=min.x&&min2.x<=max.x,yIntersects=max2.y>=min.y&&min2.y<=max.y;return xIntersects&&yIntersects},overlaps:function(bounds){bounds=toBounds(bounds);var min=this.min,max=this.max,min2=bounds.min,max2=bounds.max,xOverlaps=max2.x>min.x&&min2.x<max.x,yOverlaps=max2.y>min.y&&min2.y<max.y;return xOverlaps&&yOverlaps},isValid:function(){return!!(this.min&&this.max)},pad:function(bufferRatio){var min=this.min,max=this.max,heightBuffer=Math.abs(min.x-max.x)*bufferRatio,widthBuffer=Math.abs(min.y-max.y)*bufferRatio;return toBounds(toPoint(min.x-heightBuffer,min.y-widthBuffer),toPoint(max.x+heightBuffer,max.y+widthBuffer))},equals:function(bounds){if(!bounds)return false;bounds=toBounds(bounds);return this.min.equals(bounds.getTopLeft())&&this.max.equals(bounds.getBottomRight())}};function toBounds(a,b){if(!a||a instanceof Bounds)return a;return new Bounds(a,b)}function LatLngBounds(corner1,corner2){if(!corner1)return;var latlngs=corner2?[corner1,corner2]:corner1;for(var i=0,len=latlngs.length;i<len;i++)this.extend(latlngs[i])}LatLngBounds.prototype={extend:function(obj){var sw=this._southWest,ne=this._northEast,sw2,ne2;if(obj instanceof LatLng){sw2=obj;ne2=obj}else{if(!(obj instanceof LatLngBounds))return obj?this.extend(toLatLng(obj)||toLatLngBounds(obj)):this;sw2=obj._southWest;ne2=obj._northEast;if(!sw2||!ne2)return this}if(sw||ne){sw.lat=Math.min(sw2.lat,sw.lat);sw.lng=Math.min(sw2.lng,sw.lng);ne.lat=Math.max(ne2.lat,ne.lat);ne.lng=Math.max(ne2.lng,ne.lng)}else{this._southWest=new LatLng(sw2.lat,sw2.lng);this._northEast=new LatLng(ne2.lat,ne2.lng)}return this},pad:function(bufferRatio){var sw=this._southWest,ne=this._northEast,heightBuffer=Math.abs(sw.lat-ne.lat)*bufferRatio,widthBuffer=Math.abs(sw.lng-ne.lng)*bufferRatio;return new LatLngBounds(new LatLng(sw.lat-heightBuffer,sw.lng-widthBuffer),new LatLng(ne.lat+heightBuffer,ne.lng+widthBuffer))},getCenter:function(){return new LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(obj){obj="number"==typeof obj[0]||obj instanceof LatLng||"lat"in obj?toLatLng(obj):toLatLngBounds(obj);var sw=this._southWest,ne=this._northEast,sw2,ne2;if(obj instanceof LatLngBounds){sw2=obj.getSouthWest();ne2=obj.getNorthEast()}else sw2=ne2=obj;return sw2.lat>=sw.lat&&ne2.lat<=ne.lat&&sw2.lng>=sw.lng&&ne2.lng<=ne.lng},intersects:function(bounds){bounds=toLatLngBounds(bounds);var sw=this._southWest,ne=this._northEast,sw2=bounds.getSouthWest(),ne2=bounds.getNorthEast(),latIntersects=ne2.lat>=sw.lat&&sw2.lat<=ne.lat,lngIntersects=ne2.lng>=sw.lng&&sw2.lng<=ne.lng;return latIntersects&&lngIntersects},overlaps:function(bounds){bounds=toLatLngBounds(bounds);var sw=this._southWest,ne=this._northEast,sw2=bounds.getSouthWest(),ne2=bounds.getNorthEast(),latOverlaps=ne2.lat>sw.lat&&sw2.lat<ne.lat,lngOverlaps=ne2.lng>sw.lng&&sw2.lng<ne.lng;return latOverlaps&&lngOverlaps},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(bounds,maxMargin){if(!bounds)return false;bounds=toLatLngBounds(bounds);return this._southWest.equals(bounds.getSouthWest(),maxMargin)&&this._northEast.equals(bounds.getNorthEast(),maxMargin)},isValid:function(){return!!(this._southWest&&this._northEast)}};function toLatLngBounds(a,b){if(a instanceof LatLngBounds)return a;return new LatLngBounds(a,b)}function LatLng(lat,lng,alt){if(isNaN(lat)||isNaN(lng))throw new Error("Invalid LatLng object: ("+lat+", "+lng+")");this.lat=+lat;this.lng=+lng;if(void 0!==alt)this.alt=+alt}LatLng.prototype={equals:function(obj,maxMargin){if(!obj)return false;obj=toLatLng(obj);var margin=Math.max(Math.abs(this.lat-obj.lat),Math.abs(this.lng-obj.lng));return margin<=(void 0===maxMargin?1e-9:maxMargin)},toString:function(precision){return"LatLng("+formatNum(this.lat,precision)+", "+formatNum(this.lng,precision)+")"},distanceTo:function(other){return Earth.distance(this,toLatLng(other))},wrap:function(){return Earth.wrapLatLng(this)},toBounds:function(sizeInMeters){var latAccuracy=180*sizeInMeters/0x2637f09,lngAccuracy=latAccuracy/Math.cos(Math.PI/180*this.lat);return toLatLngBounds([this.lat-latAccuracy,this.lng-lngAccuracy],[this.lat+latAccuracy,this.lng+lngAccuracy])},clone:function(){return new LatLng(this.lat,this.lng,this.alt)}};function toLatLng(a,b,c){if(a instanceof LatLng)return a;if(isArray(a)&&"object"!=typeof a[0]){if(3===a.length)return new LatLng(a[0],a[1],a[2]);if(2===a.length)return new LatLng(a[0],a[1]);return null}if(null==a)return a;if("object"==typeof a&&"lat"in a)return new LatLng(a.lat,"lng"in a?a.lng:a.lon,a.alt);if(void 0===b)return null;return new LatLng(a,b,c)}var CRS={latLngToPoint:function(latlng,zoom){var projectedPoint=this.projection.project(latlng),scale=this.scale(zoom);return this.transformation._transform(projectedPoint,scale)},pointToLatLng:function(point,zoom){var scale=this.scale(zoom),untransformedPoint=this.transformation.untransform(point,scale);return this.projection.unproject(untransformedPoint)},project:function(latlng){return this.projection.project(latlng)},unproject:function(point){return this.projection.unproject(point)},scale:function(zoom){return 256*Math.pow(2,zoom)},zoom:function(scale){return Math.log(scale/256)/Math.LN2},getProjectedBounds:function(zoom){if(this.infinite)return null;var b=this.projection.bounds,s=this.scale(zoom),min=this.transformation.transform(b.min,s),max=this.transformation.transform(b.max,s);return new Bounds(min,max)},infinite:false,wrapLatLng:function(latlng){var lng=this.wrapLng?wrapNum(latlng.lng,this.wrapLng,true):latlng.lng,lat=this.wrapLat?wrapNum(latlng.lat,this.wrapLat,true):latlng.lat,alt=latlng.alt;return new LatLng(lat,lng,alt)},wrapLatLngBounds:function(bounds){var center=bounds.getCenter(),newCenter=this.wrapLatLng(center),latShift=center.lat-newCenter.lat,lngShift=center.lng-newCenter.lng;if(0===latShift&&0===lngShift)return bounds;var sw=bounds.getSouthWest(),ne=bounds.getNorthEast(),newSw=new LatLng(sw.lat-latShift,sw.lng-lngShift),newNe=new LatLng(ne.lat-latShift,ne.lng-lngShift);return new LatLngBounds(newSw,newNe)}};var Earth=extend({},CRS,{wrapLng:[-180,180],R:6371e3,distance:function(latlng1,latlng2){var rad=Math.PI/180,lat1=latlng1.lat*rad,lat2=latlng2.lat*rad,sinDLat=Math.sin((latlng2.lat-latlng1.lat)*rad/2),sinDLon=Math.sin((latlng2.lng-latlng1.lng)*rad/2),a=sinDLat*sinDLat+Math.cos(lat1)*Math.cos(lat2)*sinDLon*sinDLon,c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*c}});var earthRadius=6378137;var SphericalMercator={R:earthRadius,MAX_LATITUDE:85.0511287798,project:function(latlng){var d=Math.PI/180,max=this.MAX_LATITUDE,lat=Math.max(Math.min(max,latlng.lat),-max),sin=Math.sin(lat*d);return new Point(this.R*latlng.lng*d,this.R*Math.log((1+sin)/(1-sin))/2)},unproject:function(point){var d=180/Math.PI;return new LatLng((2*Math.atan(Math.exp(point.y/this.R))-Math.PI/2)*d,point.x*d/this.R)},bounds:function(){var d=earthRadius*Math.PI;return new Bounds([-d,-d],[d,d])}()};function Transformation(a,b,c,d){if(isArray(a)){this._a=a[0];this._b=a[1];this._c=a[2];this._d=a[3];return}this._a=a;this._b=b;this._c=c;this._d=d}Transformation.prototype={transform:function(point,scale){return this._transform(point.clone(),scale)},_transform:function(point,scale){scale=scale||1;point.x=scale*(this._a*point.x+this._b);point.y=scale*(this._c*point.y+this._d);return point},untransform:function(point,scale){scale=scale||1;return new Point((point.x/scale-this._b)/this._a,(point.y/scale-this._d)/this._c)}};function toTransformation(a,b,c,d){return new Transformation(a,b,c,d)}var EPSG3857=extend({},Earth,{code:"EPSG:3857",projection:SphericalMercator,transformation:function(){var scale=.5/(Math.PI*SphericalMercator.R);return toTransformation(scale,.5,-scale,.5)}()});var EPSG900913=extend({},EPSG3857,{code:"EPSG:900913"});function svgCreate(name){return document.createElementNS("http://www.w3.org/2000/svg",name)}function pointsToPath(rings,closed){var str="",i,j,len,len2,points,p;for(i=0,len=rings.length;i<len;i++){points=rings[i];for(j=0,len2=points.length;j<len2;j++){p=points[j];str+=(j?"L":"M")+p.x+" "+p.y}str+=closed?Browser.svg?"z":"x":""}return str||"M0 0"}var style=document.documentElement.style;var ie="ActiveXObject"in window;var ielt9=ie&&!document.addEventListener;var edge="msLaunchUri"in navigator&&!("documentMode"in document);var webkit=userAgentContains("webkit");var android=userAgentContains("android");var android23=userAgentContains("android 2")||userAgentContains("android 3");var webkitVer=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10);var androidStock=android&&userAgentContains("Google")&&webkitVer<537&&!("AudioNode"in window);var opera=!!window.opera;var chrome=!edge&&userAgentContains("chrome");var gecko=userAgentContains("gecko")&&!webkit&&!opera&&!ie;var safari=!chrome&&userAgentContains("safari");var phantom=userAgentContains("phantom");var opera12="OTransition"in style;var win=0===navigator.platform.indexOf("Win");var ie3d=ie&&"transition"in style;var webkit3d="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!android23;var gecko3d="MozPerspective"in style;var any3d=!window.L_DISABLE_3D&&(ie3d||webkit3d||gecko3d)&&!opera12&&!phantom;var mobile="undefined"!=typeof orientation||userAgentContains("mobile");var mobileWebkit=mobile&&webkit;var mobileWebkit3d=mobile&&webkit3d;var msPointer=!window.PointerEvent&&window.MSPointerEvent;var pointer=!!(window.PointerEvent||msPointer);var touchNative="ontouchstart"in window||!!window.TouchEvent;var touch=!window.L_NO_TOUCH&&(touchNative||pointer);var mobileOpera=mobile&&opera;var mobileGecko=mobile&&gecko;var retina=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1;var passiveEvents=function(){var supportsPassiveOption=false;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassiveOption=true}});window.addEventListener("testPassiveEventSupport",falseFn,opts);window.removeEventListener("testPassiveEventSupport",falseFn,opts)}catch(e){}return supportsPassiveOption}();var canvas$1=function(){return!!document.createElement("canvas").getContext}();var svg$1=!!(document.createElementNS&&svgCreate("svg").createSVGRect);var inlineSvg=!!svg$1&&function(){var div=document.createElement("div");div.innerHTML="<svg/>";return"http://www.w3.org/2000/svg"===(div.firstChild&&div.firstChild.namespaceURI)}();var vml=!svg$1&&function(){try{var div=document.createElement("div");div.innerHTML='<v:shape adj="1"/>';var shape=div.firstChild;shape.style.behavior="url(#default#VML)";return shape&&"object"==typeof shape.adj}catch(e){return false}}();var mac=0===navigator.platform.indexOf("Mac");var linux=0===navigator.platform.indexOf("Linux");function userAgentContains(str){return navigator.userAgent.toLowerCase().indexOf(str)>=0}var Browser={ie:ie,ielt9:ielt9,edge:edge,webkit:webkit,android:android,android23:android23,androidStock:androidStock,opera:opera,chrome:chrome,gecko:gecko,safari:safari,phantom:phantom,opera12:opera12,win:win,ie3d:ie3d,webkit3d:webkit3d,gecko3d:gecko3d,any3d:any3d,mobile:mobile,mobileWebkit:mobileWebkit,mobileWebkit3d:mobileWebkit3d,msPointer:msPointer,pointer:pointer,touch:touch,touchNative:touchNative,mobileOpera:mobileOpera,mobileGecko:mobileGecko,retina:retina,passiveEvents:passiveEvents,canvas:canvas$1,svg:svg$1,vml:vml,inlineSvg:inlineSvg,mac:mac,linux:linux};var POINTER_DOWN=Browser.msPointer?"MSPointerDown":"pointerdown";var POINTER_MOVE=Browser.msPointer?"MSPointerMove":"pointermove";var POINTER_UP=Browser.msPointer?"MSPointerUp":"pointerup";var POINTER_CANCEL=Browser.msPointer?"MSPointerCancel":"pointercancel";var pEvent={touchstart:POINTER_DOWN,touchmove:POINTER_MOVE,touchend:POINTER_UP,touchcancel:POINTER_CANCEL};var handle={touchstart:_onPointerStart,touchmove:_handlePointer,touchend:_handlePointer,touchcancel:_handlePointer};var _pointers={};var _pointerDocListener=false;function addPointerListener(obj,type,handler){if("touchstart"===type)_addPointerDocListener();if(!handle[type]){console.warn("wrong event specified:",type);return falseFn}handler=handle[type].bind(this,handler);obj.addEventListener(pEvent[type],handler,false);return handler}function removePointerListener(obj,type,handler){if(!pEvent[type]){console.warn("wrong event specified:",type);return}obj.removeEventListener(pEvent[type],handler,false)}function _globalPointerDown(e){_pointers[e.pointerId]=e}function _globalPointerMove(e){if(_pointers[e.pointerId])_pointers[e.pointerId]=e}function _globalPointerUp(e){delete _pointers[e.pointerId]}function _addPointerDocListener(){if(!_pointerDocListener){document.addEventListener(POINTER_DOWN,_globalPointerDown,true);document.addEventListener(POINTER_MOVE,_globalPointerMove,true);document.addEventListener(POINTER_UP,_globalPointerUp,true);document.addEventListener(POINTER_CANCEL,_globalPointerUp,true);_pointerDocListener=true}}function _handlePointer(handler,e){if(e.pointerType===(e.MSPOINTER_TYPE_MOUSE||"mouse"))return;e.touches=[];for(var i in _pointers)e.touches.push(_pointers[i]);e.changedTouches=[e];handler(e)}function _onPointerStart(handler,e){if(e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH)preventDefault(e);_handlePointer(handler,e)}function makeDblclick(event){var newEvent={},prop,i;for(i in event){prop=event[i];newEvent[i]=prop&&prop.bind?prop.bind(event):prop}event=newEvent;newEvent.type="dblclick";newEvent.detail=2;newEvent.isTrusted=false;newEvent._simulated=true;return newEvent}var delay=200;function addDoubleTapListener(obj,handler){obj.addEventListener("dblclick",handler);var last=0,detail;function simDblclick(e){if(1!==e.detail){detail=e.detail;return}if("mouse"===e.pointerType||e.sourceCapabilities&&!e.sourceCapabilities.firesTouchEvents)return;var path=getPropagationPath(e);if(path.some(function(el){return el instanceof HTMLLabelElement&&el.attributes.for})&&!path.some(function(el){return el instanceof HTMLInputElement||el instanceof HTMLSelectElement}))return;var now=Date.now();if(now-last<=delay){detail++;if(2===detail)handler(makeDblclick(e))}else detail=1;last=now}obj.addEventListener("click",simDblclick);return{dblclick:handler,simDblclick:simDblclick}}function removeDoubleTapListener(obj,handlers){obj.removeEventListener("dblclick",handlers.dblclick);obj.removeEventListener("click",handlers.simDblclick)}var TRANSFORM=testProp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var TRANSITION=testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);var TRANSITION_END="webkitTransition"===TRANSITION||"OTransition"===TRANSITION?TRANSITION+"End":"transitionend";function get(id){return"string"==typeof id?document.getElementById(id):id}function getStyle(el,style){var value=el.style[style]||el.currentStyle&&el.currentStyle[style];if((!value||"auto"===value)&&document.defaultView){var css=document.defaultView.getComputedStyle(el,null);value=css?css[style]:null}return"auto"===value?null:value}function create$1(tagName,className,container){var el=document.createElement(tagName);el.className=className||"";if(container)container.appendChild(el);return el}function remove(el){var parent=el.parentNode;if(parent)parent.removeChild(el)}function empty(el){while(el.firstChild)el.removeChild(el.firstChild)}function toFront(el){var parent=el.parentNode;if(parent&&parent.lastChild!==el)parent.appendChild(el)}function toBack(el){var parent=el.parentNode;if(parent&&parent.firstChild!==el)parent.insertBefore(el,parent.firstChild)}function hasClass(el,name){if(void 0!==el.classList)return el.classList.contains(name);var className=getClass(el);return className.length>0&&new RegExp("(^|\\s)"+name+"(\\s|$)").test(className)}function addClass(el,name){if(void 0!==el.classList){var classes=splitWords(name);for(var i=0,len=classes.length;i<len;i++)el.classList.add(classes[i])}else if(!hasClass(el,name)){var className=getClass(el);setClass(el,(className?className+" ":"")+name)}}function removeClass(el,name){if(void 0!==el.classList)el.classList.remove(name);else setClass(el,trim((" "+getClass(el)+" ").replace(" "+name+" "," ")))}function setClass(el,name){if(void 0===el.className.baseVal)el.className=name;else el.className.baseVal=name}function getClass(el){if(el.correspondingElement)el=el.correspondingElement;return void 0===el.className.baseVal?el.className:el.className.baseVal}function setOpacity(el,value){if("opacity"in el.style)el.style.opacity=value;else if("filter"in el.style)_setOpacityIE(el,value)}function _setOpacityIE(el,value){var filter=false,filterName="DXImageTransform.Microsoft.Alpha";try{filter=el.filters.item(filterName)}catch(e){if(1===value)return}value=Math.round(100*value);if(filter){filter.Enabled=100!==value;filter.Opacity=value}else el.style.filter+=" progid:"+filterName+"(opacity="+value+")"}function testProp(props){var style=document.documentElement.style;for(var i=0;i<props.length;i++)if(props[i]in style)return props[i];return false}function setTransform(el,offset,scale){var pos=offset||new Point(0,0);el.style[TRANSFORM]=(Browser.ie3d?"translate("+pos.x+"px,"+pos.y+"px)":"translate3d("+pos.x+"px,"+pos.y+"px,0)")+(scale?" scale("+scale+")":"")}function setPosition(el,point){el._leaflet_pos=point;if(Browser.any3d)setTransform(el,point);else{el.style.left=point.x+"px";el.style.top=point.y+"px"}}function getPosition(el){return el._leaflet_pos||new Point(0,0)}var disableTextSelection;var enableTextSelection;var _userSelect;if("onselectstart"in document){disableTextSelection=function(){on(window,"selectstart",preventDefault)};enableTextSelection=function(){off(window,"selectstart",preventDefault)}}else{var userSelectProperty=testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);disableTextSelection=function(){if(userSelectProperty){var style=document.documentElement.style;_userSelect=style[userSelectProperty];style[userSelectProperty]="none"}};enableTextSelection=function(){if(userSelectProperty){document.documentElement.style[userSelectProperty]=_userSelect;_userSelect=void 0}}}function disableImageDrag(){on(window,"dragstart",preventDefault)}function enableImageDrag(){off(window,"dragstart",preventDefault)}var _outlineElement,_outlineStyle;function preventOutline(element){while(-1===element.tabIndex)element=element.parentNode;if(!element.style)return;restoreOutline();_outlineElement=element;_outlineStyle=element.style.outlineStyle;element.style.outlineStyle="none";on(window,"keydown",restoreOutline)}function restoreOutline(){if(!_outlineElement)return;_outlineElement.style.outlineStyle=_outlineStyle;_outlineElement=void 0;_outlineStyle=void 0;off(window,"keydown",restoreOutline)}function getSizedParentNode(element){do element=element.parentNode;while((!element.offsetWidth||!element.offsetHeight)&&element!==document.body);return element}function getScale(element){var rect=element.getBoundingClientRect();return{x:rect.width/element.offsetWidth||1,y:rect.height/element.offsetHeight||1,boundingClientRect:rect}}var DomUtil={__proto__:null,TRANSFORM:TRANSFORM,TRANSITION:TRANSITION,TRANSITION_END:TRANSITION_END,get:get,getStyle:getStyle,create:create$1,remove:remove,empty:empty,toFront:toFront,toBack:toBack,hasClass:hasClass,addClass:addClass,removeClass:removeClass,setClass:setClass,getClass:getClass,setOpacity:setOpacity,testProp:testProp,setTransform:setTransform,setPosition:setPosition,getPosition:getPosition,get disableTextSelection(){return disableTextSelection},get enableTextSelection(){return enableTextSelection},disableImageDrag:disableImageDrag,enableImageDrag:enableImageDrag,preventOutline:preventOutline,restoreOutline:restoreOutline,getSizedParentNode:getSizedParentNode,getScale:getScale};function on(obj,types,fn,context){if(types&&"object"==typeof types)for(var type in types)addOne(obj,type,types[type],fn);else{types=splitWords(types);for(var i=0,len=types.length;i<len;i++)addOne(obj,types[i],fn,context)}return this}var eventsKey="_leaflet_events";function off(obj,types,fn,context){if(1===arguments.length){batchRemove(obj);delete obj[eventsKey]}else if(types&&"object"==typeof types)for(var type in types)removeOne(obj,type,types[type],fn);else{types=splitWords(types);if(2===arguments.length)batchRemove(obj,function(type){return -1!==indexOf(types,type)});else for(var i=0,len=types.length;i<len;i++)removeOne(obj,types[i],fn,context)}return this}function batchRemove(obj,filterFn){for(var id in obj[eventsKey]){var type=id.split(/\d/)[0];if(!filterFn||filterFn(type))removeOne(obj,type,null,null,id)}}var mouseSubst={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function addOne(obj,type,fn,context){var id=type+stamp(fn)+(context?"_"+stamp(context):"");if(obj[eventsKey]&&obj[eventsKey][id])return this;var handler=function(e){return fn.call(context||obj,e||window.event)};var originalHandler=handler;if(!Browser.touchNative&&Browser.pointer&&0===type.indexOf("touch"))handler=addPointerListener(obj,type,handler);else if(Browser.touch&&"dblclick"===type)handler=addDoubleTapListener(obj,handler);else if("addEventListener"in obj){if("touchstart"===type||"touchmove"===type||"wheel"===type||"mousewheel"===type)obj.addEventListener(mouseSubst[type]||type,handler,Browser.passiveEvents?{passive:false}:false);else if("mouseenter"===type||"mouseleave"===type){handler=function(e){e=e||window.event;if(isExternalTarget(obj,e))originalHandler(e)};obj.addEventListener(mouseSubst[type],handler,false)}else obj.addEventListener(type,originalHandler,false)}else obj.attachEvent("on"+type,handler);obj[eventsKey]=obj[eventsKey]||{};obj[eventsKey][id]=handler}function removeOne(obj,type,fn,context,id){id=id||type+stamp(fn)+(context?"_"+stamp(context):"");var handler=obj[eventsKey]&&obj[eventsKey][id];if(!handler)return this;if(!Browser.touchNative&&Browser.pointer&&0===type.indexOf("touch"))removePointerListener(obj,type,handler);else if(Browser.touch&&"dblclick"===type)removeDoubleTapListener(obj,handler);else if("removeEventListener"in obj)obj.removeEventListener(mouseSubst[type]||type,handler,false);else obj.detachEvent("on"+type,handler);obj[eventsKey][id]=null}function stopPropagation(e){if(e.stopPropagation)e.stopPropagation();else if(e.originalEvent)e.originalEvent._stopped=true;else e.cancelBubble=true;return this}function disableScrollPropagation(el){addOne(el,"wheel",stopPropagation);return this}function disableClickPropagation(el){on(el,"mousedown touchstart dblclick contextmenu",stopPropagation);el["_leaflet_disable_click"]=true;return this}function preventDefault(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false;return this}function stop(e){preventDefault(e);stopPropagation(e);return this}function getPropagationPath(ev){if(ev.composedPath)return ev.composedPath();var path=[];var el=ev.target;while(el){path.push(el);el=el.parentNode}return path}function getMousePosition(e,container){if(!container)return new Point(e.clientX,e.clientY);var scale=getScale(container),offset=scale.boundingClientRect;return new Point((e.clientX-offset.left)/scale.x-container.clientLeft,(e.clientY-offset.top)/scale.y-container.clientTop)}var wheelPxFactor=Browser.linux&&Browser.chrome?window.devicePixelRatio:Browser.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function getWheelDelta(e){return Browser.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/wheelPxFactor:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function isExternalTarget(el,e){var related=e.relatedTarget;if(!related)return true;try{while(related&&related!==el)related=related.parentNode}catch(err){return false}return related!==el}var DomEvent={__proto__:null,on:on,off:off,stopPropagation:stopPropagation,disableScrollPropagation:disableScrollPropagation,disableClickPropagation:disableClickPropagation,preventDefault:preventDefault,stop:stop,getPropagationPath:getPropagationPath,getMousePosition:getMousePosition,getWheelDelta:getWheelDelta,isExternalTarget:isExternalTarget,addListener:on,removeListener:off};var PosAnimation=Evented.extend({run:function(el,newPos,duration,easeLinearity){this.stop();this._el=el;this._inProgress=true;this._duration=duration||.25;this._easeOutPower=1/Math.max(easeLinearity||.5,.2);this._startPos=getPosition(el);this._offset=newPos.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){if(!this._inProgress)return;this._step(true);this._complete()},_animate:function(){this._animId=requestAnimFrame(this._animate,this);this._step()},_step:function(round){var elapsed=+new Date-this._startTime,duration=1e3*this._duration;if(elapsed<duration)this._runFrame(this._easeOut(elapsed/duration),round);else{this._runFrame(1);this._complete()}},_runFrame:function(progress,round){var pos=this._startPos.add(this._offset.multiplyBy(progress));if(round)pos._round();setPosition(this._el,pos);this.fire("step")},_complete:function(){cancelAnimFrame(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}});var Map1=Evented.extend({options:{crs:EPSG3857,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(id,options){options=setOptions(this,options);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=true;this._initContainer(id);this._initLayout();this._onResize=bind(this._onResize,this);this._initEvents();if(options.maxBounds)this.setMaxBounds(options.maxBounds);if(void 0!==options.zoom)this._zoom=this._limitZoom(options.zoom);if(options.center&&void 0!==options.zoom)this.setView(toLatLng(options.center),options.zoom,{reset:true});this.callInitHooks();this._zoomAnimated=TRANSITION&&Browser.any3d&&!Browser.mobileOpera&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();on(this._proxy,TRANSITION_END,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(center,zoom,options){zoom=void 0===zoom?this._zoom:this._limitZoom(zoom);center=this._limitCenter(toLatLng(center),zoom,this.options.maxBounds);options=options||{};this._stop();if(this._loaded&&!options.reset&&true!==options){if(void 0!==options.animate){options.zoom=extend({animate:options.animate},options.zoom);options.pan=extend({animate:options.animate,duration:options.duration},options.pan)}var moved=this._zoom!==zoom?this._tryAnimatedZoom&&this._tryAnimatedZoom(center,zoom,options.zoom):this._tryAnimatedPan(center,options.pan);if(moved){clearTimeout(this._sizeTimer);return this}}this._resetView(center,zoom,options.pan&&options.pan.noMoveStart);return this},setZoom:function(zoom,options){if(!this._loaded){this._zoom=zoom;return this}return this.setView(this.getCenter(),zoom,{zoom:options})},zoomIn:function(delta,options){delta=delta||(Browser.any3d?this.options.zoomDelta:1);return this.setZoom(this._zoom+delta,options)},zoomOut:function(delta,options){delta=delta||(Browser.any3d?this.options.zoomDelta:1);return this.setZoom(this._zoom-delta,options)},setZoomAround:function(latlng,zoom,options){var scale=this.getZoomScale(zoom),viewHalf=this.getSize().divideBy(2),containerPoint=latlng instanceof Point?latlng:this.latLngToContainerPoint(latlng),centerOffset=containerPoint.subtract(viewHalf).multiplyBy(1-1/scale),newCenter=this.containerPointToLatLng(viewHalf.add(centerOffset));return this.setView(newCenter,zoom,{zoom:options})},_getBoundsCenterZoom:function(bounds,options){options=options||{};bounds=bounds.getBounds?bounds.getBounds():toLatLngBounds(bounds);var paddingTL=toPoint(options.paddingTopLeft||options.padding||[0,0]),paddingBR=toPoint(options.paddingBottomRight||options.padding||[0,0]),zoom=this.getBoundsZoom(bounds,false,paddingTL.add(paddingBR));zoom="number"==typeof options.maxZoom?Math.min(options.maxZoom,zoom):zoom;if(zoom===1/0)return{center:bounds.getCenter(),zoom:zoom};var paddingOffset=paddingBR.subtract(paddingTL).divideBy(2),swPoint=this.project(bounds.getSouthWest(),zoom),nePoint=this.project(bounds.getNorthEast(),zoom),center=this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset),zoom);return{center:center,zoom:zoom}},fitBounds:function(bounds,options){bounds=toLatLngBounds(bounds);if(!bounds.isValid())throw new Error("Bounds are not valid.");var target=this._getBoundsCenterZoom(bounds,options);return this.setView(target.center,target.zoom,options)},fitWorld:function(options){return this.fitBounds([[-90,-180],[90,180]],options)},panTo:function(center,options){return this.setView(center,this._zoom,{pan:options})},panBy:function(offset,options){offset=toPoint(offset).round();options=options||{};if(!offset.x&&!offset.y)return this.fire("moveend");if(true!==options.animate&&!this.getSize().contains(offset)){this._resetView(this.unproject(this.project(this.getCenter()).add(offset)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new PosAnimation;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!options.noMoveStart)this.fire("movestart");if(false!==options.animate){addClass(this._mapPane,"leaflet-pan-anim");var newPos=this._getMapPanePos().subtract(offset).round();this._panAnim.run(this._mapPane,newPos,options.duration||.25,options.easeLinearity)}else{this._rawPanBy(offset);this.fire("move").fire("moveend")}return this},flyTo:function(targetCenter,targetZoom,options){options=options||{};if(false===options.animate||!Browser.any3d)return this.setView(targetCenter,targetZoom,options);this._stop();var from=this.project(this.getCenter()),to=this.project(targetCenter),size=this.getSize(),startZoom=this._zoom;targetCenter=toLatLng(targetCenter);targetZoom=void 0===targetZoom?startZoom:targetZoom;var w0=Math.max(size.x,size.y),w1=w0*this.getZoomScale(startZoom,targetZoom),u1=to.distanceTo(from)||1,rho=1.42,rho2=rho*rho;function r(i){var s1=i?-1:1,s2=i?w1:w0,t1=w1*w1-w0*w0+s1*rho2*rho2*u1*u1,b1=2*s2*rho2*u1,b=t1/b1,sq=Math.sqrt(b*b+1)-b;var log=sq<1e-9?-18:Math.log(sq);return log}function sinh(n){return(Math.exp(n)-Math.exp(-n))/2}function cosh(n){return(Math.exp(n)+Math.exp(-n))/2}function tanh(n){return sinh(n)/cosh(n)}var r0=r(0);function w(s){return w0*(cosh(r0)/cosh(r0+rho*s))}function u(s){return w0*(cosh(r0)*tanh(r0+rho*s)-sinh(r0))/rho2}function easeOut(t){return 1-Math.pow(1-t,1.5)}var start=Date.now(),S=(r(1)-r0)/rho,duration=options.duration?1e3*options.duration:1e3*S*.8;function frame(){var t=(Date.now()-start)/duration,s=easeOut(t)*S;if(t<=1){this._flyToFrame=requestAnimFrame(frame,this);this._move(this.unproject(from.add(to.subtract(from).multiplyBy(u(s)/u1)),startZoom),this.getScaleZoom(w0/w(s),startZoom),{flyTo:true})}else this._move(targetCenter,targetZoom)._moveEnd(true)}this._moveStart(true,options.noMoveStart);frame.call(this);return this},flyToBounds:function(bounds,options){var target=this._getBoundsCenterZoom(bounds,options);return this.flyTo(target.center,target.zoom,options)},setMaxBounds:function(bounds){bounds=toLatLngBounds(bounds);if(this.listens("moveend",this._panInsideMaxBounds))this.off("moveend",this._panInsideMaxBounds);if(!bounds.isValid()){this.options.maxBounds=null;return this}this.options.maxBounds=bounds;if(this._loaded)this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(zoom){var oldZoom=this.options.minZoom;this.options.minZoom=zoom;if(this._loaded&&oldZoom!==zoom){this.fire("zoomlevelschange");if(this.getZoom()<this.options.minZoom)return this.setZoom(zoom)}return this},setMaxZoom:function(zoom){var oldZoom=this.options.maxZoom;this.options.maxZoom=zoom;if(this._loaded&&oldZoom!==zoom){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom)return this.setZoom(zoom)}return this},panInsideBounds:function(bounds,options){this._enforcingBounds=true;var center=this.getCenter(),newCenter=this._limitCenter(center,this._zoom,toLatLngBounds(bounds));if(!center.equals(newCenter))this.panTo(newCenter,options);this._enforcingBounds=false;return this},panInside:function(latlng,options){options=options||{};var paddingTL=toPoint(options.paddingTopLeft||options.padding||[0,0]),paddingBR=toPoint(options.paddingBottomRight||options.padding||[0,0]),pixelCenter=this.project(this.getCenter()),pixelPoint=this.project(latlng),pixelBounds=this.getPixelBounds(),paddedBounds=toBounds([pixelBounds.min.add(paddingTL),pixelBounds.max.subtract(paddingBR)]),paddedSize=paddedBounds.getSize();if(!paddedBounds.contains(pixelPoint)){this._enforcingBounds=true;var centerOffset=pixelPoint.subtract(paddedBounds.getCenter());var offset=paddedBounds.extend(pixelPoint).getSize().subtract(paddedSize);pixelCenter.x+=centerOffset.x<0?-offset.x:offset.x;pixelCenter.y+=centerOffset.y<0?-offset.y:offset.y;this.panTo(this.unproject(pixelCenter),options);this._enforcingBounds=false}return this},invalidateSize:function(options){if(!this._loaded)return this;options=extend({animate:false,pan:true},true===options?{animate:true}:options);var oldSize=this.getSize();this._sizeChanged=true;this._lastCenter=null;var newSize=this.getSize(),oldCenter=oldSize.divideBy(2).round(),newCenter=newSize.divideBy(2).round(),offset=oldCenter.subtract(newCenter);if(!offset.x&&!offset.y)return this;if(options.animate&&options.pan)this.panBy(offset);else{if(options.pan)this._rawPanBy(offset);this.fire("move");if(options.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(bind(this.fire,this,"moveend"),200)}else this.fire("moveend")}return this.fire("resize",{oldSize:oldSize,newSize:newSize})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap)this.fire("viewreset");return this._stop()},locate:function(options){options=this._locateOptions=extend({timeout:1e4,watch:false},options);if(!("geolocation"in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var onResponse=bind(this._handleGeolocationResponse,this),onError=bind(this._handleGeolocationError,this);if(options.watch)this._locationWatchId=navigator.geolocation.watchPosition(onResponse,onError,options);else navigator.geolocation.getCurrentPosition(onResponse,onError,options);return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch)navigator.geolocation.clearWatch(this._locationWatchId);if(this._locateOptions)this._locateOptions.setView=false;return this},_handleGeolocationError:function(error){if(!this._container._leaflet_id)return;var c=error.code,message=error.message||(1===c?"permission denied":2===c?"position unavailable":"timeout");if(this._locateOptions.setView&&!this._loaded)this.fitWorld();this.fire("locationerror",{code:c,message:"Geolocation error: "+message+"."})},_handleGeolocationResponse:function(pos){if(!this._container._leaflet_id)return;var lat=pos.coords.latitude,lng=pos.coords.longitude,latlng=new LatLng(lat,lng),bounds=latlng.toBounds(2*pos.coords.accuracy),options=this._locateOptions;if(options.setView){var zoom=this.getBoundsZoom(bounds);this.setView(latlng,options.maxZoom?Math.min(zoom,options.maxZoom):zoom)}var data={latlng:latlng,bounds:bounds,timestamp:pos.timestamp};for(var i in pos.coords)if("number"==typeof pos.coords[i])data[i]=pos.coords[i];this.fire("locationfound",data)},addHandler:function(name,HandlerClass){if(!HandlerClass)return this;var handler=this[name]=new HandlerClass(this);this._handlers.push(handler);if(this.options[name])handler.enable();return this},remove:function(){this._initEvents(true);if(this.options.maxBounds)this.off("moveend",this._panInsideMaxBounds);if(this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id;delete this._containerId}catch(e){this._container._leaflet_id=void 0;this._containerId=void 0}if(void 0!==this._locationWatchId)this.stopLocate();this._stop();remove(this._mapPane);if(this._clearControlPos)this._clearControlPos();if(this._resizeRequest){cancelAnimFrame(this._resizeRequest);this._resizeRequest=null}this._clearHandlers();if(this._loaded)this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)remove(this._panes[i]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(name,container){var className="leaflet-pane"+(name?" leaflet-"+name.replace("Pane","")+"-pane":""),pane=create$1("div",className,container||this._mapPane);if(name)this._panes[name]=pane;return pane},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved())return this._lastCenter.clone();return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var bounds=this.getPixelBounds(),sw=this.unproject(bounds.getBottomLeft()),ne=this.unproject(bounds.getTopRight());return new LatLngBounds(sw,ne)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(bounds,inside,padding){bounds=toLatLngBounds(bounds);padding=toPoint(padding||[0,0]);var zoom=this.getZoom()||0,min=this.getMinZoom(),max=this.getMaxZoom(),nw=bounds.getNorthWest(),se=bounds.getSouthEast(),size=this.getSize().subtract(padding),boundsSize=toBounds(this.project(se,zoom),this.project(nw,zoom)).getSize(),snap=Browser.any3d?this.options.zoomSnap:1,scalex=size.x/boundsSize.x,scaley=size.y/boundsSize.y,scale=inside?Math.max(scalex,scaley):Math.min(scalex,scaley);zoom=this.getScaleZoom(scale,zoom);if(snap){zoom=snap/100*Math.round(zoom/(snap/100));zoom=inside?Math.ceil(zoom/snap)*snap:Math.floor(zoom/snap)*snap}return Math.max(min,Math.min(max,zoom))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new Point(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(center,zoom){var topLeftPoint=this._getTopLeftPoint(center,zoom);return new Bounds(topLeftPoint,topLeftPoint.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(zoom){return this.options.crs.getProjectedBounds(void 0===zoom?this.getZoom():zoom)},getPane:function(pane){return"string"==typeof pane?this._panes[pane]:pane},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(toZoom,fromZoom){var crs=this.options.crs;fromZoom=void 0===fromZoom?this._zoom:fromZoom;return crs.scale(toZoom)/crs.scale(fromZoom)},getScaleZoom:function(scale,fromZoom){var crs=this.options.crs;fromZoom=void 0===fromZoom?this._zoom:fromZoom;var zoom=crs.zoom(scale*crs.scale(fromZoom));return isNaN(zoom)?1/0:zoom},project:function(latlng,zoom){zoom=void 0===zoom?this._zoom:zoom;return this.options.crs.latLngToPoint(toLatLng(latlng),zoom)},unproject:function(point,zoom){zoom=void 0===zoom?this._zoom:zoom;return this.options.crs.pointToLatLng(toPoint(point),zoom)},layerPointToLatLng:function(point){var projectedPoint=toPoint(point).add(this.getPixelOrigin());return this.unproject(projectedPoint)},latLngToLayerPoint:function(latlng){var projectedPoint=this.project(toLatLng(latlng))._round();return projectedPoint._subtract(this.getPixelOrigin())},wrapLatLng:function(latlng){return this.options.crs.wrapLatLng(toLatLng(latlng))},wrapLatLngBounds:function(latlng){return this.options.crs.wrapLatLngBounds(toLatLngBounds(latlng))},distance:function(latlng1,latlng2){return this.options.crs.distance(toLatLng(latlng1),toLatLng(latlng2))},containerPointToLayerPoint:function(point){return toPoint(point).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(point){return toPoint(point).add(this._getMapPanePos())},containerPointToLatLng:function(point){var layerPoint=this.containerPointToLayerPoint(toPoint(point));return this.layerPointToLatLng(layerPoint)},latLngToContainerPoint:function(latlng){return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(latlng)))},mouseEventToContainerPoint:function(e){return getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(id){var container=this._container=get(id);if(container){if(container._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");on(container,"scroll",this._onScroll,this);this._containerId=stamp(container)},_initLayout:function(){var container=this._container;this._fadeAnimated=this.options.fadeAnimation&&Browser.any3d;addClass(container,"leaflet-container"+(Browser.touch?" leaflet-touch":"")+(Browser.retina?" leaflet-retina":"")+(Browser.ielt9?" leaflet-oldie":"")+(Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var position=getStyle(container,"position");if("absolute"!==position&&"relative"!==position&&"fixed"!==position&&"sticky"!==position)container.style.position="relative";this._initPanes();if(this._initControlPos)this._initControlPos()},_initPanes:function(){var panes=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);setPosition(this._mapPane,new Point(0,0));this.createPane("tilePane");this.createPane("overlayPane");this.createPane("shadowPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){addClass(panes.markerPane,"leaflet-zoom-hide");addClass(panes.shadowPane,"leaflet-zoom-hide")}},_resetView:function(center,zoom,noMoveStart){setPosition(this._mapPane,new Point(0,0));var loading=!this._loaded;this._loaded=true;zoom=this._limitZoom(zoom);this.fire("viewprereset");var zoomChanged=this._zoom!==zoom;this._moveStart(zoomChanged,noMoveStart)._move(center,zoom)._moveEnd(zoomChanged);this.fire("viewreset");if(loading)this.fire("load")},_moveStart:function(zoomChanged,noMoveStart){if(zoomChanged)this.fire("zoomstart");if(!noMoveStart)this.fire("movestart");return this},_move:function(center,zoom,data,supressEvent){if(void 0===zoom)zoom=this._zoom;var zoomChanged=this._zoom!==zoom;this._zoom=zoom;this._lastCenter=center;this._pixelOrigin=this._getNewPixelOrigin(center);if(supressEvent){if(data&&data.pinch)this.fire("zoom",data)}else{if(zoomChanged||data&&data.pinch)this.fire("zoom",data);this.fire("move",data)}return this},_moveEnd:function(zoomChanged){if(zoomChanged)this.fire("zoomend");return this.fire("moveend")},_stop:function(){cancelAnimFrame(this._flyToFrame);if(this._panAnim)this._panAnim.stop();return this},_rawPanBy:function(offset){setPosition(this._mapPane,this._getMapPanePos().subtract(offset))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds)this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(remove){this._targets={};this._targets[stamp(this._container)]=this;var onOff=remove?off:on;onOff(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);if(this.options.trackResize)onOff(window,"resize",this._onResize,this);if(Browser.any3d&&this.options.transform3DLimit)(remove?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){cancelAnimFrame(this._resizeRequest);this._resizeRequest=requestAnimFrame(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var pos=this._getMapPanePos();if(Math.max(Math.abs(pos.x),Math.abs(pos.y))>=this.options.transform3DLimit)this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,type){var targets=[],target,isHover="mouseout"===type||"mouseover"===type,src=e.target||e.srcElement,dragging=false;while(src){target=this._targets[stamp(src)];if(target&&("click"===type||"preclick"===type)&&this._draggableMoved(target)){dragging=true;break}if(target&&target.listens(type,true)){if(isHover&&!isExternalTarget(src,e))break;targets.push(target);if(isHover)break}if(src===this._container)break;src=src.parentNode}if(!targets.length&&!dragging&&!isHover&&this.listens(type,true))targets=[this];return targets},_isClickDisabled:function(el){while(el&&el!==this._container){if(el["_leaflet_disable_click"])return true;el=el.parentNode}},_handleDOMEvent:function(e){var el=e.target||e.srcElement;if(!this._loaded||el["_leaflet_disable_events"]||"click"===e.type&&this._isClickDisabled(el))return;var type=e.type;if("mousedown"===type)preventOutline(el);this._fireDOMEvent(e,type)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,type,canvasTargets){if("click"===e.type){var synth=extend({},e);synth.type="preclick";this._fireDOMEvent(synth,synth.type,canvasTargets)}var targets=this._findEventTargets(e,type);if(canvasTargets){var filtered=[];for(var i=0;i<canvasTargets.length;i++)if(canvasTargets[i].listens(type,true))filtered.push(canvasTargets[i]);targets=filtered.concat(targets)}if(!targets.length)return;if("contextmenu"===type)preventDefault(e);var target=targets[0];var data={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var isMarker=target.getLatLng&&(!target._radius||target._radius<=10);data.containerPoint=isMarker?this.latLngToContainerPoint(target.getLatLng()):this.mouseEventToContainerPoint(e);data.layerPoint=this.containerPointToLayerPoint(data.containerPoint);data.latlng=isMarker?target.getLatLng():this.layerPointToLatLng(data.layerPoint)}for(i=0;i<targets.length;i++){targets[i].fire(type,data,true);if(data.originalEvent._stopped||false===targets[i].options.bubblingMouseEvents&&-1!==indexOf(this._mouseEvents,type))return}},_draggableMoved:function(obj){obj=obj.dragging&&obj.dragging.enabled()?obj:this;return obj.dragging&&obj.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,len=this._handlers.length;i<len;i++)this._handlers[i].disable()},whenReady:function(callback,context){if(this._loaded)callback.call(context||this,{target:this});else this.on("load",callback,context);return this},_getMapPanePos:function(){return getPosition(this._mapPane)||new Point(0,0)},_moved:function(){var pos=this._getMapPanePos();return pos&&!pos.equals([0,0])},_getTopLeftPoint:function(center,zoom){var pixelOrigin=center&&void 0!==zoom?this._getNewPixelOrigin(center,zoom):this.getPixelOrigin();return pixelOrigin.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(center,zoom){var viewHalf=this.getSize()._divideBy(2);return this.project(center,zoom)._subtract(viewHalf)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(latlng,zoom,center){var topLeft=this._getNewPixelOrigin(center,zoom);return this.project(latlng,zoom)._subtract(topLeft)},_latLngBoundsToNewLayerBounds:function(latLngBounds,zoom,center){var topLeft=this._getNewPixelOrigin(center,zoom);return toBounds([this.project(latLngBounds.getSouthWest(),zoom)._subtract(topLeft),this.project(latLngBounds.getNorthWest(),zoom)._subtract(topLeft),this.project(latLngBounds.getSouthEast(),zoom)._subtract(topLeft),this.project(latLngBounds.getNorthEast(),zoom)._subtract(topLeft)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(latlng){return this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint())},_limitCenter:function(center,zoom,bounds){if(!bounds)return center;var centerPoint=this.project(center,zoom),viewHalf=this.getSize().divideBy(2),viewBounds=new Bounds(centerPoint.subtract(viewHalf),centerPoint.add(viewHalf)),offset=this._getBoundsOffset(viewBounds,bounds,zoom);if(Math.abs(offset.x)<=1&&Math.abs(offset.y)<=1)return center;return this.unproject(centerPoint.add(offset),zoom)},_limitOffset:function(offset,bounds){if(!bounds)return offset;var viewBounds=this.getPixelBounds(),newBounds=new Bounds(viewBounds.min.add(offset),viewBounds.max.add(offset));return offset.add(this._getBoundsOffset(newBounds,bounds))},_getBoundsOffset:function(pxBounds,maxBounds,zoom){var projectedMaxBounds=toBounds(this.project(maxBounds.getNorthEast(),zoom),this.project(maxBounds.getSouthWest(),zoom)),minOffset=projectedMaxBounds.min.subtract(pxBounds.min),maxOffset=projectedMaxBounds.max.subtract(pxBounds.max),dx=this._rebound(minOffset.x,-maxOffset.x),dy=this._rebound(minOffset.y,-maxOffset.y);return new Point(dx,dy)},_rebound:function(left,right){return left+right>0?Math.round(left-right)/2:Math.max(0,Math.ceil(left))-Math.max(0,Math.floor(right))},_limitZoom:function(zoom){var min=this.getMinZoom(),max=this.getMaxZoom(),snap=Browser.any3d?this.options.zoomSnap:1;if(snap)zoom=Math.round(zoom/snap)*snap;return Math.max(min,Math.min(max,zoom))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(center,options){var offset=this._getCenterOffset(center)._trunc();if(true!==(options&&options.animate)&&!this.getSize().contains(offset))return false;this.panBy(offset,options);return true},_createAnimProxy:function(){var proxy=this._proxy=create$1("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(proxy);this.on("zoomanim",function(e){var prop=TRANSFORM,transform=this._proxy.style[prop];setTransform(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1));if(transform===this._proxy.style[prop]&&this._animatingZoom)this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){remove(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),z=this.getZoom();setTransform(this._proxy,this.project(c,z),this.getZoomScale(z,1))},_catchTransitionEnd:function(e){if(this._animatingZoom&&e.propertyName.indexOf("transform")>=0)this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(center,zoom,options){if(this._animatingZoom)return true;options=options||{};if(!this._zoomAnimated||false===options.animate||this._nothingToAnimate()||Math.abs(zoom-this._zoom)>this.options.zoomAnimationThreshold)return false;var scale=this.getZoomScale(zoom),offset=this._getCenterOffset(center)._divideBy(1-1/scale);if(true!==options.animate&&!this.getSize().contains(offset))return false;requestAnimFrame(function(){this._moveStart(true,options.noMoveStart||false)._animateZoom(center,zoom,true)},this);return true},_animateZoom:function(center,zoom,startAnim,noUpdate){if(!this._mapPane)return;if(startAnim){this._animatingZoom=true;this._animateToCenter=center;this._animateToZoom=zoom;addClass(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:center,zoom:zoom,noUpdate:noUpdate});if(!this._tempFireZoomEvent)this._tempFireZoomEvent=this._zoom!==this._animateToZoom;this._move(this._animateToCenter,this._animateToZoom,void 0,true);setTimeout(bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom)return;if(this._mapPane)removeClass(this._mapPane,"leaflet-zoom-anim");this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom,void 0,true);if(this._tempFireZoomEvent)this.fire("zoom");delete this._tempFireZoomEvent;this.fire("move");this._moveEnd(true)}});function createMap(id,options){return new Map1(id,options)}var Control=Class.extend({options:{position:"topright"},initialize:function(options){setOptions(this,options)},getPosition:function(){return this.options.position},setPosition:function(position){var map=this._map;if(map)map.removeControl(this);this.options.position=position;if(map)map.addControl(this);return this},getContainer:function(){return this._container},addTo:function(map){this.remove();this._map=map;var container=this._container=this.onAdd(map),pos=this.getPosition(),corner=map._controlCorners[pos];addClass(container,"leaflet-control");if(-1!==pos.indexOf("bottom"))corner.insertBefore(container,corner.firstChild);else corner.appendChild(container);this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map)return this;remove(this._container);if(this.onRemove)this.onRemove(this._map);this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(e){if(this._map&&e&&e.screenX>0&&e.screenY>0)this._map.getContainer().focus()}});var control=function(options){return new Control(options)};Map1.include({addControl:function(control){control.addTo(this);return this},removeControl:function(control){control.remove();return this},_initControlPos:function(){var corners=this._controlCorners={},l="leaflet-",container=this._controlContainer=create$1("div",l+"control-container",this._container);function createCorner(vSide,hSide){var className=l+vSide+" "+l+hSide;corners[vSide+hSide]=create$1("div",className,container)}createCorner("top","left");createCorner("top","right");createCorner("bottom","left");createCorner("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)remove(this._controlCorners[i]);remove(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var Layers=Control.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(layerA,layerB,nameA,nameB){return nameA<nameB?-1:nameB<nameA?1:0}},initialize:function(baseLayers,overlays,options){setOptions(this,options);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=false;this._preventClick=false;for(var i in baseLayers)this._addLayer(baseLayers[i],i);for(i in overlays)this._addLayer(overlays[i],i,true)},onAdd:function(map){this._initLayout();this._update();this._map=map;map.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(map){Control.prototype.addTo.call(this,map);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(layer,name){this._addLayer(layer,name);return this._map?this._update():this},addOverlay:function(layer,name){this._addLayer(layer,name,true);return this._map?this._update():this},removeLayer:function(layer){layer.off("add remove",this._onLayerChange,this);var obj=this._getLayer(stamp(layer));if(obj)this._layers.splice(this._layers.indexOf(obj),1);return this._map?this._update():this},expand:function(){addClass(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var acceptableHeight=this._map.getSize().y-(this._container.offsetTop+50);if(acceptableHeight<this._section.clientHeight){addClass(this._section,"leaflet-control-layers-scrollbar");this._section.style.height=acceptableHeight+"px"}else removeClass(this._section,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){removeClass(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var className="leaflet-control-layers",container=this._container=create$1("div",className),collapsed=this.options.collapsed;container.setAttribute("aria-haspopup",true);disableClickPropagation(container);disableScrollPropagation(container);var section=this._section=create$1("section",className+"-list");if(collapsed){this._map.on("click",this.collapse,this);on(container,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)}var link=this._layersLink=create$1("a",className+"-toggle",container);link.href="#";link.title="Layers";link.setAttribute("role","button");on(link,{keydown:function(e){if(13===e.keyCode)this._expandSafely()},click:function(e){preventDefault(e);this._expandSafely()}},this);if(!collapsed)this.expand();this._baseLayersList=create$1("div",className+"-base",section);this._separator=create$1("div",className+"-separator",section);this._overlaysList=create$1("div",className+"-overlays",section);container.appendChild(section)},_getLayer:function(id){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&stamp(this._layers[i].layer)===id)return this._layers[i]},_addLayer:function(layer,name,overlay){if(this._map)layer.on("add remove",this._onLayerChange,this);this._layers.push({layer:layer,name:name,overlay:overlay});if(this.options.sortLayers)this._layers.sort(bind(function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)},this));if(this.options.autoZIndex&&layer.setZIndex){this._lastZIndex++;layer.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;empty(this._baseLayersList);empty(this._overlaysList);this._layerControlInputs=[];var baseLayersPresent,overlaysPresent,i,obj,baseLayersCount=0;for(i=0;i<this._layers.length;i++){obj=this._layers[i];this._addItem(obj);overlaysPresent=overlaysPresent||obj.overlay;baseLayersPresent=baseLayersPresent||!obj.overlay;baseLayersCount+=obj.overlay?0:1}if(this.options.hideSingleBase){baseLayersPresent=baseLayersPresent&&baseLayersCount>1;this._baseLayersList.style.display=baseLayersPresent?"":"none"}this._separator.style.display=overlaysPresent&&baseLayersPresent?"":"none";return this},_onLayerChange:function(e){if(!this._handlingClick)this._update();var obj=this._getLayer(stamp(e.target));var type=obj.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;if(type)this._map.fire(type,obj)},_createRadioElement:function(name,checked){var radioHtml='<input type="radio" class="leaflet-control-layers-selector" name="'+name+'"'+(checked?' checked="checked"':"")+"/>";var radioFragment=document.createElement("div");radioFragment.innerHTML=radioHtml;return radioFragment.firstChild},_addItem:function(obj){var label=document.createElement("label"),checked=this._map.hasLayer(obj.layer),input;if(obj.overlay){input=document.createElement("input");input.type="checkbox";input.className="leaflet-control-layers-selector";input.defaultChecked=checked}else input=this._createRadioElement("leaflet-base-layers_"+stamp(this),checked);this._layerControlInputs.push(input);input.layerId=stamp(obj.layer);on(input,"click",this._onInputClick,this);var name=document.createElement("span");name.innerHTML=" "+obj.name;var holder=document.createElement("span");label.appendChild(holder);holder.appendChild(input);holder.appendChild(name);var container=obj.overlay?this._overlaysList:this._baseLayersList;container.appendChild(label);this._checkDisabledLayers();return label},_onInputClick:function(){if(this._preventClick)return;var inputs=this._layerControlInputs,input,layer;var addedLayers=[],removedLayers=[];this._handlingClick=true;for(var i=inputs.length-1;i>=0;i--){input=inputs[i];layer=this._getLayer(input.layerId).layer;if(input.checked)addedLayers.push(layer);else if(!input.checked)removedLayers.push(layer)}for(i=0;i<removedLayers.length;i++)if(this._map.hasLayer(removedLayers[i]))this._map.removeLayer(removedLayers[i]);for(i=0;i<addedLayers.length;i++)if(!this._map.hasLayer(addedLayers[i]))this._map.addLayer(addedLayers[i]);this._handlingClick=false;this._refocusOnMap()},_checkDisabledLayers:function(){var inputs=this._layerControlInputs,input,layer,zoom=this._map.getZoom();for(var i=inputs.length-1;i>=0;i--){input=inputs[i];layer=this._getLayer(input.layerId).layer;input.disabled=void 0!==layer.options.minZoom&&zoom<layer.options.minZoom||void 0!==layer.options.maxZoom&&zoom>layer.options.maxZoom}},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed)this.expand();return this},_expandSafely:function(){var section=this._section;this._preventClick=true;on(section,"click",preventDefault);this.expand();var that=this;setTimeout(function(){off(section,"click",preventDefault);that._preventClick=false})}});var layers=function(baseLayers,overlays,options){return new Layers(baseLayers,overlays,options)};var Zoom=Control.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(map){var zoomName="leaflet-control-zoom",container=create$1("div",zoomName+" leaflet-bar"),options=this.options;this._zoomInButton=this._createButton(options.zoomInText,options.zoomInTitle,zoomName+"-in",container,this._zoomIn);this._zoomOutButton=this._createButton(options.zoomOutText,options.zoomOutTitle,zoomName+"-out",container,this._zoomOut);this._updateDisabled();map.on("zoomend zoomlevelschange",this._updateDisabled,this);return container},onRemove:function(map){map.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:function(e){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom())this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){if(!this._disabled&&this._map._zoom>this._map.getMinZoom())this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(html,title,className,container,fn){var link=create$1("a",className,container);link.innerHTML=html;link.href="#";link.title=title;link.setAttribute("role","button");link.setAttribute("aria-label",title);disableClickPropagation(link);on(link,"click",stop);on(link,"click",fn,this);on(link,"click",this._refocusOnMap,this);return link},_updateDisabled:function(){var map=this._map,className="leaflet-disabled";removeClass(this._zoomInButton,className);removeClass(this._zoomOutButton,className);this._zoomInButton.setAttribute("aria-disabled","false");this._zoomOutButton.setAttribute("aria-disabled","false");if(this._disabled||map._zoom===map.getMinZoom()){addClass(this._zoomOutButton,className);this._zoomOutButton.setAttribute("aria-disabled","true")}if(this._disabled||map._zoom===map.getMaxZoom()){addClass(this._zoomInButton,className);this._zoomInButton.setAttribute("aria-disabled","true")}}});Map1.mergeOptions({zoomControl:true});Map1.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new Zoom;this.addControl(this.zoomControl)}});var zoom=function(options){return new Zoom(options)};var Scale=Control.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true},onAdd:function(map){var className="leaflet-control-scale",container=create$1("div",className),options=this.options;this._addScales(options,className+"-line",container);map.on(options.updateWhenIdle?"moveend":"move",this._update,this);map.whenReady(this._update,this);return container},onRemove:function(map){map.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(options,className,container){if(options.metric)this._mScale=create$1("div",className,container);if(options.imperial)this._iScale=create$1("div",className,container)},_update:function(){var map=this._map,y=map.getSize().y/2;var maxMeters=map.distance(map.containerPointToLatLng([0,y]),map.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(maxMeters)},_updateScales:function(maxMeters){if(this.options.metric&&maxMeters)this._updateMetric(maxMeters);if(this.options.imperial&&maxMeters)this._updateImperial(maxMeters)},_updateMetric:function(maxMeters){var meters=this._getRoundNum(maxMeters),label=meters<1e3?meters+" m":meters/1e3+" km";this._updateScale(this._mScale,label,meters/maxMeters)},_updateImperial:function(maxMeters){var maxFeet=3.2808399*maxMeters,maxMiles,miles,feet;if(maxFeet>5280){maxMiles=maxFeet/5280;miles=this._getRoundNum(maxMiles);this._updateScale(this._iScale,miles+" mi",miles/maxMiles)}else{feet=this._getRoundNum(maxFeet);this._updateScale(this._iScale,feet+" ft",feet/maxFeet)}},_updateScale:function(scale,text,ratio){scale.style.width=Math.round(this.options.maxWidth*ratio)+"px";scale.innerHTML=text},_getRoundNum:function(num){var pow10=Math.pow(10,(Math.floor(num)+"").length-1),d=num/pow10;d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1;return pow10*d}});var scale=function(options){return new Scale(options)};var ukrainianFlag='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>';var Attribution=Control.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Browser.inlineSvg?ukrainianFlag+" ":"")+"Leaflet</a>"},initialize:function(options){setOptions(this,options);this._attributions={}},onAdd:function(map){map.attributionControl=this;this._container=create$1("div","leaflet-control-attribution");disableClickPropagation(this._container);for(var i in map._layers)if(map._layers[i].getAttribution)this.addAttribution(map._layers[i].getAttribution());this._update();map.on("layeradd",this._addAttribution,this);return this._container},onRemove:function(map){map.off("layeradd",this._addAttribution,this)},_addAttribution:function(ev){if(ev.layer.getAttribution){this.addAttribution(ev.layer.getAttribution());ev.layer.once("remove",function(){this.removeAttribution(ev.layer.getAttribution())},this)}},setPrefix:function(prefix){this.options.prefix=prefix;this._update();return this},addAttribution:function(text){if(!text)return this;if(!this._attributions[text])this._attributions[text]=0;this._attributions[text]++;this._update();return this},removeAttribution:function(text){if(!text)return this;if(this._attributions[text]){this._attributions[text]--;this._update()}return this},_update:function(){if(!this._map)return;var attribs=[];for(var i in this._attributions)if(this._attributions[i])attribs.push(i);var prefixAndAttribs=[];if(this.options.prefix)prefixAndAttribs.push(this.options.prefix);if(attribs.length)prefixAndAttribs.push(attribs.join(", "));this._container.innerHTML=prefixAndAttribs.join(' <span aria-hidden="true">|</span> ')}});Map1.mergeOptions({attributionControl:true});Map1.addInitHook(function(){if(this.options.attributionControl)new Attribution().addTo(this)});var attribution=function(options){return new Attribution(options)};Control.Layers=Layers;Control.Zoom=Zoom;Control.Scale=Scale;Control.Attribution=Attribution;control.layers=layers;control.zoom=zoom;control.scale=scale;control.attribution=attribution;var Handler=Class.extend({initialize:function(map){this._map=map},enable:function(){if(this._enabled)return this;this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=false;this.removeHooks();return this},enabled:function(){return!!this._enabled}});Handler.addTo=function(map,name){map.addHandler(name,this);return this};var Mixin={Events:Events};var START=Browser.touch?"touchstart mousedown":"mousedown";var Draggable=Evented.extend({options:{clickTolerance:3},initialize:function(element,dragStartTarget,preventOutline,options){setOptions(this,options);this._element=element;this._dragStartTarget=dragStartTarget||element;this._preventOutline=preventOutline},enable:function(){if(this._enabled)return;on(this._dragStartTarget,START,this._onDown,this);this._enabled=true},disable:function(){if(!this._enabled)return;if(Draggable._dragging===this)this.finishDrag(true);off(this._dragStartTarget,START,this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(e){if(!this._enabled)return;this._moved=false;if(hasClass(this._element,"leaflet-zoom-anim"))return;if(e.touches&&1!==e.touches.length){if(Draggable._dragging===this)this.finishDrag();return}if(Draggable._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)return;Draggable._dragging=this;if(this._preventOutline)preventOutline(this._element);disableImageDrag();disableTextSelection();if(this._moving)return;this.fire("down");var first=e.touches?e.touches[0]:e,sizedParent=getSizedParentNode(this._element);this._startPoint=new Point(first.clientX,first.clientY);this._startPos=getPosition(this._element);this._parentScale=getScale(sizedParent);var mouseevent="mousedown"===e.type;on(document,mouseevent?"mousemove":"touchmove",this._onMove,this);on(document,mouseevent?"mouseup":"touchend touchcancel",this._onUp,this)},_onMove:function(e){if(!this._enabled)return;if(e.touches&&e.touches.length>1){this._moved=true;return}var first=e.touches&&1===e.touches.length?e.touches[0]:e,offset=new Point(first.clientX,first.clientY)._subtract(this._startPoint);if(!offset.x&&!offset.y)return;if(Math.abs(offset.x)+Math.abs(offset.y)<this.options.clickTolerance)return;offset.x/=this._parentScale.x;offset.y/=this._parentScale.y;preventDefault(e);if(!this._moved){this.fire("dragstart");this._moved=true;addClass(document.body,"leaflet-dragging");this._lastTarget=e.target||e.srcElement;if(window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance)this._lastTarget=this._lastTarget.correspondingUseElement;addClass(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(offset);this._moving=true;this._lastEvent=e;this._updatePosition()},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e);setPosition(this._element,this._newPos);this.fire("drag",e)},_onUp:function(){if(!this._enabled)return;this.finishDrag()},finishDrag:function(noInertia){removeClass(document.body,"leaflet-dragging");if(this._lastTarget){removeClass(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}off(document,"mousemove touchmove",this._onMove,this);off(document,"mouseup touchend touchcancel",this._onUp,this);enableImageDrag();enableTextSelection();var fireDragend=this._moved&&this._moving;this._moving=false;Draggable._dragging=false;if(fireDragend)this.fire("dragend",{noInertia:noInertia,distance:this._newPos.distanceTo(this._startPos)})}});function clipPolygon(points,bounds,round){var clippedPoints,edges=[1,4,2,8],i,j,k,a,b,len,edge,p;for(i=0,len=points.length;i<len;i++)points[i]._code=_getBitCode(points[i],bounds);for(k=0;k<4;k++){edge=edges[k];clippedPoints=[];for(i=0,len=points.length,j=len-1;i<len;j=i++){a=points[i];b=points[j];if(a._code&edge){if(!(b._code&edge)){p=_getEdgeIntersection(b,a,edge,bounds,round);p._code=_getBitCode(p,bounds);clippedPoints.push(p)}}else{if(b._code&edge){p=_getEdgeIntersection(b,a,edge,bounds,round);p._code=_getBitCode(p,bounds);clippedPoints.push(p)}clippedPoints.push(a)}}points=clippedPoints}return points}function polygonCenter(latlngs,crs){var i,j,p1,p2,f,area,x,y,center;if(!latlngs||0===latlngs.length)throw new Error("latlngs not passed");if(!isFlat(latlngs)){console.warn("latlngs are not flat! Only the first ring will be used");latlngs=latlngs[0]}var centroidLatLng=toLatLng([0,0]);var bounds=toLatLngBounds(latlngs);var areaBounds=bounds.getNorthWest().distanceTo(bounds.getSouthWest())*bounds.getNorthEast().distanceTo(bounds.getNorthWest());if(areaBounds<1700)centroidLatLng=centroid(latlngs);var len=latlngs.length;var points=[];for(i=0;i<len;i++){var latlng=toLatLng(latlngs[i]);points.push(crs.project(toLatLng([latlng.lat-centroidLatLng.lat,latlng.lng-centroidLatLng.lng])))}area=x=y=0;for(i=0,j=len-1;i<len;j=i++){p1=points[i];p2=points[j];f=p1.y*p2.x-p2.y*p1.x;x+=(p1.x+p2.x)*f;y+=(p1.y+p2.y)*f;area+=3*f}center=0===area?points[0]:[x/area,y/area];var latlngCenter=crs.unproject(toPoint(center));return toLatLng([latlngCenter.lat+centroidLatLng.lat,latlngCenter.lng+centroidLatLng.lng])}function centroid(coords){var latSum=0;var lngSum=0;var len=0;for(var i=0;i<coords.length;i++){var latlng=toLatLng(coords[i]);latSum+=latlng.lat;lngSum+=latlng.lng;len++}return toLatLng([latSum/len,lngSum/len])}var PolyUtil={__proto__:null,clipPolygon:clipPolygon,polygonCenter:polygonCenter,centroid:centroid};function simplify(points,tolerance){if(!tolerance||!points.length)return points.slice();var sqTolerance=tolerance*tolerance;points=_reducePoints(points,sqTolerance);points=_simplifyDP(points,sqTolerance);return points}function pointToSegmentDistance(p,p1,p2){return Math.sqrt(_sqClosestPointOnSegment(p,p1,p2,true))}function closestPointOnSegment(p,p1,p2){return _sqClosestPointOnSegment(p,p1,p2)}function _simplifyDP(points,sqTolerance){var len=points.length,ArrayConstructor="undefined"!=typeof Uint8Array?Uint8Array:Array,markers=new ArrayConstructor(len);markers[0]=markers[len-1]=1;_simplifyDPStep(points,markers,sqTolerance,0,len-1);var i,newPoints=[];for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function _simplifyDPStep(points,markers,sqTolerance,first,last){var maxSqDist=0,index,i,sqDist;for(i=first+1;i<=last-1;i++){sqDist=_sqClosestPointOnSegment(points[i],points[first],points[last],true);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>sqTolerance){markers[index]=1;_simplifyDPStep(points,markers,sqTolerance,first,index);_simplifyDPStep(points,markers,sqTolerance,index,last)}}function _reducePoints(points,sqTolerance){var reducedPoints=[points[0]];for(var i=1,prev=0,len=points.length;i<len;i++)if(_sqDist(points[i],points[prev])>sqTolerance){reducedPoints.push(points[i]);prev=i}if(prev<len-1)reducedPoints.push(points[len-1]);return reducedPoints}var _lastCode;function clipSegment(a,b,bounds,useLastCode,round){var codeA=useLastCode?_lastCode:_getBitCode(a,bounds),codeB=_getBitCode(b,bounds),codeOut,p,newCode;_lastCode=codeB;while(true){if(!(codeA|codeB))return[a,b];if(codeA&codeB)return false;codeOut=codeA||codeB;p=_getEdgeIntersection(a,b,codeOut,bounds,round);newCode=_getBitCode(p,bounds);if(codeOut===codeA){a=p;codeA=newCode}else{b=p;codeB=newCode}}}function _getEdgeIntersection(a,b,code,bounds,round){var dx=b.x-a.x,dy=b.y-a.y,min=bounds.min,max=bounds.max,x,y;if(8&code){x=a.x+dx*(max.y-a.y)/dy;y=max.y}else if(4&code){x=a.x+dx*(min.y-a.y)/dy;y=min.y}else if(2&code){x=max.x;y=a.y+dy*(max.x-a.x)/dx}else if(1&code){x=min.x;y=a.y+dy*(min.x-a.x)/dx}return new Point(x,y,round)}function _getBitCode(p,bounds){var code=0;if(p.x<bounds.min.x)code|=1;else if(p.x>bounds.max.x)code|=2;if(p.y<bounds.min.y)code|=4;else if(p.y>bounds.max.y)code|=8;return code}function _sqDist(p1,p2){var dx=p2.x-p1.x,dy=p2.y-p1.y;return dx*dx+dy*dy}function _sqClosestPointOnSegment(p,p1,p2,sqDist){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y,dot=dx*dx+dy*dy,t;if(dot>0){t=((p.x-x)*dx+(p.y-y)*dy)/dot;if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return sqDist?dx*dx+dy*dy:new Point(x,y)}function isFlat(latlngs){return!isArray(latlngs[0])||"object"!=typeof latlngs[0][0]&&void 0!==latlngs[0][0]}function _flat(latlngs){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return isFlat(latlngs)}function polylineCenter(latlngs,crs){var i,halfDist,segDist,dist,p1,p2,ratio,center;if(!latlngs||0===latlngs.length)throw new Error("latlngs not passed");if(!isFlat(latlngs)){console.warn("latlngs are not flat! Only the first ring will be used");latlngs=latlngs[0]}var centroidLatLng=toLatLng([0,0]);var bounds=toLatLngBounds(latlngs);var areaBounds=bounds.getNorthWest().distanceTo(bounds.getSouthWest())*bounds.getNorthEast().distanceTo(bounds.getNorthWest());if(areaBounds<1700)centroidLatLng=centroid(latlngs);var len=latlngs.length;var points=[];for(i=0;i<len;i++){var latlng=toLatLng(latlngs[i]);points.push(crs.project(toLatLng([latlng.lat-centroidLatLng.lat,latlng.lng-centroidLatLng.lng])))}for(i=0,halfDist=0;i<len-1;i++)halfDist+=points[i].distanceTo(points[i+1])/2;if(0===halfDist)center=points[0];else for(i=0,dist=0;i<len-1;i++){p1=points[i];p2=points[i+1];segDist=p1.distanceTo(p2);dist+=segDist;if(dist>halfDist){ratio=(dist-halfDist)/segDist;center=[p2.x-ratio*(p2.x-p1.x),p2.y-ratio*(p2.y-p1.y)];break}}var latlngCenter=crs.unproject(toPoint(center));return toLatLng([latlngCenter.lat+centroidLatLng.lat,latlngCenter.lng+centroidLatLng.lng])}var LineUtil={__proto__:null,simplify:simplify,pointToSegmentDistance:pointToSegmentDistance,closestPointOnSegment:closestPointOnSegment,clipSegment:clipSegment,_getEdgeIntersection:_getEdgeIntersection,_getBitCode:_getBitCode,_sqClosestPointOnSegment:_sqClosestPointOnSegment,isFlat:isFlat,_flat:_flat,polylineCenter:polylineCenter};var LonLat={project:function(latlng){return new Point(latlng.lng,latlng.lat)},unproject:function(point){return new LatLng(point.y,point.x)},bounds:new Bounds([-180,-90],[180,90])};var Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:new Bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(latlng){var d=Math.PI/180,r=this.R,y=latlng.lat*d,tmp=this.R_MINOR/r,e=Math.sqrt(1-tmp*tmp),con=e*Math.sin(y);var ts=Math.tan(Math.PI/4-y/2)/Math.pow((1-con)/(1+con),e/2);y=-r*Math.log(Math.max(ts,1e-10));return new Point(latlng.lng*d*r,y)},unproject:function(point){var d=180/Math.PI,r=this.R,tmp=this.R_MINOR/r,e=Math.sqrt(1-tmp*tmp),ts=Math.exp(-point.y/r),phi=Math.PI/2-2*Math.atan(ts);for(var i=0,dphi=.1,con;i<15&&Math.abs(dphi)>1e-7;i++){con=e*Math.sin(phi);con=Math.pow((1-con)/(1+con),e/2);dphi=Math.PI/2-2*Math.atan(ts*con)-phi;phi+=dphi}return new LatLng(phi*d,point.x*d/r)}};var index={__proto__:null,LonLat:LonLat,Mercator:Mercator,SphericalMercator:SphericalMercator};var EPSG3395=extend({},Earth,{code:"EPSG:3395",projection:Mercator,transformation:function(){var scale=.5/(Math.PI*Mercator.R);return toTransformation(scale,.5,-scale,.5)}()});var EPSG4326=extend({},Earth,{code:"EPSG:4326",projection:LonLat,transformation:toTransformation(1/180,1,-1/180,.5)});var Simple=extend({},CRS,{projection:LonLat,transformation:toTransformation(1,0,-1,0),scale:function(zoom){return Math.pow(2,zoom)},zoom:function(scale){return Math.log(scale)/Math.LN2},distance:function(latlng1,latlng2){var dx=latlng2.lng-latlng1.lng,dy=latlng2.lat-latlng1.lat;return Math.sqrt(dx*dx+dy*dy)},infinite:true});CRS.Earth=Earth;CRS.EPSG3395=EPSG3395;CRS.EPSG3857=EPSG3857;CRS.EPSG900913=EPSG900913;CRS.EPSG4326=EPSG4326;CRS.Simple=Simple;var Layer=Evented.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:true},addTo:function(map){map.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(obj){if(obj)obj.removeLayer(this);return this},getPane:function(name){return this._map.getPane(name?this.options[name]||name:this.options.pane)},addInteractiveTarget:function(targetEl){this._map._targets[stamp(targetEl)]=this;return this},removeInteractiveTarget:function(targetEl){delete this._map._targets[stamp(targetEl)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var map=e.target;if(!map.hasLayer(this))return;this._map=map;this._zoomAnimated=map._zoomAnimated;if(this.getEvents){var events=this.getEvents();map.on(events,this);this.once("remove",function(){map.off(events,this)},this)}this.onAdd(map);this.fire("add");map.fire("layeradd",{layer:this})}});Map1.include({addLayer:function(layer){if(!layer._layerAdd)throw new Error("The provided object is not a Layer.");var id=stamp(layer);if(this._layers[id])return this;this._layers[id]=layer;layer._mapToAdd=this;if(layer.beforeAdd)layer.beforeAdd(this);this.whenReady(layer._layerAdd,layer);return this},removeLayer:function(layer){var id=stamp(layer);if(!this._layers[id])return this;if(this._loaded)layer.onRemove(this);delete this._layers[id];if(this._loaded){this.fire("layerremove",{layer:layer});layer.fire("remove")}layer._map=layer._mapToAdd=null;return this},hasLayer:function(layer){return stamp(layer)in this._layers},eachLayer:function(method,context){for(var i in this._layers)method.call(context,this._layers[i]);return this},_addLayers:function(layers){layers=layers?isArray(layers)?layers:[layers]:[];for(var i=0,len=layers.length;i<len;i++)this.addLayer(layers[i])},_addZoomLimit:function(layer){if(!isNaN(layer.options.maxZoom)||!isNaN(layer.options.minZoom)){this._zoomBoundLayers[stamp(layer)]=layer;this._updateZoomLevels()}},_removeZoomLimit:function(layer){var id=stamp(layer);if(this._zoomBoundLayers[id]){delete this._zoomBoundLayers[id];this._updateZoomLevels()}},_updateZoomLevels:function(){var minZoom=1/0,maxZoom=-1/0,oldZoomSpan=this._getZoomSpan();for(var i in this._zoomBoundLayers){var options=this._zoomBoundLayers[i].options;minZoom=void 0===options.minZoom?minZoom:Math.min(minZoom,options.minZoom);maxZoom=void 0===options.maxZoom?maxZoom:Math.max(maxZoom,options.maxZoom)}this._layersMaxZoom=maxZoom===-1/0?void 0:maxZoom;this._layersMinZoom=minZoom===1/0?void 0:minZoom;if(oldZoomSpan!==this._getZoomSpan())this.fire("zoomlevelschange");if(void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom)this.setZoom(this._layersMaxZoom);if(void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom)this.setZoom(this._layersMinZoom)}});var LayerGroup=Layer.extend({initialize:function(layers,options){setOptions(this,options);this._layers={};var i,len;if(layers)for(i=0,len=layers.length;i<len;i++)this.addLayer(layers[i])},addLayer:function(layer){var id=this.getLayerId(layer);this._layers[id]=layer;if(this._map)this._map.addLayer(layer);return this},removeLayer:function(layer){var id=layer in this._layers?layer:this.getLayerId(layer);if(this._map&&this._layers[id])this._map.removeLayer(this._layers[id]);delete this._layers[id];return this},hasLayer:function(layer){var layerId="number"==typeof layer?layer:this.getLayerId(layer);return layerId in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(methodName){var args=Array.prototype.slice.call(arguments,1),i,layer;for(i in this._layers){layer=this._layers[i];if(layer[methodName])layer[methodName].apply(layer,args)}return this},onAdd:function(map){this.eachLayer(map.addLayer,map)},onRemove:function(map){this.eachLayer(map.removeLayer,map)},eachLayer:function(method,context){for(var i in this._layers)method.call(context,this._layers[i]);return this},getLayer:function(id){return this._layers[id]},getLayers:function(){var layers=[];this.eachLayer(layers.push,layers);return layers},setZIndex:function(zIndex){return this.invoke("setZIndex",zIndex)},getLayerId:function(layer){return stamp(layer)}});var layerGroup=function(layers,options){return new LayerGroup(layers,options)};var FeatureGroup=LayerGroup.extend({addLayer:function(layer){if(this.hasLayer(layer))return this;layer.addEventParent(this);LayerGroup.prototype.addLayer.call(this,layer);return this.fire("layeradd",{layer:layer})},removeLayer:function(layer){if(!this.hasLayer(layer))return this;if(layer in this._layers)layer=this._layers[layer];layer.removeEventParent(this);LayerGroup.prototype.removeLayer.call(this,layer);return this.fire("layerremove",{layer:layer})},setStyle:function(style){return this.invoke("setStyle",style)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var bounds=new LatLngBounds;for(var id in this._layers){var layer=this._layers[id];bounds.extend(layer.getBounds?layer.getBounds():layer.getLatLng())}return bounds}});var featureGroup=function(layers,options){return new FeatureGroup(layers,options)};var Icon=Class.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:false},initialize:function(options){setOptions(this,options)},createIcon:function(oldIcon){return this._createIcon("icon",oldIcon)},createShadow:function(oldIcon){return this._createIcon("shadow",oldIcon)},_createIcon:function(name,oldIcon){var src=this._getIconUrl(name);if(!src){if("icon"===name)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var img=this._createImg(src,oldIcon&&"IMG"===oldIcon.tagName?oldIcon:null);this._setIconStyles(img,name);if(this.options.crossOrigin||""===this.options.crossOrigin)img.crossOrigin=true===this.options.crossOrigin?"":this.options.crossOrigin;return img},_setIconStyles:function(img,name){var options=this.options;var sizeOption=options[name+"Size"];if("number"==typeof sizeOption)sizeOption=[sizeOption,sizeOption];var size=toPoint(sizeOption),anchor=toPoint("shadow"===name&&options.shadowAnchor||options.iconAnchor||size&&size.divideBy(2,true));img.className="leaflet-marker-"+name+" "+(options.className||"");if(anchor){img.style.marginLeft=-anchor.x+"px";img.style.marginTop=-anchor.y+"px"}if(size){img.style.width=size.x+"px";img.style.height=size.y+"px"}},_createImg:function(src,el){el=el||document.createElement("img");el.src=src;return el},_getIconUrl:function(name){return Browser.retina&&this.options[name+"RetinaUrl"]||this.options[name+"Url"]}});function icon(options){return new Icon(options)}var IconDefault=Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(name){if("string"!=typeof IconDefault.imagePath)IconDefault.imagePath=this._detectIconPath();return(this.options.imagePath||IconDefault.imagePath)+Icon.prototype._getIconUrl.call(this,name)},_stripUrl:function(path){var strip=function(str,re,idx){var match=re.exec(str);return match&&match[idx]};path=strip(path,/^url\((['"])?(.+)\1\)$/,2);return path&&strip(path,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var el=create$1("div","leaflet-default-icon-path",document.body);var path=getStyle(el,"background-image")||getStyle(el,"backgroundImage");document.body.removeChild(el);path=this._stripUrl(path);if(path)return path;var link=document.querySelector('link[href$="leaflet.css"]');if(!link)return"";return link.href.substring(0,link.href.length-11-1)}});var MarkerDrag=Handler.extend({initialize:function(marker){this._marker=marker},addHooks:function(){var icon=this._marker._icon;if(!this._draggable)this._draggable=new Draggable(icon,icon,true);this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();addClass(icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon)removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var marker=this._marker,map=marker._map,speed=this._marker.options.autoPanSpeed,padding=this._marker.options.autoPanPadding,iconPos=getPosition(marker._icon),bounds=map.getPixelBounds(),origin=map.getPixelOrigin();var panBounds=toBounds(bounds.min._subtract(origin).add(padding),bounds.max._subtract(origin).subtract(padding));if(!panBounds.contains(iconPos)){var movement=toPoint((Math.max(panBounds.max.x,iconPos.x)-panBounds.max.x)/(bounds.max.x-panBounds.max.x)-(Math.min(panBounds.min.x,iconPos.x)-panBounds.min.x)/(bounds.min.x-panBounds.min.x),(Math.max(panBounds.max.y,iconPos.y)-panBounds.max.y)/(bounds.max.y-panBounds.max.y)-(Math.min(panBounds.min.y,iconPos.y)-panBounds.min.y)/(bounds.min.y-panBounds.min.y)).multiplyBy(speed);map.panBy(movement,{animate:false});this._draggable._newPos._add(movement);this._draggable._startPos._add(movement);setPosition(marker._icon,this._draggable._newPos);this._onDrag(e);this._panRequest=requestAnimFrame(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup&&this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){if(this._marker.options.autoPan){cancelAnimFrame(this._panRequest);this._panRequest=requestAnimFrame(this._adjustPan.bind(this,e))}},_onDrag:function(e){var marker=this._marker,shadow=marker._shadow,iconPos=getPosition(marker._icon),latlng=marker._map.layerPointToLatLng(iconPos);if(shadow)setPosition(shadow,iconPos);marker._latlng=latlng;e.latlng=latlng;e.oldLatLng=this._oldLatLng;marker.fire("move",e).fire("drag",e)},_onDragEnd:function(e){cancelAnimFrame(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",e)}});var Marker=Layer.extend({options:{icon:new IconDefault,interactive:true,keyboard:true,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:false,autoPanOnFocus:true,draggable:false,autoPan:false,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(latlng,options){setOptions(this,options);this._latlng=toLatLng(latlng)},onAdd:function(map){this._zoomAnimated=this._zoomAnimated&&map.options.markerZoomAnimation;if(this._zoomAnimated)map.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(map){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}delete this.dragging;if(this._zoomAnimated)map.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(latlng){var oldLatLng=this._latlng;this._latlng=toLatLng(latlng);this.update();return this.fire("move",{oldLatLng:oldLatLng,latlng:this._latlng})},setZIndexOffset:function(offset){this.options.zIndexOffset=offset;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(icon){this.options.icon=icon;if(this._map){this._initIcon();this.update()}if(this._popup)this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var pos=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(pos)}return this},_initIcon:function(){var options=this.options,classToAdd="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");var icon=options.icon.createIcon(this._icon),addIcon=false;if(icon!==this._icon){if(this._icon)this._removeIcon();addIcon=true;if(options.title)icon.title=options.title;if("IMG"===icon.tagName)icon.alt=options.alt||""}addClass(icon,classToAdd);if(options.keyboard){icon.tabIndex="0";icon.setAttribute("role","button")}this._icon=icon;if(options.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});if(this.options.autoPanOnFocus)on(icon,"focus",this._panOnFocus,this);var newShadow=options.icon.createShadow(this._shadow),addShadow=false;if(newShadow!==this._shadow){this._removeShadow();addShadow=true}if(newShadow){addClass(newShadow,classToAdd);newShadow.alt=""}this._shadow=newShadow;if(options.opacity<1)this._updateOpacity();if(addIcon)this.getPane().appendChild(this._icon);this._initInteraction();if(newShadow&&addShadow)this.getPane(options.shadowPane).appendChild(this._shadow)},_removeIcon:function(){if(this.options.riseOnHover)this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});if(this.options.autoPanOnFocus)off(this._icon,"focus",this._panOnFocus,this);remove(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow)remove(this._shadow);this._shadow=null},_setPos:function(pos){if(this._icon)setPosition(this._icon,pos);if(this._shadow)setPosition(this._shadow,pos);this._zIndex=pos.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(offset){if(this._icon)this._icon.style.zIndex=this._zIndex+offset},_animateZoom:function(opt){var pos=this._map._latLngToNewLayerPoint(this._latlng,opt.zoom,opt.center).round();this._setPos(pos)},_initInteraction:function(){if(!this.options.interactive)return;addClass(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(MarkerDrag){var draggable=this.options.draggable;if(this.dragging){draggable=this.dragging.enabled();this.dragging.disable()}this.dragging=new MarkerDrag(this);if(draggable)this.dragging.enable()}},setOpacity:function(opacity){this.options.opacity=opacity;if(this._map)this._updateOpacity();return this},_updateOpacity:function(){var opacity=this.options.opacity;if(this._icon)setOpacity(this._icon,opacity);if(this._shadow)setOpacity(this._shadow,opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var map=this._map;if(!map)return;var iconOpts=this.options.icon.options;var size=iconOpts.iconSize?toPoint(iconOpts.iconSize):toPoint(0,0);var anchor=iconOpts.iconAnchor?toPoint(iconOpts.iconAnchor):toPoint(0,0);map.panInside(this._latlng,{paddingTopLeft:anchor,paddingBottomRight:size.subtract(anchor)})},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function marker(latlng,options){return new Marker(latlng,options)}var Path=Layer.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:true,bubblingMouseEvents:true},beforeAdd:function(map){this._renderer=map.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map)this._renderer._updatePath(this);return this},setStyle:function(style){setOptions(this,style);if(this._renderer){this._renderer._updateStyle(this);if(this.options.stroke&&style&&Object.prototype.hasOwnProperty.call(style,"weight"))this._updateBounds()}return this},bringToFront:function(){if(this._renderer)this._renderer._bringToFront(this);return this},bringToBack:function(){if(this._renderer)this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}});var CircleMarker=Path.extend({options:{fill:true,radius:10},initialize:function(latlng,options){setOptions(this,options);this._latlng=toLatLng(latlng);this._radius=this.options.radius},setLatLng:function(latlng){var oldLatLng=this._latlng;this._latlng=toLatLng(latlng);this.redraw();return this.fire("move",{oldLatLng:oldLatLng,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(radius){this.options.radius=this._radius=radius;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(options){var radius=options&&options.radius||this._radius;Path.prototype.setStyle.call(this,options);this.setRadius(radius);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var r=this._radius,r2=this._radiusY||r,w=this._clickTolerance(),p=[r+w,r2+w];this._pxBounds=new Bounds(this._point.subtract(p),this._point.add(p))},_update:function(){if(this._map)this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function circleMarker(latlng,options){return new CircleMarker(latlng,options)}var Circle=CircleMarker.extend({initialize:function(latlng,options,legacyOptions){if("number"==typeof options)options=extend({},legacyOptions,{radius:options});setOptions(this,options);this._latlng=toLatLng(latlng);if(isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(radius){this._mRadius=radius;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var half=[this._radius,this._radiusY||this._radius];return new LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(half)),this._map.layerPointToLatLng(this._point.add(half)))},setStyle:Path.prototype.setStyle,_project:function(){var lng=this._latlng.lng,lat=this._latlng.lat,map=this._map,crs=map.options.crs;if(crs.distance===Earth.distance){var d=Math.PI/180,latR=this._mRadius/Earth.R/d,top=map.project([lat+latR,lng]),bottom=map.project([lat-latR,lng]),p=top.add(bottom).divideBy(2),lat2=map.unproject(p).lat,lngR=Math.acos((Math.cos(latR*d)-Math.sin(lat*d)*Math.sin(lat2*d))/(Math.cos(lat*d)*Math.cos(lat2*d)))/d;if(isNaN(lngR)||0===lngR)lngR=latR/Math.cos(Math.PI/180*lat);this._point=p.subtract(map.getPixelOrigin());this._radius=isNaN(lngR)?0:p.x-map.project([lat2,lng-lngR]).x;this._radiusY=p.y-top.y}else{var latlng2=crs.unproject(crs.project(this._latlng).subtract([this._mRadius,0]));this._point=map.latLngToLayerPoint(this._latlng);this._radius=this._point.x-map.latLngToLayerPoint(latlng2).x}this._updateBounds()}});function circle(latlng,options,legacyOptions){return new Circle(latlng,options,legacyOptions)}var Polyline=Path.extend({options:{smoothFactor:1,noClip:false},initialize:function(latlngs,options){setOptions(this,options);this._setLatLngs(latlngs)},getLatLngs:function(){return this._latlngs},setLatLngs:function(latlngs){this._setLatLngs(latlngs);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){var minDistance=1/0,minPoint=null,closest=_sqClosestPointOnSegment,p1,p2;for(var j=0,jLen=this._parts.length;j<jLen;j++){var points=this._parts[j];for(var i=1,len=points.length;i<len;i++){p1=points[i-1];p2=points[i];var sqDist=closest(p,p1,p2,true);if(sqDist<minDistance){minDistance=sqDist;minPoint=closest(p,p1,p2)}}}if(minPoint)minPoint.distance=Math.sqrt(minDistance);return minPoint},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return polylineCenter(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(latlng,latlngs){latlngs=latlngs||this._defaultShape();latlng=toLatLng(latlng);latlngs.push(latlng);this._bounds.extend(latlng);return this.redraw()},_setLatLngs:function(latlngs){this._bounds=new LatLngBounds;this._latlngs=this._convertLatLngs(latlngs)},_defaultShape:function(){return isFlat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(latlngs){var result=[],flat=isFlat(latlngs);for(var i=0,len=latlngs.length;i<len;i++)if(flat){result[i]=toLatLng(latlngs[i]);this._bounds.extend(result[i])}else result[i]=this._convertLatLngs(latlngs[i]);return result},_project:function(){var pxBounds=new Bounds;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,pxBounds);if(this._bounds.isValid()&&pxBounds.isValid()){this._rawPxBounds=pxBounds;this._updateBounds()}},_updateBounds:function(){var w=this._clickTolerance(),p=new Point(w,w);if(!this._rawPxBounds)return;this._pxBounds=new Bounds([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)])},_projectLatlngs:function(latlngs,result,projectedBounds){var flat=latlngs[0]instanceof LatLng,len=latlngs.length,i,ring;if(flat){ring=[];for(i=0;i<len;i++){ring[i]=this._map.latLngToLayerPoint(latlngs[i]);projectedBounds.extend(ring[i])}result.push(ring)}else for(i=0;i<len;i++)this._projectLatlngs(latlngs[i],result,projectedBounds)},_clipPoints:function(){var bounds=this._renderer._bounds;this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(bounds))return;if(this.options.noClip){this._parts=this._rings;return}var parts=this._parts,i,j,k,len,len2,segment,points;for(i=0,k=0,len=this._rings.length;i<len;i++){points=this._rings[i];for(j=0,len2=points.length;j<len2-1;j++){segment=clipSegment(points[j],points[j+1],bounds,j,true);if(!!segment){parts[k]=parts[k]||[];parts[k].push(segment[0]);if(segment[1]!==points[j+1]||j===len2-2){parts[k].push(segment[1]);k++}}}}},_simplifyPoints:function(){var parts=this._parts,tolerance=this.options.smoothFactor;for(var i=0,len=parts.length;i<len;i++)parts[i]=simplify(parts[i],tolerance)},_update:function(){if(!this._map)return;this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,closed){var i,j,k,len,len2,part,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return false;for(i=0,len=this._parts.length;i<len;i++){part=this._parts[i];for(j=0,len2=part.length,k=len2-1;j<len2;k=j++)if(!!closed||0!==j){if(pointToSegmentDistance(p,part[k],part[j])<=w)return true}}return false}});function polyline(latlngs,options){return new Polyline(latlngs,options)}Polyline._flat=_flat;var Polygon=Polyline.extend({options:{fill:true},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return polygonCenter(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(latlngs){var result=Polyline.prototype._convertLatLngs.call(this,latlngs),len=result.length;if(len>=2&&result[0]instanceof LatLng&&result[0].equals(result[len-1]))result.pop();return result},_setLatLngs:function(latlngs){Polyline.prototype._setLatLngs.call(this,latlngs);if(isFlat(this._latlngs))this._latlngs=[this._latlngs]},_defaultShape:function(){return isFlat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var bounds=this._renderer._bounds,w=this.options.weight,p=new Point(w,w);bounds=new Bounds(bounds.min.subtract(p),bounds.max.add(p));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(bounds))return;if(this.options.noClip){this._parts=this._rings;return}for(var i=0,len=this._rings.length,clipped;i<len;i++){clipped=clipPolygon(this._rings[i],bounds,true);if(clipped.length)this._parts.push(clipped)}},_updatePath:function(){this._renderer._updatePoly(this,true)},_containsPoint:function(p){var inside=false,part,p1,p2,i,j,k,len,len2;if(!this._pxBounds||!this._pxBounds.contains(p))return false;for(i=0,len=this._parts.length;i<len;i++){part=this._parts[i];for(j=0,len2=part.length,k=len2-1;j<len2;k=j++){p1=part[j];p2=part[k];if(p1.y>p.y!==p2.y>p.y&&p.x<(p2.x-p1.x)*(p.y-p1.y)/(p2.y-p1.y)+p1.x)inside=!inside}}return inside||Polyline.prototype._containsPoint.call(this,p,true)}});function polygon(latlngs,options){return new Polygon(latlngs,options)}var GeoJSON=FeatureGroup.extend({initialize:function(geojson,options){setOptions(this,options);this._layers={};if(geojson)this.addData(geojson)},addData:function(geojson){var features=isArray(geojson)?geojson:geojson.features,i,len,feature;if(features){for(i=0,len=features.length;i<len;i++){feature=features[i];if(feature.geometries||feature.geometry||feature.features||feature.coordinates)this.addData(feature)}return this}var options=this.options;if(options.filter&&!options.filter(geojson))return this;var layer=geometryToLayer(geojson,options);if(!layer)return this;layer.feature=asFeature(geojson);layer.defaultOptions=layer.options;this.resetStyle(layer);if(options.onEachFeature)options.onEachFeature(geojson,layer);return this.addLayer(layer)},resetStyle:function(layer){if(void 0===layer)return this.eachLayer(this.resetStyle,this);layer.options=extend({},layer.defaultOptions);this._setLayerStyle(layer,this.options.style);return this},setStyle:function(style){return this.eachLayer(function(layer){this._setLayerStyle(layer,style)},this)},_setLayerStyle:function(layer,style){if(layer.setStyle){if("function"==typeof style)style=style(layer.feature);layer.setStyle(style)}}});function geometryToLayer(geojson,options){var geometry="Feature"===geojson.type?geojson.geometry:geojson,coords=geometry?geometry.coordinates:null,layers=[],pointToLayer=options&&options.pointToLayer,_coordsToLatLng=options&&options.coordsToLatLng||coordsToLatLng,latlng,latlngs,i,len;if(!coords&&!geometry)return null;switch(geometry.type){case"Point":latlng=_coordsToLatLng(coords);return _pointToLayer(pointToLayer,geojson,latlng,options);case"MultiPoint":for(i=0,len=coords.length;i<len;i++){latlng=_coordsToLatLng(coords[i]);layers.push(_pointToLayer(pointToLayer,geojson,latlng,options))}return new FeatureGroup(layers);case"LineString":case"MultiLineString":latlngs=coordsToLatLngs(coords,"LineString"===geometry.type?0:1,_coordsToLatLng);return new Polyline(latlngs,options);case"Polygon":case"MultiPolygon":latlngs=coordsToLatLngs(coords,"Polygon"===geometry.type?1:2,_coordsToLatLng);return new Polygon(latlngs,options);case"GeometryCollection":for(i=0,len=geometry.geometries.length;i<len;i++){var geoLayer=geometryToLayer({geometry:geometry.geometries[i],type:"Feature",properties:geojson.properties},options);if(geoLayer)layers.push(geoLayer)}return new FeatureGroup(layers);case"FeatureCollection":for(i=0,len=geometry.features.length;i<len;i++){var featureLayer=geometryToLayer(geometry.features[i],options);if(featureLayer)layers.push(featureLayer)}return new FeatureGroup(layers);default:throw new Error("Invalid GeoJSON object.")}}function _pointToLayer(pointToLayerFn,geojson,latlng,options){return pointToLayerFn?pointToLayerFn(geojson,latlng):new Marker(latlng,options&&options.markersInheritOptions&&options)}function coordsToLatLng(coords){return new LatLng(coords[1],coords[0],coords[2])}function coordsToLatLngs(coords,levelsDeep,_coordsToLatLng){var latlngs=[];for(var i=0,len=coords.length,latlng;i<len;i++){latlng=levelsDeep?coordsToLatLngs(coords[i],levelsDeep-1,_coordsToLatLng):(_coordsToLatLng||coordsToLatLng)(coords[i]);latlngs.push(latlng)}return latlngs}function latLngToCoords(latlng,precision){latlng=toLatLng(latlng);return void 0!==latlng.alt?[formatNum(latlng.lng,precision),formatNum(latlng.lat,precision),formatNum(latlng.alt,precision)]:[formatNum(latlng.lng,precision),formatNum(latlng.lat,precision)]}function latLngsToCoords(latlngs,levelsDeep,closed,precision){var coords=[];for(var i=0,len=latlngs.length;i<len;i++)coords.push(levelsDeep?latLngsToCoords(latlngs[i],isFlat(latlngs[i])?0:levelsDeep-1,closed,precision):latLngToCoords(latlngs[i],precision));if(!levelsDeep&&closed&&coords.length>0)coords.push(coords[0].slice());return coords}function getFeature(layer,newGeometry){return layer.feature?extend({},layer.feature,{geometry:newGeometry}):asFeature(newGeometry)}function asFeature(geojson){if("Feature"===geojson.type||"FeatureCollection"===geojson.type)return geojson;return{type:"Feature",properties:{},geometry:geojson}}var PointToGeoJSON={toGeoJSON:function(precision){return getFeature(this,{type:"Point",coordinates:latLngToCoords(this.getLatLng(),precision)})}};Marker.include(PointToGeoJSON);Circle.include(PointToGeoJSON);CircleMarker.include(PointToGeoJSON);Polyline.include({toGeoJSON:function(precision){var multi=!isFlat(this._latlngs);var coords=latLngsToCoords(this._latlngs,multi?1:0,false,precision);return getFeature(this,{type:(multi?"Multi":"")+"LineString",coordinates:coords})}});Polygon.include({toGeoJSON:function(precision){var holes=!isFlat(this._latlngs),multi=holes&&!isFlat(this._latlngs[0]);var coords=latLngsToCoords(this._latlngs,multi?2:holes?1:0,true,precision);if(!holes)coords=[coords];return getFeature(this,{type:(multi?"Multi":"")+"Polygon",coordinates:coords})}});LayerGroup.include({toMultiPoint:function(precision){var coords=[];this.eachLayer(function(layer){coords.push(layer.toGeoJSON(precision).geometry.coordinates)});return getFeature(this,{type:"MultiPoint",coordinates:coords})},toGeoJSON:function(precision){var type=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===type)return this.toMultiPoint(precision);var isGeometryCollection="GeometryCollection"===type,jsons=[];this.eachLayer(function(layer){if(layer.toGeoJSON){var json=layer.toGeoJSON(precision);if(isGeometryCollection)jsons.push(json.geometry);else{var feature=asFeature(json);if("FeatureCollection"===feature.type)jsons.push.apply(jsons,feature.features);else jsons.push(feature)}}});if(isGeometryCollection)return getFeature(this,{geometries:jsons,type:"GeometryCollection"});return{type:"FeatureCollection",features:jsons}}});function geoJSON(geojson,options){return new GeoJSON(geojson,options)}var geoJson=geoJSON;var ImageOverlay=Layer.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(url,bounds,options){this._url=url;this._bounds=toLatLngBounds(bounds);setOptions(this,options)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1)this._updateOpacity()}if(this.options.interactive){addClass(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){remove(this._image);if(this.options.interactive)this.removeInteractiveTarget(this._image)},setOpacity:function(opacity){this.options.opacity=opacity;if(this._image)this._updateOpacity();return this},setStyle:function(styleOpts){if(styleOpts.opacity)this.setOpacity(styleOpts.opacity);return this},bringToFront:function(){if(this._map)toFront(this._image);return this},bringToBack:function(){if(this._map)toBack(this._image);return this},setUrl:function(url){this._url=url;if(this._image)this._image.src=url;return this},setBounds:function(bounds){this._bounds=toLatLngBounds(bounds);if(this._map)this._reset();return this},getEvents:function(){var events={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated)events.zoomanim=this._animateZoom;return events},setZIndex:function(value){this.options.zIndex=value;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var wasElementSupplied="IMG"===this._url.tagName;var img=this._image=wasElementSupplied?this._url:create$1("img");addClass(img,"leaflet-image-layer");if(this._zoomAnimated)addClass(img,"leaflet-zoom-animated");if(this.options.className)addClass(img,this.options.className);img.onselectstart=falseFn;img.onmousemove=falseFn;img.onload=bind(this.fire,this,"load");img.onerror=bind(this._overlayOnError,this,"error");if(this.options.crossOrigin||""===this.options.crossOrigin)img.crossOrigin=true===this.options.crossOrigin?"":this.options.crossOrigin;if(this.options.zIndex)this._updateZIndex();if(wasElementSupplied){this._url=img.src;return}img.src=this._url;img.alt=this.options.alt},_animateZoom:function(e){var scale=this._map.getZoomScale(e.zoom),offset=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;setTransform(this._image,offset,scale)},_reset:function(){var image=this._image,bounds=new Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),size=bounds.getSize();setPosition(image,bounds.min);image.style.width=size.x+"px";image.style.height=size.y+"px"},_updateOpacity:function(){setOpacity(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex)this._image.style.zIndex=this.options.zIndex},_overlayOnError:function(){this.fire("error");var errorUrl=this.options.errorOverlayUrl;if(errorUrl&&this._url!==errorUrl){this._url=errorUrl;this._image.src=errorUrl}},getCenter:function(){return this._bounds.getCenter()}});var imageOverlay=function(url,bounds,options){return new ImageOverlay(url,bounds,options)};var VideoOverlay=ImageOverlay.extend({options:{autoplay:true,loop:true,keepAspectRatio:true,muted:false,playsInline:true},_initImage:function(){var wasElementSupplied="VIDEO"===this._url.tagName;var vid=this._image=wasElementSupplied?this._url:create$1("video");addClass(vid,"leaflet-image-layer");if(this._zoomAnimated)addClass(vid,"leaflet-zoom-animated");if(this.options.className)addClass(vid,this.options.className);vid.onselectstart=falseFn;vid.onmousemove=falseFn;vid.onloadeddata=bind(this.fire,this,"load");if(wasElementSupplied){var sourceElements=vid.getElementsByTagName("source");var sources=[];for(var j=0;j<sourceElements.length;j++)sources.push(sourceElements[j].src);this._url=sourceElements.length>0?sources:[vid.src];return}if(!isArray(this._url))this._url=[this._url];if(!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(vid.style,"objectFit"))vid.style["objectFit"]="fill";vid.autoplay=!!this.options.autoplay;vid.loop=!!this.options.loop;vid.muted=!!this.options.muted;vid.playsInline=!!this.options.playsInline;for(var i=0;i<this._url.length;i++){var source=create$1("source");source.src=this._url[i];vid.appendChild(source)}}});function videoOverlay(video,bounds,options){return new VideoOverlay(video,bounds,options)}var SVGOverlay=ImageOverlay.extend({_initImage:function(){var el=this._image=this._url;addClass(el,"leaflet-image-layer");if(this._zoomAnimated)addClass(el,"leaflet-zoom-animated");if(this.options.className)addClass(el,this.options.className);el.onselectstart=falseFn;el.onmousemove=falseFn}});function svgOverlay(el,bounds,options){return new SVGOverlay(el,bounds,options)}var DivOverlay=Layer.extend({options:{interactive:false,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(options,source){if(options&&(options instanceof LatLng||isArray(options))){this._latlng=toLatLng(options);setOptions(this,source)}else{setOptions(this,options);this._source=source}if(this.options.content)this._content=this.options.content},openOn:function(map){map=arguments.length?map:this._source._map;if(!map.hasLayer(this))map.addLayer(this);return this},close:function(){if(this._map)this._map.removeLayer(this);return this},toggle:function(layer){if(this._map)this.close();else{if(arguments.length)this._source=layer;else layer=this._source;this._prepareOpen();this.openOn(layer._map)}return this},onAdd:function(map){this._zoomAnimated=map._zoomAnimated;if(!this._container)this._initLayout();if(map._fadeAnimated)setOpacity(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(map._fadeAnimated)setOpacity(this._container,1);this.bringToFront();if(this.options.interactive){addClass(this._container,"leaflet-interactive");this.addInteractiveTarget(this._container)}},onRemove:function(map){if(map._fadeAnimated){setOpacity(this._container,0);this._removeTimeout=setTimeout(bind(remove,void 0,this._container),200)}else remove(this._container);if(this.options.interactive){removeClass(this._container,"leaflet-interactive");this.removeInteractiveTarget(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(latlng){this._latlng=toLatLng(latlng);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(content){this._content=content;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map)return;this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var events={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated)events.zoomanim=this._animateZoom;return events},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map)toFront(this._container);return this},bringToBack:function(){if(this._map)toBack(this._container);return this},_prepareOpen:function(latlng){var source=this._source;if(!source._map)return false;if(source instanceof FeatureGroup){source=null;var layers=this._source._layers;for(var id in layers)if(layers[id]._map){source=layers[id];break}if(!source)return false;this._source=source}if(!latlng){if(source.getCenter)latlng=source.getCenter();else if(source.getLatLng)latlng=source.getLatLng();else if(source.getBounds)latlng=source.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.")}this.setLatLng(latlng);if(this._map)this.update();return true},_updateContent:function(){if(!this._content)return;var node=this._contentNode;var content="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof content)node.innerHTML=content;else{while(node.hasChildNodes())node.removeChild(node.firstChild);node.appendChild(content)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map)return;var pos=this._map.latLngToLayerPoint(this._latlng),offset=toPoint(this.options.offset),anchor=this._getAnchor();if(this._zoomAnimated)setPosition(this._container,pos.add(anchor));else offset=offset.add(pos).add(anchor);var bottom=this._containerBottom=-offset.y,left=this._containerLeft=-Math.round(this._containerWidth/2)+offset.x;this._container.style.bottom=bottom+"px";this._container.style.left=left+"px"},_getAnchor:function(){return[0,0]}});Map1.include({_initOverlay:function(OverlayClass,content,latlng,options){var overlay=content;if(!(overlay instanceof OverlayClass))overlay=new OverlayClass(options).setContent(content);if(latlng)overlay.setLatLng(latlng);return overlay}});Layer.include({_initOverlay:function(OverlayClass,old,content,options){var overlay=content;if(overlay instanceof OverlayClass){setOptions(overlay,options);overlay._source=this}else{overlay=old&&!options?old:new OverlayClass(options,this);overlay.setContent(content)}return overlay}});var Popup=DivOverlay.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,closeOnEscapeKey:true,className:""},openOn:function(map){map=arguments.length?map:this._source._map;if(!map.hasLayer(this)&&map._popup&&map._popup.options.autoClose)map.removeLayer(map._popup);map._popup=this;return DivOverlay.prototype.openOn.call(this,map)},onAdd:function(map){DivOverlay.prototype.onAdd.call(this,map);map.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof Path))this._source.on("preclick",stopPropagation)}},onRemove:function(map){DivOverlay.prototype.onRemove.call(this,map);map.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof Path))this._source.off("preclick",stopPropagation)}},getEvents:function(){var events=DivOverlay.prototype.getEvents.call(this);if(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)events.preclick=this.close;if(this.options.keepInView)events.moveend=this._adjustPan;return events},_initLayout:function(){var prefix="leaflet-popup",container=this._container=create$1("div",prefix+" "+(this.options.className||"")+" leaflet-zoom-animated");var wrapper=this._wrapper=create$1("div",prefix+"-content-wrapper",container);this._contentNode=create$1("div",prefix+"-content",wrapper);disableClickPropagation(container);disableScrollPropagation(this._contentNode);on(container,"contextmenu",stopPropagation);this._tipContainer=create$1("div",prefix+"-tip-container",container);this._tip=create$1("div",prefix+"-tip",this._tipContainer);if(this.options.closeButton){var closeButton=this._closeButton=create$1("a",prefix+"-close-button",container);closeButton.setAttribute("role","button");closeButton.setAttribute("aria-label","Close popup");closeButton.href="#close";closeButton.innerHTML='<span aria-hidden="true">&#215;</span>';on(closeButton,"click",function(ev){preventDefault(ev);this.close()},this)}},_updateLayout:function(){var container=this._contentNode,style=container.style;style.width="";style.whiteSpace="nowrap";var width=container.offsetWidth;width=Math.min(width,this.options.maxWidth);width=Math.max(width,this.options.minWidth);style.width=width+1+"px";style.whiteSpace="";style.height="";var height=container.offsetHeight,maxHeight=this.options.maxHeight,scrolledClass="leaflet-popup-scrolled";if(maxHeight&&height>maxHeight){style.height=maxHeight+"px";addClass(container,scrolledClass)}else removeClass(container,scrolledClass);this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var pos=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),anchor=this._getAnchor();setPosition(this._container,pos.add(anchor))},_adjustPan:function(){if(!this.options.autoPan)return;if(this._map._panAnim)this._map._panAnim.stop();if(this._autopanning){this._autopanning=false;return}var map=this._map,marginBottom=parseInt(getStyle(this._container,"marginBottom"),10)||0,containerHeight=this._container.offsetHeight+marginBottom,containerWidth=this._containerWidth,layerPos=new Point(this._containerLeft,-containerHeight-this._containerBottom);layerPos._add(getPosition(this._container));var containerPos=map.layerPointToContainerPoint(layerPos),padding=toPoint(this.options.autoPanPadding),paddingTL=toPoint(this.options.autoPanPaddingTopLeft||padding),paddingBR=toPoint(this.options.autoPanPaddingBottomRight||padding),size=map.getSize(),dx=0,dy=0;if(containerPos.x+containerWidth+paddingBR.x>size.x)dx=containerPos.x+containerWidth-size.x+paddingBR.x;if(containerPos.x-dx-paddingTL.x<0)dx=containerPos.x-paddingTL.x;if(containerPos.y+containerHeight+paddingBR.y>size.y)dy=containerPos.y+containerHeight-size.y+paddingBR.y;if(containerPos.y-dy-paddingTL.y<0)dy=containerPos.y-paddingTL.y;if(dx||dy){if(this.options.keepInView)this._autopanning=true;map.fire("autopanstart").panBy([dx,dy])}},_getAnchor:function(){return toPoint(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});var popup=function(options,source){return new Popup(options,source)};Map1.mergeOptions({closePopupOnClick:true});Map1.include({openPopup:function(popup,latlng,options){this._initOverlay(Popup,popup,latlng,options).openOn(this);return this},closePopup:function(popup){popup=arguments.length?popup:this._popup;if(popup)popup.close();return this}});Layer.include({bindPopup:function(content,options){this._popup=this._initOverlay(Popup,this._popup,content,options);if(!this._popupHandlersAdded){this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(latlng){if(this._popup){if(!(this instanceof FeatureGroup))this._popup._source=this;if(this._popup._prepareOpen(latlng||this._latlng))this._popup.openOn(this._map)}return this},closePopup:function(){if(this._popup)this._popup.close();return this},togglePopup:function(){if(this._popup)this._popup.toggle(this);return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():false},setPopupContent:function(content){if(this._popup)this._popup.setContent(content);return this},getPopup:function(){return this._popup},_openPopup:function(e){if(!this._popup||!this._map)return;stop(e);var target=e.layer||e.target;if(this._popup._source===target&&!(target instanceof Path)){if(this._map.hasLayer(this._popup))this.closePopup();else this.openPopup(e.latlng);return}this._popup._source=target;this.openPopup(e.latlng)},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){if(13===e.originalEvent.keyCode)this._openPopup(e)}});var Tooltip=DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,opacity:.9},onAdd:function(map){DivOverlay.prototype.onAdd.call(this,map);this.setOpacity(this.options.opacity);map.fire("tooltipopen",{tooltip:this});if(this._source){this.addEventParent(this._source);this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(map){DivOverlay.prototype.onRemove.call(this,map);map.fire("tooltipclose",{tooltip:this});if(this._source){this.removeEventParent(this._source);this._source.fire("tooltipclose",{tooltip:this},true)}},getEvents:function(){var events=DivOverlay.prototype.getEvents.call(this);if(!this.options.permanent)events.preclick=this.close;return events},_initLayout:function(){var prefix="leaflet-tooltip",className=prefix+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=create$1("div",className);this._container.setAttribute("role","tooltip");this._container.setAttribute("id","leaflet-tooltip-"+stamp(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(pos){var subX,subY,map=this._map,container=this._container,centerPoint=map.latLngToContainerPoint(map.getCenter()),tooltipPoint=map.layerPointToContainerPoint(pos),direction=this.options.direction,tooltipWidth=container.offsetWidth,tooltipHeight=container.offsetHeight,offset=toPoint(this.options.offset),anchor=this._getAnchor();if("top"===direction){subX=tooltipWidth/2;subY=tooltipHeight}else if("bottom"===direction){subX=tooltipWidth/2;subY=0}else if("center"===direction){subX=tooltipWidth/2;subY=tooltipHeight/2}else if("right"===direction){subX=0;subY=tooltipHeight/2}else if("left"===direction){subX=tooltipWidth;subY=tooltipHeight/2}else if(tooltipPoint.x<centerPoint.x){direction="right";subX=0;subY=tooltipHeight/2}else{direction="left";subX=tooltipWidth+(offset.x+anchor.x)*2;subY=tooltipHeight/2}pos=pos.subtract(toPoint(subX,subY,true)).add(offset).add(anchor);removeClass(container,"leaflet-tooltip-right");removeClass(container,"leaflet-tooltip-left");removeClass(container,"leaflet-tooltip-top");removeClass(container,"leaflet-tooltip-bottom");addClass(container,"leaflet-tooltip-"+direction);setPosition(container,pos)},_updatePosition:function(){var pos=this._map.latLngToLayerPoint(this._latlng);this._setPosition(pos)},setOpacity:function(opacity){this.options.opacity=opacity;if(this._container)setOpacity(this._container,opacity)},_animateZoom:function(e){var pos=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(pos)},_getAnchor:function(){return toPoint(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});var tooltip=function(options,source){return new Tooltip(options,source)};Map1.include({openTooltip:function(tooltip,latlng,options){this._initOverlay(Tooltip,tooltip,latlng,options).openOn(this);return this},closeTooltip:function(tooltip){tooltip.close();return this}});Layer.include({bindTooltip:function(content,options){if(this._tooltip&&this.isTooltipOpen())this.unbindTooltip();this._tooltip=this._initOverlay(Tooltip,this._tooltip,content,options);this._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this))this.openTooltip();return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(remove){if(!remove&&this._tooltipHandlersAdded)return;var onOff=remove?"off":"on",events={remove:this.closeTooltip,move:this._moveTooltip};if(this._tooltip.options.permanent)events.add=this._openTooltip;else{events.mouseover=this._openTooltip;events.mouseout=this.closeTooltip;events.click=this._openTooltip;if(this._map)this._addFocusListeners();else events.add=this._addFocusListeners}if(this._tooltip.options.sticky)events.mousemove=this._moveTooltip;this[onOff](events);this._tooltipHandlersAdded=!remove},openTooltip:function(latlng){if(this._tooltip){if(!(this instanceof FeatureGroup))this._tooltip._source=this;if(this._tooltip._prepareOpen(latlng)){this._tooltip.openOn(this._map);if(this.getElement)this._setAriaDescribedByOnLayer(this);else if(this.eachLayer)this.eachLayer(this._setAriaDescribedByOnLayer,this)}}return this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){if(this._tooltip)this._tooltip.toggle(this);return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(content){if(this._tooltip)this._tooltip.setContent(content);return this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){if(this.getElement)this._addFocusListenersOnLayer(this);else if(this.eachLayer)this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(layer){var el="function"==typeof layer.getElement&&layer.getElement();if(el){on(el,"focus",function(){this._tooltip._source=layer;this.openTooltip()},this);on(el,"blur",this.closeTooltip,this)}},_setAriaDescribedByOnLayer:function(layer){var el="function"==typeof layer.getElement&&layer.getElement();if(el)el.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!this._tooltip||!this._map)return;if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=true;var that=this;this._map.once("moveend",function(){that._openOnceFlag=false;that._openTooltip(e)});return}this._tooltip._source=e.layer||e.target;this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var latlng=e.latlng,containerPoint,layerPoint;if(this._tooltip.options.sticky&&e.originalEvent){containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent);layerPoint=this._map.containerPointToLayerPoint(containerPoint);latlng=this._map.layerPointToLatLng(layerPoint)}this._tooltip.setLatLng(latlng)}});var DivIcon=Icon.extend({options:{iconSize:[12,12],html:false,bgPos:null,className:"leaflet-div-icon"},createIcon:function(oldIcon){var div=oldIcon&&"DIV"===oldIcon.tagName?oldIcon:document.createElement("div"),options=this.options;if(options.html instanceof Element){empty(div);div.appendChild(options.html)}else div.innerHTML=false!==options.html?options.html:"";if(options.bgPos){var bgPos=toPoint(options.bgPos);div.style.backgroundPosition=-bgPos.x+"px "+-bgPos.y+"px"}this._setIconStyles(div,"icon");return div},createShadow:function(){return null}});function divIcon(options){return new DivIcon(options)}Icon.Default=IconDefault;var GridLayer=Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Browser.mobile,updateWhenZooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(options){setOptions(this,options)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView()},beforeAdd:function(map){map._addZoomLimit(this)},onRemove:function(map){this._removeAllTiles();remove(this._container);map._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){if(this._map){toFront(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){toBack(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(opacity){this.options.opacity=opacity;this._updateOpacity();return this},setZIndex:function(zIndex){this.options.zIndex=zIndex;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var tileZoom=this._clampZoom(this._map.getZoom());if(tileZoom!==this._tileZoom){this._tileZoom=tileZoom;this._updateLevels()}this._update()}return this},getEvents:function(){var events={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove)this._onMove=throttle(this._onMoveEnd,this.options.updateInterval,this);events.move=this._onMove}if(this._zoomAnimated)events.zoomanim=this._animateZoom;return events},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Point?s:new Point(s,s)},_updateZIndex:function(){if(this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex)this._container.style.zIndex=this.options.zIndex},_setAutoZIndex:function(compare){var layers=this.getPane().children,edgeZIndex=-compare(-1/0,1/0);for(var i=0,len=layers.length,zIndex;i<len;i++){zIndex=layers[i].style.zIndex;if(layers[i]!==this._container&&zIndex)edgeZIndex=compare(edgeZIndex,+zIndex)}if(isFinite(edgeZIndex)){this.options.zIndex=edgeZIndex+compare(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map)return;if(Browser.ielt9)return;setOpacity(this._container,this.options.opacity);var now=+new Date,nextFrame=false,willPrune=false;for(var key in this._tiles){var tile=this._tiles[key];if(!!tile.current&&!!tile.loaded){var fade=Math.min(1,(now-tile.loaded)/200);setOpacity(tile.el,fade);if(fade<1)nextFrame=true;else{if(tile.active)willPrune=true;else this._onOpaqueTile(tile);tile.active=true}}}if(willPrune&&!this._noPrune)this._pruneTiles();if(nextFrame){cancelAnimFrame(this._fadeFrame);this._fadeFrame=requestAnimFrame(this._updateOpacity,this)}},_onOpaqueTile:falseFn,_initContainer:function(){if(this._container)return;this._container=create$1("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if(this.options.opacity<1)this._updateOpacity();this.getPane().appendChild(this._container)},_updateLevels:function(){var zoom=this._tileZoom,maxZoom=this.options.maxZoom;if(void 0===zoom)return;for(var z in this._levels){z=Number(z);if(this._levels[z].el.children.length||z===zoom){this._levels[z].el.style.zIndex=maxZoom-Math.abs(zoom-z);this._onUpdateLevel(z)}else{remove(this._levels[z].el);this._removeTilesAtZoom(z);this._onRemoveLevel(z);delete this._levels[z]}}var level=this._levels[zoom],map=this._map;if(!level){level=this._levels[zoom]={};level.el=create$1("div","leaflet-tile-container leaflet-zoom-animated",this._container);level.el.style.zIndex=maxZoom;level.origin=map.project(map.unproject(map.getPixelOrigin()),zoom).round();level.zoom=zoom;this._setZoomTransform(level,map.getCenter(),map.getZoom());falseFn(level.el.offsetWidth);this._onCreateLevel(level)}this._level=level;return level},_onUpdateLevel:falseFn,_onRemoveLevel:falseFn,_onCreateLevel:falseFn,_pruneTiles:function(){if(!this._map)return;var key,tile;var zoom=this._map.getZoom();if(zoom>this.options.maxZoom||zoom<this.options.minZoom){this._removeAllTiles();return}for(key in this._tiles){tile=this._tiles[key];tile.retain=tile.current}for(key in this._tiles){tile=this._tiles[key];if(tile.current&&!tile.active){var coords=tile.coords;if(!this._retainParent(coords.x,coords.y,coords.z,coords.z-5))this._retainChildren(coords.x,coords.y,coords.z,coords.z+2)}}for(key in this._tiles)if(!this._tiles[key].retain)this._removeTile(key)},_removeTilesAtZoom:function(zoom){for(var key in this._tiles)if(this._tiles[key].coords.z===zoom)this._removeTile(key)},_removeAllTiles:function(){for(var key in this._tiles)this._removeTile(key)},_invalidateAll:function(){for(var z in this._levels){remove(this._levels[z].el);this._onRemoveLevel(Number(z));delete this._levels[z]}this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(x,y,z,minZoom){var x2=Math.floor(x/2),y2=Math.floor(y/2),z2=z-1,coords2=new Point(+x2,+y2);coords2.z=+z2;var key=this._tileCoordsToKey(coords2),tile=this._tiles[key];if(tile&&tile.active){tile.retain=true;return true}if(tile&&tile.loaded)tile.retain=true;if(z2>minZoom)return this._retainParent(x2,y2,z2,minZoom);return false},_retainChildren:function(x,y,z,maxZoom){for(var i=2*x;i<2*x+2;i++)for(var j=2*y;j<2*y+2;j++){var coords=new Point(i,j);coords.z=z+1;var key=this._tileCoordsToKey(coords),tile=this._tiles[key];if(tile&&tile.active){tile.retain=true;continue}if(tile&&tile.loaded)tile.retain=true;if(z+1<maxZoom)this._retainChildren(i,j,z+1,maxZoom)}},_resetView:function(e){var animating=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),animating,animating)},_animateZoom:function(e){this._setView(e.center,e.zoom,true,e.noUpdate)},_clampZoom:function(zoom){var options=this.options;if(void 0!==options.minNativeZoom&&zoom<options.minNativeZoom)return options.minNativeZoom;if(void 0!==options.maxNativeZoom&&options.maxNativeZoom<zoom)return options.maxNativeZoom;return zoom},_setView:function(center,zoom,noPrune,noUpdate){var tileZoom=Math.round(zoom);tileZoom=void 0!==this.options.maxZoom&&tileZoom>this.options.maxZoom||void 0!==this.options.minZoom&&tileZoom<this.options.minZoom?void 0:this._clampZoom(tileZoom);var tileZoomChanged=this.options.updateWhenZooming&&tileZoom!==this._tileZoom;if(!noUpdate||tileZoomChanged){this._tileZoom=tileZoom;if(this._abortLoading)this._abortLoading();this._updateLevels();this._resetGrid();if(void 0!==tileZoom)this._update(center);if(!noPrune)this._pruneTiles();this._noPrune=!!noPrune}this._setZoomTransforms(center,zoom)},_setZoomTransforms:function(center,zoom){for(var i in this._levels)this._setZoomTransform(this._levels[i],center,zoom)},_setZoomTransform:function(level,center,zoom){var scale=this._map.getZoomScale(zoom,level.zoom),translate=level.origin.multiplyBy(scale).subtract(this._map._getNewPixelOrigin(center,zoom)).round();if(Browser.any3d)setTransform(level.el,translate,scale);else setPosition(level.el,translate)},_resetGrid:function(){var map=this._map,crs=map.options.crs,tileSize=this._tileSize=this.getTileSize(),tileZoom=this._tileZoom;var bounds=this._map.getPixelWorldBounds(this._tileZoom);if(bounds)this._globalTileRange=this._pxBoundsToTileRange(bounds);this._wrapX=crs.wrapLng&&!this.options.noWrap&&[Math.floor(map.project([0,crs.wrapLng[0]],tileZoom).x/tileSize.x),Math.ceil(map.project([0,crs.wrapLng[1]],tileZoom).x/tileSize.y)];this._wrapY=crs.wrapLat&&!this.options.noWrap&&[Math.floor(map.project([crs.wrapLat[0],0],tileZoom).y/tileSize.x),Math.ceil(map.project([crs.wrapLat[1],0],tileZoom).y/tileSize.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom)return;this._update()},_getTiledPixelBounds:function(center){var map=this._map,mapZoom=map._animatingZoom?Math.max(map._animateToZoom,map.getZoom()):map.getZoom(),scale=map.getZoomScale(mapZoom,this._tileZoom),pixelCenter=map.project(center,this._tileZoom).floor(),halfSize=map.getSize().divideBy(2*scale);return new Bounds(pixelCenter.subtract(halfSize),pixelCenter.add(halfSize))},_update:function(center){var map=this._map;if(!map)return;var zoom=this._clampZoom(map.getZoom());if(void 0===center)center=map.getCenter();if(void 0===this._tileZoom)return;var pixelBounds=this._getTiledPixelBounds(center),tileRange=this._pxBoundsToTileRange(pixelBounds),tileCenter=tileRange.getCenter(),queue=[],margin=this.options.keepBuffer,noPruneRange=new Bounds(tileRange.getBottomLeft().subtract([margin,-margin]),tileRange.getTopRight().add([margin,-margin]));if(!(isFinite(tileRange.min.x)&&isFinite(tileRange.min.y)&&isFinite(tileRange.max.x)&&isFinite(tileRange.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var key in this._tiles){var c=this._tiles[key].coords;if(c.z!==this._tileZoom||!noPruneRange.contains(new Point(c.x,c.y)))this._tiles[key].current=false}if(Math.abs(zoom-this._tileZoom)>1){this._setView(center,zoom);return}for(var j=tileRange.min.y;j<=tileRange.max.y;j++)for(var i=tileRange.min.x;i<=tileRange.max.x;i++){var coords=new Point(i,j);coords.z=this._tileZoom;if(!!this._isValidTile(coords)){var tile=this._tiles[this._tileCoordsToKey(coords)];if(tile)tile.current=true;else queue.push(coords)}}queue.sort(function(a,b){return a.distanceTo(tileCenter)-b.distanceTo(tileCenter)});if(0!==queue.length){if(!this._loading){this._loading=true;this.fire("loading")}var fragment=document.createDocumentFragment();for(i=0;i<queue.length;i++)this._addTile(queue[i],fragment);this._level.el.appendChild(fragment)}},_isValidTile:function(coords){var crs=this._map.options.crs;if(!crs.infinite){var bounds=this._globalTileRange;if(!crs.wrapLng&&(coords.x<bounds.min.x||coords.x>bounds.max.x)||!crs.wrapLat&&(coords.y<bounds.min.y||coords.y>bounds.max.y))return false}if(!this.options.bounds)return true;var tileBounds=this._tileCoordsToBounds(coords);return toLatLngBounds(this.options.bounds).overlaps(tileBounds)},_keyToBounds:function(key){return this._tileCoordsToBounds(this._keyToTileCoords(key))},_tileCoordsToNwSe:function(coords){var map=this._map,tileSize=this.getTileSize(),nwPoint=coords.scaleBy(tileSize),sePoint=nwPoint.add(tileSize),nw=map.unproject(nwPoint,coords.z),se=map.unproject(sePoint,coords.z);return[nw,se]},_tileCoordsToBounds:function(coords){var bp=this._tileCoordsToNwSe(coords),bounds=new LatLngBounds(bp[0],bp[1]);if(!this.options.noWrap)bounds=this._map.wrapLatLngBounds(bounds);return bounds},_tileCoordsToKey:function(coords){return coords.x+":"+coords.y+":"+coords.z},_keyToTileCoords:function(key){var k=key.split(":"),coords=new Point(+k[0],+k[1]);coords.z=+k[2];return coords},_removeTile:function(key){var tile=this._tiles[key];if(!tile)return;remove(tile.el);delete this._tiles[key];this.fire("tileunload",{tile:tile.el,coords:this._keyToTileCoords(key)})},_initTile:function(tile){addClass(tile,"leaflet-tile");var tileSize=this.getTileSize();tile.style.width=tileSize.x+"px";tile.style.height=tileSize.y+"px";tile.onselectstart=falseFn;tile.onmousemove=falseFn;if(Browser.ielt9&&this.options.opacity<1)setOpacity(tile,this.options.opacity)},_addTile:function(coords,container){var tilePos=this._getTilePos(coords),key=this._tileCoordsToKey(coords);var tile=this.createTile(this._wrapCoords(coords),bind(this._tileReady,this,coords));this._initTile(tile);if(this.createTile.length<2)requestAnimFrame(bind(this._tileReady,this,coords,null,tile));setPosition(tile,tilePos);this._tiles[key]={el:tile,coords:coords,current:true};container.appendChild(tile);this.fire("tileloadstart",{tile:tile,coords:coords})},_tileReady:function(coords,err,tile){if(err)this.fire("tileerror",{error:err,tile:tile,coords:coords});var key=this._tileCoordsToKey(coords);tile=this._tiles[key];if(!tile)return;tile.loaded=+new Date;if(this._map._fadeAnimated){setOpacity(tile.el,0);cancelAnimFrame(this._fadeFrame);this._fadeFrame=requestAnimFrame(this._updateOpacity,this)}else{tile.active=true;this._pruneTiles()}if(!err){addClass(tile.el,"leaflet-tile-loaded");this.fire("tileload",{tile:tile.el,coords:coords})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(Browser.ielt9||!this._map._fadeAnimated)requestAnimFrame(this._pruneTiles,this);else setTimeout(bind(this._pruneTiles,this),250)}},_getTilePos:function(coords){return coords.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(coords){var newCoords=new Point(this._wrapX?wrapNum(coords.x,this._wrapX):coords.x,this._wrapY?wrapNum(coords.y,this._wrapY):coords.y);newCoords.z=coords.z;return newCoords},_pxBoundsToTileRange:function(bounds){var tileSize=this.getTileSize();return new Bounds(bounds.min.unscaleBy(tileSize).floor(),bounds.max.unscaleBy(tileSize).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var key in this._tiles)if(!this._tiles[key].loaded)return false;return true}});function gridLayer(options){return new GridLayer(options)}var TileLayer=GridLayer.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false,referrerPolicy:false},initialize:function(url,options){this._url=url;options=setOptions(this,options);if(options.detectRetina&&Browser.retina&&options.maxZoom>0){options.tileSize=Math.floor(options.tileSize/2);if(options.zoomReverse){options.zoomOffset--;options.minZoom=Math.min(options.maxZoom,options.minZoom+1)}else{options.zoomOffset++;options.maxZoom=Math.max(options.minZoom,options.maxZoom-1)}options.minZoom=Math.max(0,options.minZoom)}else if(options.zoomReverse)options.minZoom=Math.min(options.maxZoom,options.minZoom);else options.maxZoom=Math.max(options.minZoom,options.maxZoom);if("string"==typeof options.subdomains)options.subdomains=options.subdomains.split("");this.on("tileunload",this._onTileRemove)},setUrl:function(url,noRedraw){if(this._url===url&&void 0===noRedraw)noRedraw=true;this._url=url;if(!noRedraw)this.redraw();return this},createTile:function(coords,done){var tile=document.createElement("img");on(tile,"load",bind(this._tileOnLoad,this,done,tile));on(tile,"error",bind(this._tileOnError,this,done,tile));if(this.options.crossOrigin||""===this.options.crossOrigin)tile.crossOrigin=true===this.options.crossOrigin?"":this.options.crossOrigin;if("string"==typeof this.options.referrerPolicy)tile.referrerPolicy=this.options.referrerPolicy;tile.alt="";tile.src=this.getTileUrl(coords);return tile},getTileUrl:function(coords){var data={r:Browser.retina?"@2x":"",s:this._getSubdomain(coords),x:coords.x,y:coords.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var invertedY=this._globalTileRange.max.y-coords.y;if(this.options.tms)data["y"]=invertedY;data["-y"]=invertedY}return template(this._url,extend(data,this.options))},_tileOnLoad:function(done,tile){if(Browser.ielt9)setTimeout(bind(done,this,null,tile),0);else done(null,tile)},_tileOnError:function(done,tile,e){var errorUrl=this.options.errorTileUrl;if(errorUrl&&tile.getAttribute("src")!==errorUrl)tile.src=errorUrl;done(e,tile)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var zoom=this._tileZoom,maxZoom=this.options.maxZoom,zoomReverse=this.options.zoomReverse,zoomOffset=this.options.zoomOffset;if(zoomReverse)zoom=maxZoom-zoom;return zoom+zoomOffset},_getSubdomain:function(tilePoint){var index=Math.abs(tilePoint.x+tilePoint.y)%this.options.subdomains.length;return this.options.subdomains[index]},_abortLoading:function(){var i,tile;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom){tile=this._tiles[i].el;tile.onload=falseFn;tile.onerror=falseFn;if(!tile.complete){tile.src=emptyImageUrl;var coords=this._tiles[i].coords;remove(tile);delete this._tiles[i];this.fire("tileabort",{tile:tile,coords:coords})}}},_removeTile:function(key){var tile=this._tiles[key];if(!tile)return;tile.el.setAttribute("src",emptyImageUrl);return GridLayer.prototype._removeTile.call(this,key)},_tileReady:function(coords,err,tile){if(!this._map||tile&&tile.getAttribute("src")===emptyImageUrl)return;return GridLayer.prototype._tileReady.call(this,coords,err,tile)}});function tileLayer(url,options){return new TileLayer(url,options)}var TileLayerWMS=TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(url,options){this._url=url;var wmsParams=extend({},this.defaultWmsParams);for(var i in options)if(!(i in this.options))wmsParams[i]=options[i];options=setOptions(this,options);var realRetina=options.detectRetina&&Browser.retina?2:1;var tileSize=this.getTileSize();wmsParams.width=tileSize.x*realRetina;wmsParams.height=tileSize.y*realRetina;this.wmsParams=wmsParams},onAdd:function(map){this._crs=this.options.crs||map.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var projectionKey=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[projectionKey]=this._crs.code;TileLayer.prototype.onAdd.call(this,map)},getTileUrl:function(coords){var tileBounds=this._tileCoordsToNwSe(coords),crs=this._crs,bounds=toBounds(crs.project(tileBounds[0]),crs.project(tileBounds[1])),min=bounds.min,max=bounds.max,bbox=(this._wmsVersion>=1.3&&this._crs===EPSG4326?[min.y,min.x,max.y,max.x]:[min.x,min.y,max.x,max.y]).join(","),url=TileLayer.prototype.getTileUrl.call(this,coords);return url+getParamString(this.wmsParams,url,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+bbox},setParams:function(params,noRedraw){extend(this.wmsParams,params);if(!noRedraw)this.redraw();return this}});function tileLayerWMS(url,options){return new TileLayerWMS(url,options)}TileLayer.WMS=TileLayerWMS;tileLayer.wms=tileLayerWMS;var Renderer=Layer.extend({options:{padding:.1},initialize:function(options){setOptions(this,options);stamp(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();addClass(this._container,"leaflet-zoom-animated")}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var events={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated)events.zoomanim=this._onAnimZoom;return events},_onAnimZoom:function(ev){this._updateTransform(ev.center,ev.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(center,zoom){var scale=this._map.getZoomScale(zoom,this._zoom),viewHalf=this._map.getSize().multiplyBy(.5+this.options.padding),currentCenterPoint=this._map.project(this._center,zoom),topLeftOffset=viewHalf.multiplyBy(-scale).add(currentCenterPoint).subtract(this._map._getNewPixelOrigin(center,zoom));if(Browser.any3d)setTransform(this._container,topLeftOffset,scale);else setPosition(this._container,topLeftOffset)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var id in this._layers)this._layers[id]._reset()},_onZoomEnd:function(){for(var id in this._layers)this._layers[id]._project()},_updatePaths:function(){for(var id in this._layers)this._layers[id]._update()},_update:function(){var p=this.options.padding,size=this._map.getSize(),min=this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();this._bounds=new Bounds(min,min.add(size.multiplyBy(1+2*p)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});var Canvas=Renderer.extend({options:{tolerance:0},getEvents:function(){var events=Renderer.prototype.getEvents.call(this);events.viewprereset=this._onViewPreReset;return events},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){Renderer.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var container=this._container=document.createElement("canvas");on(container,"mousemove",this._onMouseMove,this);on(container,"click dblclick mousedown mouseup contextmenu",this._onClick,this);on(container,"mouseout",this._handleMouseOut,this);container["_leaflet_disable_events"]=true;this._ctx=container.getContext("2d")},_destroyContainer:function(){cancelAnimFrame(this._redrawRequest);delete this._ctx;remove(this._container);off(this._container);delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths)return;var layer;this._redrawBounds=null;for(var id in this._layers){layer=this._layers[id];layer._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds)return;Renderer.prototype._update.call(this);var b=this._bounds,container=this._container,size=b.getSize(),m=Browser.retina?2:1;setPosition(container,b.min);container.width=m*size.x;container.height=m*size.y;container.style.width=size.x+"px";container.style.height=size.y+"px";if(Browser.retina)this._ctx.scale(2,2);this._ctx.translate(-b.min.x,-b.min.y);this.fire("update")},_reset:function(){Renderer.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPath:function(layer){this._updateDashArray(layer);this._layers[stamp(layer)]=layer;var order=layer._order={layer:layer,prev:this._drawLast,next:null};if(this._drawLast)this._drawLast.next=order;this._drawLast=order;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(layer){this._requestRedraw(layer)},_removePath:function(layer){var order=layer._order;var next=order.next;var prev=order.prev;if(next)next.prev=prev;else this._drawLast=prev;if(prev)prev.next=next;else this._drawFirst=next;delete layer._order;delete this._layers[stamp(layer)];this._requestRedraw(layer)},_updatePath:function(layer){this._extendRedrawBounds(layer);layer._project();layer._update();this._requestRedraw(layer)},_updateStyle:function(layer){this._updateDashArray(layer);this._requestRedraw(layer)},_updateDashArray:function(layer){if("string"==typeof layer.options.dashArray){var parts=layer.options.dashArray.split(/[, ]+/),dashArray=[],dashValue,i;for(i=0;i<parts.length;i++){dashValue=Number(parts[i]);if(isNaN(dashValue))return;dashArray.push(dashValue)}layer.options._dashArray=dashArray}else layer.options._dashArray=layer.options.dashArray},_requestRedraw:function(layer){if(!this._map)return;this._extendRedrawBounds(layer);this._redrawRequest=this._redrawRequest||requestAnimFrame(this._redraw,this)},_extendRedrawBounds:function(layer){if(layer._pxBounds){var padding=(layer.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Bounds;this._redrawBounds.extend(layer._pxBounds.min.subtract([padding,padding]));this._redrawBounds.extend(layer._pxBounds.max.add([padding,padding]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var bounds=this._redrawBounds;if(bounds){var size=bounds.getSize();this._ctx.clearRect(bounds.min.x,bounds.min.y,size.x,size.y)}else{this._ctx.save();this._ctx.setTransform(1,0,0,1,0,0);this._ctx.clearRect(0,0,this._container.width,this._container.height);this._ctx.restore()}},_draw:function(){var layer,bounds=this._redrawBounds;this._ctx.save();if(bounds){var size=bounds.getSize();this._ctx.beginPath();this._ctx.rect(bounds.min.x,bounds.min.y,size.x,size.y);this._ctx.clip()}this._drawing=true;for(var order=this._drawFirst;order;order=order.next){layer=order.layer;if(!bounds||layer._pxBounds&&layer._pxBounds.intersects(bounds))layer._updatePath()}this._drawing=false;this._ctx.restore()},_updatePoly:function(layer,closed){if(!this._drawing)return;var i,j,len2,p,parts=layer._parts,len=parts.length,ctx=this._ctx;if(!len)return;ctx.beginPath();for(i=0;i<len;i++){for(j=0,len2=parts[i].length;j<len2;j++){p=parts[i][j];ctx[j?"lineTo":"moveTo"](p.x,p.y)}if(closed)ctx.closePath()}this._fillStroke(ctx,layer)},_updateCircle:function(layer){if(!this._drawing||layer._empty())return;var p=layer._point,ctx=this._ctx,r=Math.max(Math.round(layer._radius),1),s=(Math.max(Math.round(layer._radiusY),1)||r)/r;if(1!==s){ctx.save();ctx.scale(1,s)}ctx.beginPath();ctx.arc(p.x,p.y/s,r,0,2*Math.PI,false);if(1!==s)ctx.restore();this._fillStroke(ctx,layer)},_fillStroke:function(ctx,layer){var options=layer.options;if(options.fill){ctx.globalAlpha=options.fillOpacity;ctx.fillStyle=options.fillColor||options.color;ctx.fill(options.fillRule||"evenodd")}if(options.stroke&&0!==options.weight){if(ctx.setLineDash)ctx.setLineDash(layer.options&&layer.options._dashArray||[]);ctx.globalAlpha=options.opacity;ctx.lineWidth=options.weight;ctx.strokeStyle=options.color;ctx.lineCap=options.lineCap;ctx.lineJoin=options.lineJoin;ctx.stroke()}},_onClick:function(e){var point=this._map.mouseEventToLayerPoint(e),layer,clickedLayer;for(var order=this._drawFirst;order;order=order.next){layer=order.layer;if(layer.options.interactive&&layer._containsPoint(point)){if(!("click"===e.type||"preclick"===e.type)||!this._map._draggableMoved(layer))clickedLayer=layer}}this._fireEvent(clickedLayer?[clickedLayer]:false,e)},_onMouseMove:function(e){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom)return;var point=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,point)},_handleMouseOut:function(e){var layer=this._hoveredLayer;if(layer){removeClass(this._container,"leaflet-interactive");this._fireEvent([layer],e,"mouseout");this._hoveredLayer=null;this._mouseHoverThrottled=false}},_handleMouseHover:function(e,point){if(this._mouseHoverThrottled)return;var layer,candidateHoveredLayer;for(var order=this._drawFirst;order;order=order.next){layer=order.layer;if(layer.options.interactive&&layer._containsPoint(point))candidateHoveredLayer=layer}if(candidateHoveredLayer!==this._hoveredLayer){this._handleMouseOut(e);if(candidateHoveredLayer){addClass(this._container,"leaflet-interactive");this._fireEvent([candidateHoveredLayer],e,"mouseover");this._hoveredLayer=candidateHoveredLayer}}this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:false,e);this._mouseHoverThrottled=true;setTimeout(bind(function(){this._mouseHoverThrottled=false},this),32)},_fireEvent:function(layers,e,type){this._map._fireDOMEvent(e,type||e.type,layers)},_bringToFront:function(layer){var order=layer._order;if(!order)return;var next=order.next;var prev=order.prev;if(!next)return;next.prev=prev;if(prev)prev.next=next;else if(next)this._drawFirst=next;order.prev=this._drawLast;this._drawLast.next=order;order.next=null;this._drawLast=order;this._requestRedraw(layer)},_bringToBack:function(layer){var order=layer._order;if(!order)return;var next=order.next;var prev=order.prev;if(!prev)return;prev.next=next;if(next)next.prev=prev;else if(prev)this._drawLast=prev;order.prev=null;order.next=this._drawFirst;this._drawFirst.prev=order;this._drawFirst=order;this._requestRedraw(layer)}});function canvas(options){return Browser.canvas?new Canvas(options):null}var vmlCreate=function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(name){return document.createElement("<lvml:"+name+' class="lvml">')}}catch(e){}return function(name){return document.createElement("<"+name+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}();var vmlMixin={_initContainer:function(){this._container=create$1("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom)return;Renderer.prototype._update.call(this);this.fire("update")},_initPath:function(layer){var container=layer._container=vmlCreate("shape");addClass(container,"leaflet-vml-shape "+(this.options.className||""));container.coordsize="1 1";layer._path=vmlCreate("path");container.appendChild(layer._path);this._updateStyle(layer);this._layers[stamp(layer)]=layer},_addPath:function(layer){var container=layer._container;this._container.appendChild(container);if(layer.options.interactive)layer.addInteractiveTarget(container)},_removePath:function(layer){var container=layer._container;remove(container);layer.removeInteractiveTarget(container);delete this._layers[stamp(layer)]},_updateStyle:function(layer){var stroke=layer._stroke,fill=layer._fill,options=layer.options,container=layer._container;container.stroked=!!options.stroke;container.filled=!!options.fill;if(options.stroke){if(!stroke)stroke=layer._stroke=vmlCreate("stroke");container.appendChild(stroke);stroke.weight=options.weight+"px";stroke.color=options.color;stroke.opacity=options.opacity;if(options.dashArray)stroke.dashStyle=isArray(options.dashArray)?options.dashArray.join(" "):options.dashArray.replace(/( *, *)/g," ");else stroke.dashStyle="";stroke.endcap=options.lineCap.replace("butt","flat");stroke.joinstyle=options.lineJoin}else if(stroke){container.removeChild(stroke);layer._stroke=null}if(options.fill){if(!fill)fill=layer._fill=vmlCreate("fill");container.appendChild(fill);fill.color=options.fillColor||options.color;fill.opacity=options.fillOpacity}else if(fill){container.removeChild(fill);layer._fill=null}},_updateCircle:function(layer){var p=layer._point.round(),r=Math.round(layer._radius),r2=Math.round(layer._radiusY||r);this._setPath(layer,layer._empty()?"M0 0":"AL "+p.x+","+p.y+" "+r+","+r2+" 0,23592600")},_setPath:function(layer,path){layer._path.v=path},_bringToFront:function(layer){toFront(layer._container)},_bringToBack:function(layer){toBack(layer._container)}};var create=Browser.vml?vmlCreate:svgCreate;var SVG=Renderer.extend({_initContainer:function(){this._container=create("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=create("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){remove(this._container);off(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_update:function(){if(this._map._animatingZoom&&this._bounds)return;Renderer.prototype._update.call(this);var b=this._bounds,size=b.getSize(),container=this._container;if(!this._svgSize||!this._svgSize.equals(size)){this._svgSize=size;container.setAttribute("width",size.x);container.setAttribute("height",size.y)}setPosition(container,b.min);container.setAttribute("viewBox",[b.min.x,b.min.y,size.x,size.y].join(" "));this.fire("update")},_initPath:function(layer){var path=layer._path=create("path");if(layer.options.className)addClass(path,layer.options.className);if(layer.options.interactive)addClass(path,"leaflet-interactive");this._updateStyle(layer);this._layers[stamp(layer)]=layer},_addPath:function(layer){if(!this._rootGroup)this._initContainer();this._rootGroup.appendChild(layer._path);layer.addInteractiveTarget(layer._path)},_removePath:function(layer){remove(layer._path);layer.removeInteractiveTarget(layer._path);delete this._layers[stamp(layer)]},_updatePath:function(layer){layer._project();layer._update()},_updateStyle:function(layer){var path=layer._path,options=layer.options;if(!path)return;if(options.stroke){path.setAttribute("stroke",options.color);path.setAttribute("stroke-opacity",options.opacity);path.setAttribute("stroke-width",options.weight);path.setAttribute("stroke-linecap",options.lineCap);path.setAttribute("stroke-linejoin",options.lineJoin);if(options.dashArray)path.setAttribute("stroke-dasharray",options.dashArray);else path.removeAttribute("stroke-dasharray");if(options.dashOffset)path.setAttribute("stroke-dashoffset",options.dashOffset);else path.removeAttribute("stroke-dashoffset")}else path.setAttribute("stroke","none");if(options.fill){path.setAttribute("fill",options.fillColor||options.color);path.setAttribute("fill-opacity",options.fillOpacity);path.setAttribute("fill-rule",options.fillRule||"evenodd")}else path.setAttribute("fill","none")},_updatePoly:function(layer,closed){this._setPath(layer,pointsToPath(layer._parts,closed))},_updateCircle:function(layer){var p=layer._point,r=Math.max(Math.round(layer._radius),1),r2=Math.max(Math.round(layer._radiusY),1)||r,arc="a"+r+","+r2+" 0 1,0 ";var d=layer._empty()?"M0 0":"M"+(p.x-r)+","+p.y+arc+2*r+",0 "+arc+2*-r+",0 ";this._setPath(layer,d)},_setPath:function(layer,path){layer._path.setAttribute("d",path)},_bringToFront:function(layer){toFront(layer._path)},_bringToBack:function(layer){toBack(layer._path)}});if(Browser.vml)SVG.include(vmlMixin);function svg(options){return Browser.svg||Browser.vml?new SVG(options):null}Map1.include({getRenderer:function(layer){var renderer=layer.options.renderer||this._getPaneRenderer(layer.options.pane)||this.options.renderer||this._renderer;if(!renderer)renderer=this._renderer=this._createRenderer();if(!this.hasLayer(renderer))this.addLayer(renderer);return renderer},_getPaneRenderer:function(name){if("overlayPane"===name||void 0===name)return false;var renderer=this._paneRenderers[name];if(void 0===renderer){renderer=this._createRenderer({pane:name});this._paneRenderers[name]=renderer}return renderer},_createRenderer:function(options){return this.options.preferCanvas&&canvas(options)||svg(options)}});var Rectangle=Polygon.extend({initialize:function(latLngBounds,options){Polygon.prototype.initialize.call(this,this._boundsToLatLngs(latLngBounds),options)},setBounds:function(latLngBounds){return this.setLatLngs(this._boundsToLatLngs(latLngBounds))},_boundsToLatLngs:function(latLngBounds){latLngBounds=toLatLngBounds(latLngBounds);return[latLngBounds.getSouthWest(),latLngBounds.getNorthWest(),latLngBounds.getNorthEast(),latLngBounds.getSouthEast()]}});function rectangle(latLngBounds,options){return new Rectangle(latLngBounds,options)}SVG.create=create;SVG.pointsToPath=pointsToPath;GeoJSON.geometryToLayer=geometryToLayer;GeoJSON.coordsToLatLng=coordsToLatLng;GeoJSON.coordsToLatLngs=coordsToLatLngs;GeoJSON.latLngToCoords=latLngToCoords;GeoJSON.latLngsToCoords=latLngsToCoords;GeoJSON.getFeature=getFeature;GeoJSON.asFeature=asFeature;Map1.mergeOptions({boxZoom:true});var BoxZoom=Handler.extend({initialize:function(map){this._map=map;this._container=map._container;this._pane=map._panes.overlayPane;this._resetStateTimeout=0;map.on("unload",this._destroy,this)},addHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){remove(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=false},_clearDeferredResetState:function(){if(0!==this._resetStateTimeout){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return false;this._clearDeferredResetState();this._resetState();disableTextSelection();disableImageDrag();this._startPoint=this._map.mouseEventToContainerPoint(e);on(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){if(!this._moved){this._moved=true;this._box=create$1("div","leaflet-zoom-box",this._container);addClass(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(e);var bounds=new Bounds(this._point,this._startPoint),size=bounds.getSize();setPosition(this._box,bounds.min);this._box.style.width=size.x+"px";this._box.style.height=size.y+"px"},_finish:function(){if(this._moved){remove(this._box);removeClass(this._container,"leaflet-crosshair")}enableTextSelection();enableImageDrag();off(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(1!==e.which&&1!==e.button)return;this._finish();if(!this._moved)return;this._clearDeferredResetState();this._resetStateTimeout=setTimeout(bind(this._resetState,this),0);var bounds=new LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(bounds).fire("boxzoomend",{boxZoomBounds:bounds})},_onKeyDown:function(e){if(27===e.keyCode){this._finish();this._clearDeferredResetState();this._resetState()}}});Map1.addInitHook("addHandler","boxZoom",BoxZoom);Map1.mergeOptions({doubleClickZoom:true});var DoubleClickZoom=Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var map=this._map,oldZoom=map.getZoom(),delta=map.options.zoomDelta,zoom=e.originalEvent.shiftKey?oldZoom-delta:oldZoom+delta;if("center"===map.options.doubleClickZoom)map.setZoom(zoom);else map.setZoomAround(e.containerPoint,zoom)}});Map1.addInitHook("addHandler","doubleClickZoom",DoubleClickZoom);Map1.mergeOptions({dragging:true,inertia:true,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:false,maxBoundsViscosity:0});var Drag=Handler.extend({addHooks:function(){if(!this._draggable){var map=this._map;this._draggable=new Draggable(map._mapPane,map._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(map.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);map.on("zoomend",this._onZoomEnd,this);map.whenReady(this._onZoomEnd,this)}}addClass(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){removeClass(this._map._container,"leaflet-grab");removeClass(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var map=this._map;map._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var bounds=toLatLngBounds(this._map.options.maxBounds);this._offsetLimit=toBounds(this._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;map.fire("movestart").fire("dragstart");if(map.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(e){if(this._map.options.inertia){var time=this._lastTime=+new Date,pos=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(pos);this._times.push(time);this._prunePositions(time)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(time){while(this._positions.length>1&&time-this._times[0]>50){this._positions.shift();this._times.shift()}},_onZoomEnd:function(){var pxCenter=this._map.getSize().divideBy(2),pxWorldCenter=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=pxWorldCenter.subtract(pxCenter).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(value,threshold){return value-(value-threshold)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit)return;var offset=this._draggable._newPos.subtract(this._draggable._startPos);var limit=this._offsetLimit;if(offset.x<limit.min.x)offset.x=this._viscousLimit(offset.x,limit.min.x);if(offset.y<limit.min.y)offset.y=this._viscousLimit(offset.y,limit.min.y);if(offset.x>limit.max.x)offset.x=this._viscousLimit(offset.x,limit.max.x);if(offset.y>limit.max.y)offset.y=this._viscousLimit(offset.y,limit.max.y);this._draggable._newPos=this._draggable._startPos.add(offset)},_onPreDragWrap:function(){var worldWidth=this._worldWidth,halfWidth=Math.round(worldWidth/2),dx=this._initialWorldOffset,x=this._draggable._newPos.x,newX1=(x-halfWidth+dx)%worldWidth+halfWidth-dx,newX2=(x+halfWidth+dx)%worldWidth-halfWidth-dx,newX=Math.abs(newX1+dx)<Math.abs(newX2+dx)?newX1:newX2;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=newX},_onDragEnd:function(e){var map=this._map,options=map.options,noInertia=!options.inertia||e.noInertia||this._times.length<2;map.fire("dragend",e);if(noInertia)map.fire("moveend");else{this._prunePositions(+new Date);var direction=this._lastPos.subtract(this._positions[0]),duration=(this._lastTime-this._times[0])/1e3,ease=options.easeLinearity,speedVector=direction.multiplyBy(ease/duration),speed=speedVector.distanceTo([0,0]),limitedSpeed=Math.min(options.inertiaMaxSpeed,speed),limitedSpeedVector=speedVector.multiplyBy(limitedSpeed/speed),decelerationDuration=limitedSpeed/(options.inertiaDeceleration*ease),offset=limitedSpeedVector.multiplyBy(-decelerationDuration/2).round();if(offset.x||offset.y){offset=map._limitOffset(offset,map.options.maxBounds);requestAnimFrame(function(){map.panBy(offset,{duration:decelerationDuration,easeLinearity:ease,noMoveStart:true,animate:true})})}else map.fire("moveend")}}});Map1.addInitHook("addHandler","dragging",Drag);Map1.mergeOptions({keyboard:true,keyboardPanDelta:80});var Keyboard=Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(map){this._map=map;this._setPanDelta(map.options.keyboardPanDelta);this._setZoomDelta(map.options.zoomDelta)},addHooks:function(){var container=this._map._container;if(container.tabIndex<=0)container.tabIndex="0";on(container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused)return;var body=document.body,docEl=document.documentElement,top=body.scrollTop||docEl.scrollTop,left=body.scrollLeft||docEl.scrollLeft;this._map._container.focus();window.scrollTo(left,top)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(panDelta){var keys=this._panKeys={},codes=this.keyCodes,i,len;for(i=0,len=codes.left.length;i<len;i++)keys[codes.left[i]]=[-1*panDelta,0];for(i=0,len=codes.right.length;i<len;i++)keys[codes.right[i]]=[panDelta,0];for(i=0,len=codes.down.length;i<len;i++)keys[codes.down[i]]=[0,panDelta];for(i=0,len=codes.up.length;i<len;i++)keys[codes.up[i]]=[0,-1*panDelta]},_setZoomDelta:function(zoomDelta){var keys=this._zoomKeys={},codes=this.keyCodes,i,len;for(i=0,len=codes.zoomIn.length;i<len;i++)keys[codes.zoomIn[i]]=zoomDelta;for(i=0,len=codes.zoomOut.length;i<len;i++)keys[codes.zoomOut[i]]=-zoomDelta},_addHooks:function(){on(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){off(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(e.altKey||e.ctrlKey||e.metaKey)return;var key=e.keyCode,map=this._map,offset;if(key in this._panKeys){if(!map._panAnim||!map._panAnim._inProgress){offset=this._panKeys[key];if(e.shiftKey)offset=toPoint(offset).multiplyBy(3);if(map.options.maxBounds)offset=map._limitOffset(toPoint(offset),map.options.maxBounds);if(map.options.worldCopyJump){var newLatLng=map.wrapLatLng(map.unproject(map.project(map.getCenter()).add(offset)));map.panTo(newLatLng)}else map.panBy(offset)}}else if(key in this._zoomKeys)map.setZoom(map.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[key]);else{if(27!==key||!map._popup||!map._popup.options.closeOnEscapeKey)return;map.closePopup()}stop(e)}});Map1.addInitHook("addHandler","keyboard",Keyboard);Map1.mergeOptions({scrollWheelZoom:true,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ScrollWheelZoom=Handler.extend({addHooks:function(){on(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){off(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var delta=getWheelDelta(e);var debounce=this._map.options.wheelDebounceTime;this._delta+=delta;this._lastMousePos=this._map.mouseEventToContainerPoint(e);if(!this._startTime)this._startTime=+new Date;var left=Math.max(debounce-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(bind(this._performZoom,this),left);stop(e)},_performZoom:function(){var map=this._map,zoom=map.getZoom(),snap=this._map.options.zoomSnap||0;map._stop();var d2=this._delta/(4*this._map.options.wheelPxPerZoomLevel),d3=4*Math.log(2/(1+Math.exp(-Math.abs(d2))))/Math.LN2,d4=snap?Math.ceil(d3/snap)*snap:d3,delta=map._limitZoom(zoom+(this._delta>0?d4:-d4))-zoom;this._delta=0;this._startTime=null;if(!delta)return;if("center"===map.options.scrollWheelZoom)map.setZoom(zoom+delta);else map.setZoomAround(this._lastMousePos,zoom+delta)}});Map1.addInitHook("addHandler","scrollWheelZoom",ScrollWheelZoom);var tapHoldDelay=600;Map1.mergeOptions({tapHold:Browser.touchNative&&Browser.safari&&Browser.mobile,tapTolerance:15});var TapHold=Handler.extend({addHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){clearTimeout(this._holdTimeout);if(1!==e.touches.length)return;var first=e.touches[0];this._startPos=this._newPos=new Point(first.clientX,first.clientY);this._holdTimeout=setTimeout(bind(function(){this._cancel();if(!this._isTapValid())return;on(document,"touchend",preventDefault);on(document,"touchend touchcancel",this._cancelClickPrevent);this._simulateEvent("contextmenu",first)},this),tapHoldDelay);on(document,"touchend touchcancel contextmenu",this._cancel,this);on(document,"touchmove",this._onMove,this)},_cancelClickPrevent:function cancelClickPrevent(){off(document,"touchend",preventDefault);off(document,"touchend touchcancel",cancelClickPrevent)},_cancel:function(){clearTimeout(this._holdTimeout);off(document,"touchend touchcancel contextmenu",this._cancel,this);off(document,"touchmove",this._onMove,this)},_onMove:function(e){var first=e.touches[0];this._newPos=new Point(first.clientX,first.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(type,e){var simulatedEvent=new MouseEvent(type,{bubbles:true,cancelable:true,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});simulatedEvent._simulated=true;e.target.dispatchEvent(simulatedEvent)}});Map1.addInitHook("addHandler","tapHold",TapHold);Map1.mergeOptions({touchZoom:Browser.touch,bounceAtZoomLimits:true});var TouchZoom=Handler.extend({addHooks:function(){addClass(this._map._container,"leaflet-touch-zoom");on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){removeClass(this._map._container,"leaflet-touch-zoom");off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var map=this._map;if(!e.touches||2!==e.touches.length||map._animatingZoom||this._zooming)return;var p1=map.mouseEventToContainerPoint(e.touches[0]),p2=map.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=map.getSize()._divideBy(2);this._startLatLng=map.containerPointToLatLng(this._centerPoint);if("center"!==map.options.touchZoom)this._pinchStartLatLng=map.containerPointToLatLng(p1.add(p2)._divideBy(2));this._startDist=p1.distanceTo(p2);this._startZoom=map.getZoom();this._moved=false;this._zooming=true;map._stop();on(document,"touchmove",this._onTouchMove,this);on(document,"touchend touchcancel",this._onTouchEnd,this);preventDefault(e)},_onTouchMove:function(e){if(!e.touches||2!==e.touches.length||!this._zooming)return;var map=this._map,p1=map.mouseEventToContainerPoint(e.touches[0]),p2=map.mouseEventToContainerPoint(e.touches[1]),scale=p1.distanceTo(p2)/this._startDist;this._zoom=map.getScaleZoom(scale,this._startZoom);if(!map.options.bounceAtZoomLimits&&(this._zoom<map.getMinZoom()&&scale<1||this._zoom>map.getMaxZoom()&&scale>1))this._zoom=map._limitZoom(this._zoom);if("center"===map.options.touchZoom){this._center=this._startLatLng;if(1===scale)return}else{var delta=p1._add(p2)._divideBy(2)._subtract(this._centerPoint);if(1===scale&&0===delta.x&&0===delta.y)return;this._center=map.unproject(map.project(this._pinchStartLatLng,this._zoom).subtract(delta),this._zoom)}if(!this._moved){map._moveStart(true,false);this._moved=true}cancelAnimFrame(this._animRequest);var moveFn=bind(map._move,map,this._center,this._zoom,{pinch:true,round:false},void 0);this._animRequest=requestAnimFrame(moveFn,this,true);preventDefault(e)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;cancelAnimFrame(this._animRequest);off(document,"touchmove",this._onTouchMove,this);off(document,"touchend touchcancel",this._onTouchEnd,this);if(this._map.options.zoomAnimation)this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap);else this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Map1.addInitHook("addHandler","touchZoom",TouchZoom);Map1.BoxZoom=BoxZoom;Map1.DoubleClickZoom=DoubleClickZoom;Map1.Drag=Drag;Map1.Keyboard=Keyboard;Map1.ScrollWheelZoom=ScrollWheelZoom;Map1.TapHold=TapHold;Map1.TouchZoom=TouchZoom;exports.Bounds=Bounds;exports.Browser=Browser;exports.CRS=CRS;exports.Canvas=Canvas;exports.Circle=Circle;exports.CircleMarker=CircleMarker;exports.Class=Class;exports.Control=Control;exports.DivIcon=DivIcon;exports.DivOverlay=DivOverlay;exports.DomEvent=DomEvent;exports.DomUtil=DomUtil;exports.Draggable=Draggable;exports.Evented=Evented;exports.FeatureGroup=FeatureGroup;exports.GeoJSON=GeoJSON;exports.GridLayer=GridLayer;exports.Handler=Handler;exports.Icon=Icon;exports.ImageOverlay=ImageOverlay;exports.LatLng=LatLng;exports.LatLngBounds=LatLngBounds;exports.Layer=Layer;exports.LayerGroup=LayerGroup;exports.LineUtil=LineUtil;exports.Map=Map1;exports.Marker=Marker;exports.Mixin=Mixin;exports.Path=Path;exports.Point=Point;exports.PolyUtil=PolyUtil;exports.Polygon=Polygon;exports.Polyline=Polyline;exports.Popup=Popup;exports.PosAnimation=PosAnimation;exports.Projection=index;exports.Rectangle=Rectangle;exports.Renderer=Renderer;exports.SVG=SVG;exports.SVGOverlay=SVGOverlay;exports.TileLayer=TileLayer;exports.Tooltip=Tooltip;exports.Transformation=Transformation;exports.Util=Util;exports.VideoOverlay=VideoOverlay;exports.bind=bind;exports.bounds=toBounds;exports.canvas=canvas;exports.circle=circle;exports.circleMarker=circleMarker;exports.control=control;exports.divIcon=divIcon;exports.extend=extend;exports.featureGroup=featureGroup;exports.geoJSON=geoJSON;exports.geoJson=geoJson;exports.gridLayer=gridLayer;exports.icon=icon;exports.imageOverlay=imageOverlay;exports.latLng=toLatLng;exports.latLngBounds=toLatLngBounds;exports.layerGroup=layerGroup;exports.map=createMap;exports.marker=marker;exports.point=toPoint;exports.polygon=polygon;exports.polyline=polyline;exports.popup=popup;exports.rectangle=rectangle;exports.setOptions=setOptions;exports.stamp=stamp;exports.svg=svg;exports.svgOverlay=svgOverlay;exports.tileLayer=tileLayer;exports.tooltip=tooltip;exports.transformation=toTransformation;exports.version=version;exports.videoOverlay=videoOverlay;var oldL=window.L;exports.noConflict=function(){window.L=oldL;return this};window.L=exports})},4511:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{SV:()=>ErrorBoundary});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6254);"use client";const ErrorBoundaryContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);const initialState={didCatch:false,error:null};class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props);this.resetErrorBoundary=this.resetErrorBoundary.bind(this);this.state=initialState}static getDerivedStateFromError(error){return{didCatch:true,error}}resetErrorBoundary(){const{error}=this.state;if(null!==error){var _this$props$onReset,_this$props;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];null===(_this$props$onReset=(_this$props=this.props).onReset)||void 0===_this$props$onReset||_this$props$onReset.call(_this$props,{args,reason:"imperative-api"});this.setState(initialState)}}componentDidCatch(error,info){var _this$props$onError,_this$props2;null===(_this$props$onError=(_this$props2=this.props).onError)||void 0===_this$props$onError||_this$props$onError.call(_this$props2,error,info)}componentDidUpdate(prevProps,prevState){const{didCatch}=this.state;const{resetKeys}=this.props;if(didCatch&&null!==prevState.error&&hasArrayChanged(prevProps.resetKeys,resetKeys)){var _this$props$onReset2,_this$props3;null===(_this$props$onReset2=(_this$props3=this.props).onReset)||void 0===_this$props$onReset2||_this$props$onReset2.call(_this$props3,{next:resetKeys,prev:prevProps.resetKeys,reason:"keys"});this.setState(initialState)}}render(){const{children,fallbackRender,FallbackComponent,fallback}=this.props;const{didCatch,error}=this.state;let childToRender=children;if(didCatch){const props={error,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof fallbackRender)childToRender=fallbackRender(props);else if(FallbackComponent)childToRender=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(FallbackComponent,props);else if(void 0!==fallback)childToRender=fallback;else throw error}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundaryContext.Provider,{value:{didCatch,error,resetErrorBoundary:this.resetErrorBoundary}},childToRender)}}function hasArrayChanged(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a.length!==b.length||a.some((item,index)=>!Object.is(item,b[index]))}},9672:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>Ch,a0:()=>qu,C:()=>Ce,N:()=>Mo,Y:()=>$t,d:()=>dh,o:()=>wh,z:()=>Pt,F:()=>vt,Q:()=>Pr,g:()=>zs,r:()=>_h,I:()=>Tl,T:()=>Ne,_:()=>Vu,j:()=>gh,u:()=>Ut,a1:()=>Ih,A:()=>ph,L:()=>yh,W:()=>fs,b:()=>$i,m:()=>gc,x:()=>nt,D:()=>Ze,O:()=>Oh,Z:()=>Vt,e:()=>uh,p:()=>Eh,G:()=>_o,R:()=>ch,h:()=>ve,s:()=>hl,a2:()=>Ah,J:()=>Yl,U:()=>Io,k:()=>bh,v:()=>Vo,B:()=>Eo,M:()=>Nh,X:()=>Rh,c:()=>lh,n:()=>xh,y:()=>$e,$:()=>Bu,E:()=>kh,P:()=>fh,f:()=>ThemeControlsModal_DWBaJmrH_oe,q:()=>Sh,H:()=>Dh,S:()=>vh,i:()=>mh,t:()=>jn,K:()=>ThemeControlsModal_DWBaJmrH_rn,V:()=>hh,a:()=>bt,l:()=>mc});var emotion_react_jsx_runtime_browser_esm_Tq_btErF=__webpack_require__(2404);var emotion_styled_base_browser_esm_Dyg8Y4aq=__webpack_require__(455);var index_js_eager_=__webpack_require__(3257);var index_js_eager_namespaceObject=/*#__PURE__*/__webpack_require__.t(index_js_eager_,2);var index_js_=__webpack_require__(3629);var TextField=__webpack_require__(3042);var emotion_react_browser_esm_js_=__webpack_require__(6536);var proxy=__webpack_require__(3167);var jsx_runtime=__webpack_require__(5893);var react_index_js_eager_=__webpack_require__(7771);var LayoutGroupContext=__webpack_require__(4172);var use_constant=__webpack_require__(8217);var use_isomorphic_effect=__webpack_require__(9537);var PresenceContext=__webpack_require__(1717);var MotionConfigContext=__webpack_require__(1353);"use client";class PopChildMeasure extends react_index_js_eager_.Component{getSnapshotBeforeUpdate(prevProps){const element=this.props.childRef.current;if(element&&prevProps.isPresent&&!this.props.isPresent){const parent=element.offsetParent;const parentWidth=parent instanceof HTMLElement?parent.offsetWidth||0:0;const size=this.props.sizeRef.current;size.height=element.offsetHeight||0;size.width=element.offsetWidth||0;size.top=element.offsetTop;size.left=element.offsetLeft;size.right=parentWidth-size.width-size.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children,isPresent,anchorX}){const id=(0,react_index_js_eager_.useId)();const ref=(0,react_index_js_eager_.useRef)(null);const size=(0,react_index_js_eager_.useRef)({width:0,height:0,top:0,left:0,right:0});const{nonce}=(0,react_index_js_eager_.useContext)(MotionConfigContext._);(0,react_index_js_eager_.useInsertionEffect)(()=>{const{width,height,top,left,right}=size.current;if(isPresent||!ref.current||!width||!height)return;const x="left"===anchorX?`left: ${left}`:`right: ${right}`;ref.current.dataset.motionPopId=id;const style=document.createElement("style");if(nonce)style.nonce=nonce;document.head.appendChild(style);if(style.sheet)style.sheet.insertRule(`
          [data-motion-pop-id="${id}"] {
            position: absolute !important;
            width: ${width}px !important;
            height: ${height}px !important;
            ${x}px !important;
            top: ${top}px !important;
          }
        `);return()=>{document.head.removeChild(style)}},[isPresent]);return(0,jsx_runtime.jsx)(PopChildMeasure,{isPresent:isPresent,childRef:ref,sizeRef:size,children:react_index_js_eager_.cloneElement(children,{ref})})}"use client";const PresenceChild=({children,initial,isPresent,onExitComplete,custom,presenceAffectsLayout,mode,anchorX})=>{const presenceChildren=(0,use_constant.h)(newChildrenMap);const id=(0,react_index_js_eager_.useId)();const memoizedOnExitComplete=(0,react_index_js_eager_.useCallback)(childId=>{presenceChildren.set(childId,true);for(const isComplete of presenceChildren.values())if(!isComplete)return;onExitComplete&&onExitComplete()},[presenceChildren,onExitComplete]);const context=(0,react_index_js_eager_.useMemo)(()=>({id,initial,isPresent,custom,onExitComplete:memoizedOnExitComplete,register:childId=>{presenceChildren.set(childId,false);return()=>presenceChildren.delete(childId)}}),presenceAffectsLayout?[Math.random(),memoizedOnExitComplete]:[isPresent,memoizedOnExitComplete]);(0,react_index_js_eager_.useMemo)(()=>{presenceChildren.forEach((_,key)=>presenceChildren.set(key,false))},[isPresent]);react_index_js_eager_.useEffect(()=>{isPresent||presenceChildren.size||!onExitComplete||onExitComplete()},[isPresent]);if("popLayout"===mode)children=(0,jsx_runtime.jsx)(PopChild,{isPresent:isPresent,anchorX:anchorX,children:children});return(0,jsx_runtime.jsx)(PresenceContext.O.Provider,{value:context,children:children})};function newChildrenMap(){return new Map}var use_presence=__webpack_require__(4438);const getChildKey=child=>child.key||"";function onlyElements(children){const filtered=[];react_index_js_eager_.Children.forEach(children,child=>{if((0,react_index_js_eager_.isValidElement)(child))filtered.push(child)});return filtered}"use client";const AnimatePresence=({children,custom,initial=true,onExitComplete,presenceAffectsLayout=true,mode="sync",propagate=false,anchorX="left"})=>{const[isParentPresent,safeToRemove]=(0,use_presence.oO)(propagate);const presentChildren=(0,react_index_js_eager_.useMemo)(()=>onlyElements(children),[children]);const presentKeys=propagate&&!isParentPresent?[]:presentChildren.map(getChildKey);const isInitialRender=(0,react_index_js_eager_.useRef)(true);const pendingPresentChildren=(0,react_index_js_eager_.useRef)(presentChildren);const exitComplete=(0,use_constant.h)(()=>new Map);const[diffedChildren,setDiffedChildren]=(0,react_index_js_eager_.useState)(presentChildren);const[renderedChildren,setRenderedChildren]=(0,react_index_js_eager_.useState)(presentChildren);(0,use_isomorphic_effect.L)(()=>{isInitialRender.current=false;pendingPresentChildren.current=presentChildren;for(let i=0;i<renderedChildren.length;i++){const key=getChildKey(renderedChildren[i]);if(presentKeys.includes(key))exitComplete.delete(key);else if(true!==exitComplete.get(key))exitComplete.set(key,false)}},[renderedChildren,presentKeys.length,presentKeys.join("-")]);const exitingChildren=[];if(presentChildren!==diffedChildren){let nextChildren=[...presentChildren];for(let i=0;i<renderedChildren.length;i++){const child=renderedChildren[i];const key=getChildKey(child);if(!presentKeys.includes(key)){nextChildren.splice(i,0,child);exitingChildren.push(child)}}if("wait"===mode&&exitingChildren.length)nextChildren=exitingChildren;setRenderedChildren(onlyElements(nextChildren));setDiffedChildren(presentChildren);return null}const{forceRender}=(0,react_index_js_eager_.useContext)(LayoutGroupContext.p);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderedChildren.map(child=>{const key=getChildKey(child);const isPresent=propagate&&!isParentPresent?false:presentChildren===renderedChildren||presentKeys.includes(key);const onExit=()=>{if(!exitComplete.has(key))return;exitComplete.set(key,true);let isEveryExitComplete=true;exitComplete.forEach(isExitComplete=>{if(!isExitComplete)isEveryExitComplete=false});if(isEveryExitComplete){null==forceRender||forceRender();setRenderedChildren(pendingPresentChildren.current);propagate&&(null==safeToRemove||safeToRemove());onExitComplete&&onExitComplete()}};return(0,jsx_runtime.jsx)(PresenceChild,{isPresent:isPresent,initial:!isInitialRender.current||initial?void 0:false,custom:custom,presenceAffectsLayout:presenceAffectsLayout,mode:mode,onExitComplete:isPresent?void 0:onExit,anchorX:anchorX,children:child},key)})})};var spring=__webpack_require__(498);var node_modules_react_index_js_eager_=__webpack_require__(8234);var use_long_press_f=/* @__PURE__ */(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(use_long_press_f||{}),use_long_press_l=/* @__PURE__ */(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(use_long_press_l||{});const use_long_press_b=["mousedown","mousemove","mouseup","mouseleave","mouseout"],use_long_press_q=["touchstart","touchmove","touchend","touchcancel"],use_long_press_z=["pointerdown","pointermove","pointerup","pointerleave","pointerout"];function use_long_press_G(e){return"object"==typeof e&&null!==e&&"pageX"in e&&"number"==typeof e.pageX&&"pageY"in e&&"number"==typeof e.pageY}function use_long_press_J(e){var u;return use_long_press_b.includes(null==(u=null==e?void 0:e.nativeEvent)?void 0:u.type)}function use_long_press_U(e){var u;return use_long_press_q.includes(null==(u=null==e?void 0:e.nativeEvent)?void 0:u.type)||"touches"in e}function use_long_press_K(e){const{nativeEvent:u}=e;return u?use_long_press_z.includes(null==u?void 0:u.type)||"pointerId"in u:!1}function use_long_press_D(e){return use_long_press_J(e)||use_long_press_U(e)||use_long_press_K(e)}function use_long_press_A(e){var s;const u=use_long_press_U(e)?null==(s=null==e?void 0:e.touches)?void 0:s[0]:e;return use_long_press_G(u)?{x:u.pageX,y:u.pageY}:null}function use_long_press_N(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}function use_long_press_V(e,{threshold:u=400,captureEvent:s=!1,detect:R=use_long_press_f.Pointer,cancelOnMovement:p=!1,cancelOutsideElement:T=!0,filterEvents:M,onStart:m,onMove:w,onFinish:g,onCancel:h}={}){const L1=(0,node_modules_react_index_js_eager_.useRef)(!1),c=(0,node_modules_react_index_js_eager_.useRef)(!1),H=(0,node_modules_react_index_js_eager_.useRef)(),d=(0,node_modules_react_index_js_eager_.useRef)(),B=(0,node_modules_react_index_js_eager_.useRef)(e),a=(0,node_modules_react_index_js_eager_.useRef)(null),y=(0,node_modules_react_index_js_eager_.useCallback)(r=>t=>{c.current||use_long_press_D(t)&&(void 0===M||M(t))&&(s&&t.persist(),null==m||m(t,{context:r}),a.current=use_long_press_A(t),c.current=!0,H.current=t.currentTarget,d.current=setTimeout(()=>{B.current&&(B.current(t,{context:r}),L1.current=!0)},u))},[s,M,m,u]),o=(0,node_modules_react_index_js_eager_.useCallback)(r=>(t,n)=>{use_long_press_D(t)&&c.current&&(a.current=null,s&&t.persist(),L1.current?null==g||g(t,{context:r}):c.current&&(null==h||h(t,{context:r,reason:n??use_long_press_l.CancelledByRelease})),L1.current=!1,c.current=!1,void 0!==d.current&&clearTimeout(d.current))},[s,g,h]),E=(0,node_modules_react_index_js_eager_.useCallback)(r=>t=>{if(use_long_press_D(t)&&(null==w||w(t,{context:r}),!1!==p&&a.current)){const n=use_long_press_A(t);if(n){const X=!0===p?25:p,Y={x:Math.abs(n.x-a.current.x),y:Math.abs(n.y-a.current.y)};(Y.x>X||Y.y>X)&&o(r)(t,use_long_press_l.CancelledByMovement)}}},[o,p,w]),I=(0,node_modules_react_index_js_eager_.useCallback)(r=>{if(null===e)return{};switch(R){case use_long_press_f.Mouse:{const t={onMouseDown:y(r),onMouseMove:E(r),onMouseUp:o(r)};return T&&(t.onMouseLeave=n=>{o(r)(n,use_long_press_l.CancelledOutsideElement)}),t}case use_long_press_f.Touch:return{onTouchStart:y(r),onTouchMove:E(r),onTouchEnd:o(r)};case use_long_press_f.Pointer:{const t={onPointerDown:y(r),onPointerMove:E(r),onPointerUp:o(r)};return T&&(t.onPointerLeave=n=>o(r)(n,use_long_press_l.CancelledOutsideElement)),t}}},[e,o,T,R,E,y]);return(0,node_modules_react_index_js_eager_.useEffect)(()=>{function r(t){const n=use_long_press_N(t);o()(n)}return window.addEventListener("mouseup",r),window.addEventListener("touchend",r),window.addEventListener("pointerup",r),()=>{window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r),window.removeEventListener("pointerup",r)}},[o]),(0,node_modules_react_index_js_eager_.useEffect)(()=>()=>{void 0!==d.current&&clearTimeout(d.current)},[]),(0,node_modules_react_index_js_eager_.useEffect)(()=>{B.current=e},[e]),I}var lodash=__webpack_require__(6486);var react_error_boundary_esm=__webpack_require__(4511);var react_dom_index_js_eager_=__webpack_require__(4085);var AlarmControls_shared=__webpack_require__(2587);var index_module=__webpack_require__(4697);var breakpoints=__webpack_require__(712);var SvgGraph=__webpack_require__(3836);var Row=__webpack_require__(5246);var Column=__webpack_require__(6962);var iconify=__webpack_require__(4445);var helpers=__webpack_require__(1228);var ClimateControls_data=__webpack_require__(845);const shared_o={auto:["#fff","#f9f9f9"],heat_cool:["#dae8eb","#cd5401"],heat:["#cfac48","#cd5401"],cool:["#dae8eb","#2c8e98"],off:["#848484","#383838"],fan_only:["#fff","#f9f9f9"],dry:["#fff","#ffc0bd"]},shared_f={auto:"var(--ha-300)",heat_cool:"var(--ha-300)",heat:"#cd5401",cool:"#2c8e98",off:"var(--ha-900-contrast)",fan_only:"var(--ha-300)",dry:"#ffc0bd"},shared_a={auto:"mdi:thermometer-auto",heat_cool:"mdi:autorenew",heat:"mdi:fire",cool:"mdi:snowflake",off:"mdi:power",fan_only:"mdi:fan",dry:"mdi:water-percent"};var BigNumber=__webpack_require__(8935);function clamp(v,min,max){return Math.max(min,Math.min(v,max))}const maths_0ab39ae9_esm_V={toVector(v,fallback){if(void 0===v)v=fallback;return Array.isArray(v)?v:[v,v]},add(v1,v2){return[v1[0]+v2[0],v1[1]+v2[1]]},sub(v1,v2){return[v1[0]-v2[0],v1[1]-v2[1]]},addTo(v1,v2){v1[0]+=v2[0];v1[1]+=v2[1]},subTo(v1,v2){v1[0]-=v2[0];v1[1]-=v2[1]}};function maths_0ab39ae9_esm_rubberband(distance,dimension,constant){if(0===dimension||Math.abs(dimension)===1/0)return Math.pow(distance,5*constant);return distance*dimension*constant/(dimension+constant*distance)}function rubberbandIfOutOfBounds(position,min,max,constant=.15){if(0===constant)return clamp(position,min,max);if(position<min)return-maths_0ab39ae9_esm_rubberband(min-position,max-min,constant)+min;if(position>max)return+maths_0ab39ae9_esm_rubberband(position-max,max-min,constant)+max;return position}function computeRubberband(bounds,[Vx,Vy],[Rx,Ry]){const[[X0,X1],[Y0,Y1]]=bounds;return[rubberbandIfOutOfBounds(Vx,X0,X1,Rx),rubberbandIfOutOfBounds(Vy,Y0,Y1,Ry)]}function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return"symbol"==typeof key?key:String(key)}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(string){if(!string)return"";return string[0].toUpperCase()+string.slice(1)}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(capture=false,actionKey){return capture&&!actionsWithoutCaptureSupported.includes(actionKey)}function toHandlerProp(device,action="",capture=false){const deviceProps=EVENT_TYPE_MAP[device];const actionKey=deviceProps?deviceProps[action]||action:action;return"on"+capitalize(device)+capitalize(actionKey)+(hasCapture(capture,actionKey)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(prop){let eventKey=prop.substring(2).toLowerCase();const passive=!!~eventKey.indexOf("passive");if(passive)eventKey=eventKey.replace("passive","");const captureKey=pointerCaptureEvents.includes(eventKey)?"capturecapture":"capture";const capture=!!~eventKey.indexOf(captureKey);if(capture)eventKey=eventKey.replace("capture","");return{device:eventKey,capture,passive}}function toDomEventType(device,action=""){const deviceProps=EVENT_TYPE_MAP[device];const actionKey=deviceProps?deviceProps[action]||action:action;return device+actionKey}function isTouch(event){return"touches"in event}function getPointerType(event){if(isTouch(event))return"touch";if("pointerType"in event)return event.pointerType;return"mouse"}function getCurrentTargetTouchList(event){return Array.from(event.touches).filter(e=>{var _event$currentTarget,_event$currentTarget$;return e.target===event.currentTarget||(null===(_event$currentTarget=event.currentTarget)||void 0===_event$currentTarget||null===(_event$currentTarget$=_event$currentTarget.contains)||void 0===_event$currentTarget$?void 0:_event$currentTarget$.call(_event$currentTarget,e.target))})}function getTouchList(event){return"touchend"===event.type||"touchcancel"===event.type?event.changedTouches:event.targetTouches}function getValueEvent(event){return isTouch(event)?getTouchList(event)[0]:event}function distanceAngle(P1,P2){try{const dx=P2.clientX-P1.clientX;const dy=P2.clientY-P1.clientY;const cx=(P2.clientX+P1.clientX)/2;const cy=(P2.clientY+P1.clientY)/2;const distance=Math.hypot(dx,dy);const angle=-(180*Math.atan2(dx,dy))/Math.PI;const origin=[cx,cy];return{angle,distance,origin}}catch(_unused){}return null}function touchIds(event){return getCurrentTargetTouchList(event).map(touch=>touch.identifier)}function touchDistanceAngle(event,ids){const[P1,P2]=Array.from(event.touches).filter(touch=>ids.includes(touch.identifier));return distanceAngle(P1,P2)}function pointerId(event){const valueEvent=getValueEvent(event);return isTouch(event)?valueEvent.identifier:valueEvent.pointerId}function pointerValues(event){const valueEvent=getValueEvent(event);return[valueEvent.clientX,valueEvent.clientY]}const LINE_HEIGHT=40;const PAGE_HEIGHT=800;function wheelValues(event){let{deltaX,deltaY,deltaMode}=event;if(1===deltaMode){deltaX*=LINE_HEIGHT;deltaY*=LINE_HEIGHT}else if(2===deltaMode){deltaX*=PAGE_HEIGHT;deltaY*=PAGE_HEIGHT}return[deltaX,deltaY]}function scrollValues(event){var _ref,_ref2;const{scrollX,scrollY,scrollLeft,scrollTop}=event.currentTarget;return[null!==(_ref=null!=scrollX?scrollX:scrollLeft)&&void 0!==_ref?_ref:0,null!==(_ref2=null!=scrollY?scrollY:scrollTop)&&void 0!==_ref2?_ref2:0]}function getEventDetails(event){const payload={};if("buttons"in event)payload.buttons=event.buttons;if("shiftKey"in event){const{shiftKey,altKey,metaKey,ctrlKey}=event;Object.assign(payload,{shiftKey,altKey,metaKey,ctrlKey})}return payload}function call(v,...args){if("function"==typeof v)return v(...args);return v}function noop(){}function chain(...fns){if(0===fns.length)return noop;if(1===fns.length)return fns[0];return function(){let result;for(const fn of fns)result=fn.apply(this,arguments)||result;return result}}function assignDefault(value,fallback){return Object.assign({},fallback,value||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class actions_fe213e88_esm_Engine{constructor(ctrl,args,key){this.ctrl=ctrl;this.args=args;this.key=key;if(!this.state){this.state={};this.computeValues([0,0]);this.computeInitial();if(this.init)this.init();this.reset()}}get state(){return this.ctrl.state[this.key]}set state(state){this.ctrl.state[this.key]=state}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state,shared,ingKey,args}=this;shared[ingKey]=state._active=state.active=state._blocked=state._force=false;state._step=[false,false];state.intentional=false;state._movement=[0,0];state._distance=[0,0];state._direction=[0,0];state._delta=[0,0];state._bounds=[[-1/0,1/0],[-1/0,1/0]];state.args=args;state.axis=void 0;state.memo=void 0;state.elapsedTime=state.timeDelta=0;state.direction=[0,0];state.distance=[0,0];state.overflow=[0,0];state._movementBound=[false,false];state.velocity=[0,0];state.movement=[0,0];state.delta=[0,0];state.timeStamp=0}start(event){const state=this.state;const config=this.config;if(!state._active){this.reset();this.computeInitial();state._active=true;state.target=event.target;state.currentTarget=event.currentTarget;state.lastOffset=config.from?call(config.from,state):state.offset;state.offset=state.lastOffset;state.startTime=state.timeStamp=event.timeStamp}}computeValues(values){const state=this.state;state._values=values;state.values=this.config.transform(values)}computeInitial(){const state=this.state;state._initial=state._values;state.initial=state.values}compute(event){const{state,config,shared}=this;state.args=this.args;let dt=0;if(event){state.event=event;if(config.preventDefault&&event.cancelable)state.event.preventDefault();state.type=event.type;shared.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size;shared.locked=!!document.pointerLockElement;Object.assign(shared,getEventDetails(event));shared.down=shared.pressed=shared.buttons%2===1||shared.touches>0;dt=event.timeStamp-state.timeStamp;state.timeStamp=event.timeStamp;state.elapsedTime=state.timeStamp-state.startTime}if(state._active){const _absoluteDelta=state._delta.map(Math.abs);maths_0ab39ae9_esm_V.addTo(state._distance,_absoluteDelta)}if(this.axisIntent)this.axisIntent(event);const[_m0,_m1]=state._movement;const[t0,t1]=config.threshold;const{_step,values}=state;if(config.hasCustomTransform){if(false===_step[0])_step[0]=Math.abs(_m0)>=t0&&values[0];if(false===_step[1])_step[1]=Math.abs(_m1)>=t1&&values[1]}else{if(false===_step[0])_step[0]=Math.abs(_m0)>=t0&&Math.sign(_m0)*t0;if(false===_step[1])_step[1]=Math.abs(_m1)>=t1&&Math.sign(_m1)*t1}state.intentional=false!==_step[0]||false!==_step[1];if(!state.intentional)return;const movement=[0,0];if(config.hasCustomTransform){const[v0,v1]=values;movement[0]=false!==_step[0]?v0-_step[0]:0;movement[1]=false!==_step[1]?v1-_step[1]:0}else{movement[0]=false!==_step[0]?_m0-_step[0]:0;movement[1]=false!==_step[1]?_m1-_step[1]:0}if(this.restrictToAxis&&!state._blocked)this.restrictToAxis(movement);const previousOffset=state.offset;const gestureIsActive=state._active&&!state._blocked||state.active;if(gestureIsActive){state.first=state._active&&!state.active;state.last=!state._active&&state.active;state.active=shared[this.ingKey]=state._active;if(event){if(state.first){if("bounds"in config)state._bounds=call(config.bounds,state);if(this.setup)this.setup()}state.movement=movement;this.computeOffset()}}const[ox,oy]=state.offset;const[[x0,x1],[y0,y1]]=state._bounds;state.overflow=[ox<x0?-1:ox>x1?1:0,oy<y0?-1:oy>y1?1:0];state._movementBound[0]=state.overflow[0]?false===state._movementBound[0]?state._movement[0]:state._movementBound[0]:false;state._movementBound[1]=state.overflow[1]?false===state._movementBound[1]?state._movement[1]:state._movementBound[1]:false;const rubberband=state._active?config.rubberband||[0,0]:[0,0];state.offset=computeRubberband(state._bounds,state.offset,rubberband);state.delta=maths_0ab39ae9_esm_V.sub(state.offset,previousOffset);this.computeMovement();if(gestureIsActive&&(!state.last||dt>BEFORE_LAST_KINEMATICS_DELAY)){state.delta=maths_0ab39ae9_esm_V.sub(state.offset,previousOffset);const absoluteDelta=state.delta.map(Math.abs);maths_0ab39ae9_esm_V.addTo(state.distance,absoluteDelta);state.direction=state.delta.map(Math.sign);state._direction=state._delta.map(Math.sign);if(!state.first&&dt>0){state.velocity=[absoluteDelta[0]/dt,absoluteDelta[1]/dt];state.timeDelta=dt}}}emit(){const state=this.state;const shared=this.shared;const config=this.config;if(!state._active)this.clean();if((state._blocked||!state.intentional)&&!state._force&&!config.triggerAllEvents)return;const memo=this.handler(_objectSpread2(_objectSpread2(_objectSpread2({},shared),state),{},{[this.aliasKey]:state.values}));if(void 0!==memo)state.memo=memo}clean(){this.eventStore.clean();this.timeoutStore.clean()}}function selectAxis([dx,dy],threshold){const absDx=Math.abs(dx);const absDy=Math.abs(dy);if(absDx>absDy&&absDx>threshold)return"x";if(absDy>absDx&&absDy>threshold)return"y"}class CoordinatesEngine extends actions_fe213e88_esm_Engine{constructor(...args){super(...args);_defineProperty(this,"aliasKey","xy")}reset(){super.reset();this.state.axis=void 0}init(){this.state.offset=[0,0];this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=maths_0ab39ae9_esm_V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=maths_0ab39ae9_esm_V.sub(this.state.offset,this.state.lastOffset)}axisIntent(event){const state=this.state;const config=this.config;if(!state.axis&&event){const threshold="object"==typeof config.axisThreshold?config.axisThreshold[getPointerType(event)]:config.axisThreshold;state.axis=selectAxis(state._movement,threshold)}state._blocked=(config.lockDirection||!!config.axis)&&!state.axis||!!config.axis&&config.axis!==state.axis}restrictToAxis(v){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":v[1]=0;break;case"y":v[0]=0;break}}}const identity=v=>v;const DEFAULT_RUBBERBAND=.15;const commonConfigResolver={enabled(value=true){return value},eventOptions(value,_k,config){return _objectSpread2(_objectSpread2({},config.shared.eventOptions),value)},preventDefault(value=false){return value},triggerAllEvents(value=false){return value},rubberband(value=0){switch(value){case true:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case false:return[0,0];default:return maths_0ab39ae9_esm_V.toVector(value)}},from(value){if("function"==typeof value)return value;if(null!=value)return maths_0ab39ae9_esm_V.toVector(value)},transform(value,_k,config){const transform=value||config.shared.transform;this.hasCustomTransform=!!transform;return transform||identity},threshold(value){return maths_0ab39ae9_esm_V.toVector(value,0)}};const DEFAULT_AXIS_THRESHOLD=0;const coordinatesConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{axis(_v,_k,{axis}){this.lockDirection="lock"===axis;if(!this.lockDirection)return axis},axisThreshold(value=DEFAULT_AXIS_THRESHOLD){return value},bounds(value={}){if("function"==typeof value)return state=>coordinatesConfigResolver.bounds(value(state));if("current"in value)return()=>value.current;if("function"==typeof HTMLElement&&value instanceof HTMLElement)return value;const{left=-1/0,right=1/0,top=-1/0,bottom=1/0}=value;return[[left,right],[top,bottom]]}});const KEYS_DELTA_MAP={ArrowRight:(displacement,factor=1)=>[displacement*factor,0],ArrowLeft:(displacement,factor=1)=>[-1*displacement*factor,0],ArrowUp:(displacement,factor=1)=>[0,-1*displacement*factor],ArrowDown:(displacement,factor=1)=>[0,displacement*factor]};class DragEngine extends CoordinatesEngine{constructor(...args){super(...args);_defineProperty(this,"ingKey","dragging")}reset(){super.reset();const state=this.state;state._pointerId=void 0;state._pointerActive=false;state._keyboardActive=false;state._preventScroll=false;state._delayed=false;state.swipe=[0,0];state.tap=false;state.canceled=false;state.cancel=this.cancel.bind(this)}setup(){const state=this.state;if(state._bounds instanceof HTMLElement){const boundRect=state._bounds.getBoundingClientRect();const targetRect=state.currentTarget.getBoundingClientRect();const _bounds={left:boundRect.left-targetRect.left+state.offset[0],right:boundRect.right-targetRect.right+state.offset[0],top:boundRect.top-targetRect.top+state.offset[1],bottom:boundRect.bottom-targetRect.bottom+state.offset[1]};state._bounds=coordinatesConfigResolver.bounds(_bounds)}}cancel(){const state=this.state;if(state.canceled)return;state.canceled=true;state._active=false;setTimeout(()=>{this.compute();this.emit()},0)}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean();this.state._pointerActive=false;this.state._keyboardActive=false;super.clean()}pointerDown(event){const config=this.config;const state=this.state;if(null!=event.buttons&&(Array.isArray(config.pointerButtons)?!config.pointerButtons.includes(event.buttons):-1!==config.pointerButtons&&config.pointerButtons!==event.buttons))return;const ctrlIds=this.ctrl.setEventIds(event);if(config.pointerCapture)event.target.setPointerCapture(event.pointerId);if(ctrlIds&&ctrlIds.size>1&&state._pointerActive)return;this.start(event);this.setupPointer(event);state._pointerId=pointerId(event);state._pointerActive=true;this.computeValues(pointerValues(event));this.computeInitial();if(config.preventScrollAxis&&"mouse"!==getPointerType(event)){state._active=false;this.setupScrollPrevention(event)}else if(config.delay>0){this.setupDelayTrigger(event);if(config.triggerAllEvents){this.compute(event);this.emit()}}else this.startPointerDrag(event)}startPointerDrag(event){const state=this.state;state._active=true;state._preventScroll=true;state._delayed=false;this.compute(event);this.emit()}pointerMove(event){const state=this.state;const config=this.config;if(!state._pointerActive)return;const id=pointerId(event);if(void 0!==state._pointerId&&id!==state._pointerId)return;const _values=pointerValues(event);if(document.pointerLockElement===event.target)state._delta=[event.movementX,event.movementY];else{state._delta=maths_0ab39ae9_esm_V.sub(_values,state._values);this.computeValues(_values)}maths_0ab39ae9_esm_V.addTo(state._movement,state._delta);this.compute(event);if(state._delayed&&state.intentional){this.timeoutStore.remove("dragDelay");state.active=false;this.startPointerDrag(event);return}if(config.preventScrollAxis&&!state._preventScroll){if(!state.axis)return;if(state.axis===config.preventScrollAxis||"xy"===config.preventScrollAxis){state._active=false;this.clean();return}this.timeoutStore.remove("startPointerDrag");this.startPointerDrag(event);return}this.emit()}pointerUp(event){this.ctrl.setEventIds(event);try{if(this.config.pointerCapture&&event.target.hasPointerCapture(event.pointerId))event.target.releasePointerCapture(event.pointerId)}catch(_unused){}const state=this.state;const config=this.config;if(!state._active||!state._pointerActive)return;const id=pointerId(event);if(void 0!==state._pointerId&&id!==state._pointerId)return;this.state._pointerActive=false;this.setActive();this.compute(event);const[dx,dy]=state._distance;state.tap=dx<=config.tapsThreshold&&dy<=config.tapsThreshold;if(state.tap&&config.filterTaps)state._force=true;else{const[_dx,_dy]=state._delta;const[_mx,_my]=state._movement;const[svx,svy]=config.swipe.velocity;const[sx,sy]=config.swipe.distance;const sdt=config.swipe.duration;if(state.elapsedTime<sdt){const _vx=Math.abs(_dx/state.timeDelta);const _vy=Math.abs(_dy/state.timeDelta);if(_vx>svx&&Math.abs(_mx)>sx)state.swipe[0]=Math.sign(_dx);if(_vy>svy&&Math.abs(_my)>sy)state.swipe[1]=Math.sign(_dy)}}this.emit()}pointerClick(event){if(!this.state.tap&&event.detail>0){event.preventDefault();event.stopPropagation()}}setupPointer(event){const config=this.config;const device=config.device;if(config.pointerLock)event.currentTarget.requestPointerLock();if(!config.pointerCapture){this.eventStore.add(this.sharedConfig.window,device,"change",this.pointerMove.bind(this));this.eventStore.add(this.sharedConfig.window,device,"end",this.pointerUp.bind(this));this.eventStore.add(this.sharedConfig.window,device,"cancel",this.pointerUp.bind(this))}}pointerClean(){if(this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget)document.exitPointerLock()}preventScroll(event){if(this.state._preventScroll&&event.cancelable)event.preventDefault()}setupScrollPrevention(event){this.state._preventScroll=false;persistEvent(event);const remove=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:false});this.eventStore.add(this.sharedConfig.window,"touch","end",remove);this.eventStore.add(this.sharedConfig.window,"touch","cancel",remove);this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,event)}setupDelayTrigger(event){this.state._delayed=true;this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0];this.startPointerDrag(event)},this.config.delay)}keyDown(event){const deltaFn=KEYS_DELTA_MAP[event.key];if(deltaFn){const state=this.state;const factor=event.shiftKey?10:event.altKey?.1:1;this.start(event);state._delta=deltaFn(this.config.keyboardDisplacement,factor);state._keyboardActive=true;maths_0ab39ae9_esm_V.addTo(state._movement,state._delta);this.compute(event);this.emit()}}keyUp(event){if(!(event.key in KEYS_DELTA_MAP))return;this.state._keyboardActive=false;this.setActive();this.compute(event);this.emit()}bind(bindFunction){const device=this.config.device;bindFunction(device,"start",this.pointerDown.bind(this));if(this.config.pointerCapture){bindFunction(device,"change",this.pointerMove.bind(this));bindFunction(device,"end",this.pointerUp.bind(this));bindFunction(device,"cancel",this.pointerUp.bind(this));bindFunction("lostPointerCapture","",this.pointerUp.bind(this))}if(this.config.keys){bindFunction("key","down",this.keyDown.bind(this));bindFunction("key","up",this.keyUp.bind(this))}if(this.config.filterTaps)bindFunction("click","",this.pointerClick.bind(this),{capture:true,passive:false})}}function persistEvent(event){"persist"in event&&"function"==typeof event.persist&&event.persist()}const isBrowser="undefined"!=typeof window&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch(e){return false}}const SUPPORT={isBrowser,gesture:supportsGestureEvents(),touch:supportsTouchEvents(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()};const DEFAULT_PREVENT_SCROLL_DELAY=250;const DEFAULT_DRAG_DELAY=180;const DEFAULT_SWIPE_VELOCITY=.5;const DEFAULT_SWIPE_DISTANCE=50;const DEFAULT_SWIPE_DURATION=250;const DEFAULT_KEYBOARD_DISPLACEMENT=10;const DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8};const dragConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{device(_v,_k,{pointer:{touch=false,lock=false,mouse=false}={}}){this.pointerLock=lock&&SUPPORT.pointerLock;if(SUPPORT.touch&&touch)return"touch";if(this.pointerLock)return"mouse";if(SUPPORT.pointer&&!mouse)return"pointer";if(SUPPORT.touch)return"touch";return"mouse"},preventScrollAxis(value,_k,{preventScroll}){this.preventScrollDelay="number"==typeof preventScroll?preventScroll:preventScroll||void 0===preventScroll&&value?DEFAULT_PREVENT_SCROLL_DELAY:void 0;if(!SUPPORT.touchscreen||false===preventScroll)return;return value?value:void 0!==preventScroll?"y":void 0},pointerCapture(_v,_k,{pointer:{capture=true,buttons=1,keys=true}={}}){this.pointerButtons=buttons;this.keys=keys;return!this.pointerLock&&"pointer"===this.device&&capture},threshold(value,_k,{filterTaps=false,tapsThreshold=3,axis}){const threshold=maths_0ab39ae9_esm_V.toVector(value,filterTaps?tapsThreshold:axis?1:0);this.filterTaps=filterTaps;this.tapsThreshold=tapsThreshold;return threshold},swipe({velocity=DEFAULT_SWIPE_VELOCITY,distance=DEFAULT_SWIPE_DISTANCE,duration=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(maths_0ab39ae9_esm_V.toVector(velocity)),distance:this.transform(maths_0ab39ae9_esm_V.toVector(distance)),duration}},delay(value=0){switch(value){case true:return DEFAULT_DRAG_DELAY;case false:return 0;default:return value}},axisThreshold(value){if(!value)return DEFAULT_DRAG_AXIS_THRESHOLD;return _objectSpread2(_objectSpread2({},DEFAULT_DRAG_AXIS_THRESHOLD),value)},keyboardDisplacement(value=DEFAULT_KEYBOARD_DISPLACEMENT){return value}});function clampStateInternalMovementToBounds(state){const[ox,oy]=state.overflow;const[dx,dy]=state._delta;const[dirx,diry]=state._direction;if(ox<0&&dx>0&&dirx<0||ox>0&&dx<0&&dirx>0)state._movement[0]=state._movementBound[0];if(oy<0&&dy>0&&diry<0||oy>0&&dy<0&&diry>0)state._movement[1]=state._movementBound[1]}const SCALE_ANGLE_RATIO_INTENT_DEG=30;const PINCH_WHEEL_RATIO=100;class PinchEngine extends actions_fe213e88_esm_Engine{constructor(...args){super(...args);_defineProperty(this,"ingKey","pinching");_defineProperty(this,"aliasKey","da")}init(){this.state.offset=[1,0];this.state.lastOffset=[1,0];this.state._pointerEvents=new Map}reset(){super.reset();const state=this.state;state._touchIds=[];state.canceled=false;state.cancel=this.cancel.bind(this);state.turns=0}computeOffset(){const{type,movement,lastOffset}=this.state;if("wheel"===type)this.state.offset=maths_0ab39ae9_esm_V.add(movement,lastOffset);else this.state.offset=[(1+movement[0])*lastOffset[0],movement[1]+lastOffset[1]]}computeMovement(){const{offset,lastOffset}=this.state;this.state.movement=[offset[0]/lastOffset[0],offset[1]-lastOffset[1]]}axisIntent(){const state=this.state;const[_m0,_m1]=state._movement;if(!state.axis){const axisMovementDifference=Math.abs(_m0)*SCALE_ANGLE_RATIO_INTENT_DEG-Math.abs(_m1);if(axisMovementDifference<0)state.axis="angle";else if(axisMovementDifference>0)state.axis="scale"}}restrictToAxis(v){if(this.config.lockDirection){if("scale"===this.state.axis)v[1]=0;else if("angle"===this.state.axis)v[0]=0}}cancel(){const state=this.state;if(state.canceled)return;setTimeout(()=>{state.canceled=true;state._active=false;this.compute();this.emit()},0)}touchStart(event){this.ctrl.setEventIds(event);const state=this.state;const ctrlTouchIds=this.ctrl.touchIds;if(state._active){if(state._touchIds.every(id=>ctrlTouchIds.has(id)))return}if(ctrlTouchIds.size<2)return;this.start(event);state._touchIds=Array.from(ctrlTouchIds).slice(0,2);const payload=touchDistanceAngle(event,state._touchIds);if(!payload)return;this.pinchStart(event,payload)}pointerStart(event){if(null!=event.buttons&&event.buttons%2!==1)return;this.ctrl.setEventIds(event);event.target.setPointerCapture(event.pointerId);const state=this.state;const _pointerEvents=state._pointerEvents;const ctrlPointerIds=this.ctrl.pointerIds;if(state._active){if(Array.from(_pointerEvents.keys()).every(id=>ctrlPointerIds.has(id)))return}if(_pointerEvents.size<2)_pointerEvents.set(event.pointerId,event);if(state._pointerEvents.size<2)return;this.start(event);const payload=distanceAngle(...Array.from(_pointerEvents.values()));if(!payload)return;this.pinchStart(event,payload)}pinchStart(event,payload){const state=this.state;state.origin=payload.origin;this.computeValues([payload.distance,payload.angle]);this.computeInitial();this.compute(event);this.emit()}touchMove(event){if(!this.state._active)return;const payload=touchDistanceAngle(event,this.state._touchIds);if(!payload)return;this.pinchMove(event,payload)}pointerMove(event){const _pointerEvents=this.state._pointerEvents;if(_pointerEvents.has(event.pointerId))_pointerEvents.set(event.pointerId,event);if(!this.state._active)return;const payload=distanceAngle(...Array.from(_pointerEvents.values()));if(!payload)return;this.pinchMove(event,payload)}pinchMove(event,payload){const state=this.state;const prev_a=state._values[1];const delta_a=payload.angle-prev_a;let delta_turns=0;if(Math.abs(delta_a)>270)delta_turns+=Math.sign(delta_a);this.computeValues([payload.distance,payload.angle-360*delta_turns]);state.origin=payload.origin;state.turns=delta_turns;state._movement=[state._values[0]/state._initial[0]-1,state._values[1]-state._initial[1]];this.compute(event);this.emit()}touchEnd(event){this.ctrl.setEventIds(event);if(!this.state._active)return;if(this.state._touchIds.some(id=>!this.ctrl.touchIds.has(id))){this.state._active=false;this.compute(event);this.emit()}}pointerEnd(event){const state=this.state;this.ctrl.setEventIds(event);try{event.target.releasePointerCapture(event.pointerId)}catch(_unused){}if(state._pointerEvents.has(event.pointerId))state._pointerEvents.delete(event.pointerId);if(!state._active)return;if(state._pointerEvents.size<2){state._active=false;this.compute(event);this.emit()}}gestureStart(event){if(event.cancelable)event.preventDefault();const state=this.state;if(state._active)return;this.start(event);this.computeValues([event.scale,event.rotation]);state.origin=[event.clientX,event.clientY];this.compute(event);this.emit()}gestureMove(event){if(event.cancelable)event.preventDefault();if(!this.state._active)return;const state=this.state;this.computeValues([event.scale,event.rotation]);state.origin=[event.clientX,event.clientY];const _previousMovement=state._movement;state._movement=[event.scale-1,event.rotation];state._delta=maths_0ab39ae9_esm_V.sub(state._movement,_previousMovement);this.compute(event);this.emit()}gestureEnd(event){if(!this.state._active)return;this.state._active=false;this.compute(event);this.emit()}wheel(event){const modifierKey=this.config.modifierKey;if(modifierKey&&(Array.isArray(modifierKey)?!modifierKey.find(k=>event[k]):!event[modifierKey]))return;if(this.state._active)this.wheelChange(event);else this.wheelStart(event);this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelStart(event){this.start(event);this.wheelChange(event)}wheelChange(event){const isR3f="uv"in event;if(!isR3f){if(event.cancelable)event.preventDefault()}const state=this.state;state._delta=[-wheelValues(event)[1]/PINCH_WHEEL_RATIO*state.offset[0],0];maths_0ab39ae9_esm_V.addTo(state._movement,state._delta);clampStateInternalMovementToBounds(state);this.state.origin=[event.clientX,event.clientY];this.compute(event);this.emit()}wheelEnd(){if(!this.state._active)return;this.state._active=false;this.compute();this.emit()}bind(bindFunction){const device=this.config.device;if(!!device){bindFunction(device,"start",this[device+"Start"].bind(this));bindFunction(device,"change",this[device+"Move"].bind(this));bindFunction(device,"end",this[device+"End"].bind(this));bindFunction(device,"cancel",this[device+"End"].bind(this));bindFunction("lostPointerCapture","",this[device+"End"].bind(this))}if(this.config.pinchOnWheel)bindFunction("wheel","",this.wheel.bind(this),{passive:false})}}const pinchConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{device(_v,_k,{shared,pointer:{touch=false}={}}){const sharedConfig=shared;if(sharedConfig.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&touch)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(_v,_k,{scaleBounds={},angleBounds={}}){const _scaleBounds=state=>{const D=assignDefault(call(scaleBounds,state),{min:-1/0,max:1/0});return[D.min,D.max]};const _angleBounds=state=>{const A=assignDefault(call(angleBounds,state),{min:-1/0,max:1/0});return[A.min,A.max]};if("function"!=typeof scaleBounds&&"function"!=typeof angleBounds)return[_scaleBounds(),_angleBounds()];return state=>[_scaleBounds(state),_angleBounds(state)]},threshold(value,_k,config){this.lockDirection="lock"===config.axis;const threshold=maths_0ab39ae9_esm_V.toVector(value,this.lockDirection?[.1,3]:0);return threshold},modifierKey(value){if(void 0===value)return"ctrlKey";return value},pinchOnWheel(value=true){return value}});class MoveEngine extends CoordinatesEngine{constructor(...args){super(...args);_defineProperty(this,"ingKey","moving")}move(event){if(this.config.mouseOnly&&"mouse"!==event.pointerType)return;if(this.state._active)this.moveChange(event);else this.moveStart(event);this.timeoutStore.add("moveEnd",this.moveEnd.bind(this))}moveStart(event){this.start(event);this.computeValues(pointerValues(event));this.compute(event);this.computeInitial();this.emit()}moveChange(event){if(!this.state._active)return;const values=pointerValues(event);const state=this.state;state._delta=maths_0ab39ae9_esm_V.sub(values,state._values);maths_0ab39ae9_esm_V.addTo(state._movement,state._delta);this.computeValues(values);this.compute(event);this.emit()}moveEnd(event){if(!this.state._active)return;this.state._active=false;this.compute(event);this.emit()}bind(bindFunction){bindFunction("pointer","change",this.move.bind(this));bindFunction("pointer","leave",this.moveEnd.bind(this))}}const moveConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(value=true)=>value});class ScrollEngine extends CoordinatesEngine{constructor(...args){super(...args);_defineProperty(this,"ingKey","scrolling")}scroll(event){if(!this.state._active)this.start(event);this.scrollChange(event);this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(event){if(event.cancelable)event.preventDefault();const state=this.state;const values=scrollValues(event);state._delta=maths_0ab39ae9_esm_V.sub(values,state._values);maths_0ab39ae9_esm_V.addTo(state._movement,state._delta);this.computeValues(values);this.compute(event);this.emit()}scrollEnd(){if(!this.state._active)return;this.state._active=false;this.compute();this.emit()}bind(bindFunction){bindFunction("scroll","",this.scroll.bind(this))}}const scrollConfigResolver=coordinatesConfigResolver;class WheelEngine extends CoordinatesEngine{constructor(...args){super(...args);_defineProperty(this,"ingKey","wheeling")}wheel(event){if(!this.state._active)this.start(event);this.wheelChange(event);this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(event){const state=this.state;state._delta=wheelValues(event);maths_0ab39ae9_esm_V.addTo(state._movement,state._delta);clampStateInternalMovementToBounds(state);this.compute(event);this.emit()}wheelEnd(){if(!this.state._active)return;this.state._active=false;this.compute();this.emit()}bind(bindFunction){bindFunction("wheel","",this.wheel.bind(this))}}const wheelConfigResolver=coordinatesConfigResolver;class HoverEngine extends CoordinatesEngine{constructor(...args){super(...args);_defineProperty(this,"ingKey","hovering")}enter(event){if(this.config.mouseOnly&&"mouse"!==event.pointerType)return;this.start(event);this.computeValues(pointerValues(event));this.compute(event);this.emit()}leave(event){if(this.config.mouseOnly&&"mouse"!==event.pointerType)return;const state=this.state;if(!state._active)return;state._active=false;const values=pointerValues(event);state._movement=state._delta=maths_0ab39ae9_esm_V.sub(values,state._values);this.computeValues(values);this.compute(event);state.delta=state.movement;this.emit()}bind(bindFunction){bindFunction("pointer","enter",this.enter.bind(this));bindFunction("pointer","leave",this.leave.bind(this))}}const hoverConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(value=true)=>value});const EngineMap=new Map;const ConfigResolverMap=new Map;function actions_fe213e88_esm_registerAction(action){EngineMap.set(action.key,action.engine);ConfigResolverMap.set(action.key,action.resolver)}const actions_fe213e88_esm_dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};const actions_fe213e88_esm_hoverAction={key:"hover",engine:HoverEngine,resolver:hoverConfigResolver};const actions_fe213e88_esm_moveAction={key:"move",engine:MoveEngine,resolver:moveConfigResolver};const actions_fe213e88_esm_pinchAction={key:"pinch",engine:PinchEngine,resolver:pinchConfigResolver};const actions_fe213e88_esm_scrollAction={key:"scroll",engine:ScrollEngine,resolver:scrollConfigResolver};const actions_fe213e88_esm_wheelAction={key:"wheel",engine:WheelEngine,resolver:wheelConfigResolver};var hakit_component_test_node_modules_react_index_js_eager_=__webpack_require__(7853);var hakit_component_test_node_modules_react_index_js_eager_default=/*#__PURE__*/__webpack_require__.n(hakit_component_test_node_modules_react_index_js_eager_);function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(!(excluded.indexOf(key)>=0))target[key]=source[key]}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(!(excluded.indexOf(key)>=0)){if(!!Object.prototype.propertyIsEnumerable.call(source,key))target[key]=source[key]}}}return target}const sharedConfigResolver={target(value){if(value)return()=>"current"in value?value.current:value},enabled(value=true){return value},window(value=SUPPORT.isBrowser?window:void 0){return value},eventOptions({passive=true,capture=false}={}){return{passive,capture}},transform(value){return value}};const _excluded=["target","eventOptions","window","enabled","transform"];function resolveWith(config={},resolvers){const result={};for(const[key,resolver]of Object.entries(resolvers))switch(typeof resolver){case"function":result[key]=resolver.call(result,config[key],key,config);break;case"object":result[key]=resolveWith(config[key],resolver);break;case"boolean":if(resolver)result[key]=config[key];break}return result}function parse(newConfig,gestureKey,_config={}){const _ref=newConfig,{target,eventOptions,window:window1,enabled,transform}=_ref,rest=_objectWithoutProperties(_ref,_excluded);_config.shared=resolveWith({target,eventOptions,window:window1,enabled,transform},sharedConfigResolver);if(gestureKey){const resolver=ConfigResolverMap.get(gestureKey);_config[gestureKey]=resolveWith(_objectSpread2({shared:_config.shared},rest),resolver)}else for(const key in rest){const resolver=ConfigResolverMap.get(key);if(resolver)_config[key]=resolveWith(_objectSpread2({shared:_config.shared},rest[key]),resolver)}return _config}class EventStore{constructor(ctrl,gestureKey){_defineProperty(this,"_listeners",new Set);this._ctrl=ctrl;this._gestureKey=gestureKey}add(element,device,action,handler,options){const listeners=this._listeners;const type=toDomEventType(device,action);const _options=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{};const eventOptions=_objectSpread2(_objectSpread2({},_options),options);element.addEventListener(type,handler,eventOptions);const remove=()=>{element.removeEventListener(type,handler,eventOptions);listeners.delete(remove)};listeners.add(remove);return remove}clean(){this._listeners.forEach(remove=>remove());this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty(this,"_timeouts",new Map)}add(key,callback,ms=140,...args){this.remove(key);this._timeouts.set(key,window.setTimeout(callback,ms,...args))}remove(key){const timeout=this._timeouts.get(key);if(timeout)window.clearTimeout(timeout)}clean(){this._timeouts.forEach(timeout=>void window.clearTimeout(timeout));this._timeouts.clear()}}class Controller{constructor(handlers){_defineProperty(this,"gestures",new Set);_defineProperty(this,"_targetEventStore",new EventStore(this));_defineProperty(this,"gestureEventStores",{});_defineProperty(this,"gestureTimeoutStores",{});_defineProperty(this,"handlers",{});_defineProperty(this,"config",{});_defineProperty(this,"pointerIds",new Set);_defineProperty(this,"touchIds",new Set);_defineProperty(this,"state",{shared:{shiftKey:false,metaKey:false,ctrlKey:false,altKey:false}});resolveGestures(this,handlers)}setEventIds(event){if(isTouch(event)){this.touchIds=new Set(touchIds(event));return this.touchIds}if("pointerId"in event){if("pointerup"===event.type||"pointercancel"===event.type)this.pointerIds.delete(event.pointerId);else if("pointerdown"===event.type)this.pointerIds.add(event.pointerId);return this.pointerIds}}applyHandlers(handlers,nativeHandlers){this.handlers=handlers;this.nativeHandlers=nativeHandlers}applyConfig(config,gestureKey){this.config=parse(config,gestureKey,this.config)}clean(){this._targetEventStore.clean();for(const key of this.gestures){this.gestureEventStores[key].clean();this.gestureTimeoutStores[key].clean()}}effect(){if(this.config.shared.target)this.bind();return()=>this._targetEventStore.clean()}bind(...args){const sharedConfig=this.config.shared;const props={};let target;if(sharedConfig.target){target=sharedConfig.target();if(!target)return}if(sharedConfig.enabled){for(const gestureKey of this.gestures){const gestureConfig=this.config[gestureKey];const bindFunction=bindToProps(props,gestureConfig.eventOptions,!!target);if(gestureConfig.enabled){const Engine=EngineMap.get(gestureKey);new Engine(this,args,gestureKey).bind(bindFunction)}}const nativeBindFunction=bindToProps(props,sharedConfig.eventOptions,!!target);for(const eventKey in this.nativeHandlers)nativeBindFunction(eventKey,"",event=>this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({},this.state.shared),{},{event,args})),void 0,true)}for(const handlerProp in props)props[handlerProp]=chain(...props[handlerProp]);if(!target)return props;for(const handlerProp in props){const{device,capture,passive}=parseProp(handlerProp);this._targetEventStore.add(target,device,"",props[handlerProp],{capture,passive})}}}function setupGesture(ctrl,gestureKey){ctrl.gestures.add(gestureKey);ctrl.gestureEventStores[gestureKey]=new EventStore(ctrl,gestureKey);ctrl.gestureTimeoutStores[gestureKey]=new TimeoutStore}function resolveGestures(ctrl,internalHandlers){if(internalHandlers.drag)setupGesture(ctrl,"drag");if(internalHandlers.wheel)setupGesture(ctrl,"wheel");if(internalHandlers.scroll)setupGesture(ctrl,"scroll");if(internalHandlers.move)setupGesture(ctrl,"move");if(internalHandlers.pinch)setupGesture(ctrl,"pinch");if(internalHandlers.hover)setupGesture(ctrl,"hover")}const bindToProps=(props,eventOptions,withPassiveOption)=>(device,action,handler,options={},isNative=false)=>{var _options$capture,_options$passive;const capture=null!==(_options$capture=options.capture)&&void 0!==_options$capture?_options$capture:eventOptions.capture;const passive=null!==(_options$passive=options.passive)&&void 0!==_options$passive?_options$passive:eventOptions.passive;let handlerProp=isNative?device:toHandlerProp(device,action,capture);if(withPassiveOption&&passive)handlerProp+="Passive";props[handlerProp]=props[handlerProp]||[];props[handlerProp].push(handler)};const RE_NOT_NATIVE=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function sortHandlers(_handlers){const native={};const handlers={};const actions=new Set;for(let key in _handlers)if(RE_NOT_NATIVE.test(key)){actions.add(RegExp.lastMatch);handlers[key]=_handlers[key]}else native[key]=_handlers[key];return[handlers,native,actions]}function registerGesture(actions,handlers,handlerKey,key,internalHandlers,config){if(!actions.has(handlerKey))return;if(!EngineMap.has(key))return;const startKey=handlerKey+"Start";const endKey=handlerKey+"End";const fn=state=>{let memo;if(state.first&&startKey in handlers)handlers[startKey](state);if(handlerKey in handlers)memo=handlers[handlerKey](state);if(state.last&&endKey in handlers)handlers[endKey](state);return memo};internalHandlers[key]=fn;config[key]=config[key]||{}}function parseMergedHandlers(mergedHandlers,mergedConfig){const[handlers,nativeHandlers,actions]=sortHandlers(mergedHandlers);const internalHandlers={};registerGesture(actions,handlers,"onDrag","drag",internalHandlers,mergedConfig);registerGesture(actions,handlers,"onWheel","wheel",internalHandlers,mergedConfig);registerGesture(actions,handlers,"onScroll","scroll",internalHandlers,mergedConfig);registerGesture(actions,handlers,"onPinch","pinch",internalHandlers,mergedConfig);registerGesture(actions,handlers,"onMove","move",internalHandlers,mergedConfig);registerGesture(actions,handlers,"onHover","hover",internalHandlers,mergedConfig);return{handlers:internalHandlers,config:mergedConfig,nativeHandlers}}function useRecognizers(handlers,config={},gestureKey,nativeHandlers){const ctrl=hakit_component_test_node_modules_react_index_js_eager_default().useMemo(()=>new Controller(handlers),[]);ctrl.applyHandlers(handlers,nativeHandlers);ctrl.applyConfig(config,gestureKey);hakit_component_test_node_modules_react_index_js_eager_default().useEffect(ctrl.effect.bind(ctrl));hakit_component_test_node_modules_react_index_js_eager_default().useEffect(()=>ctrl.clean.bind(ctrl),[]);if(void 0===config.target)return ctrl.bind.bind(ctrl)}function createUseGesture(actions){actions.forEach(actions_fe213e88_esm_registerAction);return function(_handlers,_config){const{handlers,nativeHandlers,config}=parseMergedHandlers(_handlers,_config||{});return useRecognizers(handlers,config,void 0,nativeHandlers)}}function use_gesture_react_esm_useGesture(handlers,config){const hook=createUseGesture([actions_fe213e88_esm_dragAction,actions_fe213e88_esm_pinchAction,actions_fe213e88_esm_scrollAction,actions_fe213e88_esm_wheelAction,actions_fe213e88_esm_moveAction,actions_fe213e88_esm_hoverAction]);return hook(handlers,config||{})}var dev_hakit_component_test_node_modules_react_index_js_eager_=__webpack_require__(7417);var node_modules_react_dom_index_js_eager_=__webpack_require__(9308);var preact_module_n,preact_module_l,preact_module_u,preact_module_i,preact_module_t,preact_module_r,preact_module_o,preact_module_f,preact_module_e,preact_module_c={},preact_module_s=[],preact_module_a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function preact_module_h(n,l){for(var u in l)n[u]=l[u];return n}function preact_module_v(n){var l=n.parentNode;l&&l.removeChild(n)}function preact_module_y(l,u,i){var t,r,o,f={};for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?preact_module_n.call(arguments,2):i),"function"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return preact_module_p(l,f,t,r,null)}function preact_module_p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++preact_module_u:o};return null==o&&null!=preact_module_l.vnode&&preact_module_l.vnode(f),f}function preact_module_d(){return{current:null}}function preact_module_(n){return n.children}function preact_module_k(n,l,u,i,t){var r;for(r in u)"children"===r||"key"===r||r in l||preact_module_g(n,r,null,u[r],i);for(r in l)t&&"function"!=typeof l[r]||"children"===r||"key"===r||"value"===r||"checked"===r||u[r]===l[r]||preact_module_g(n,r,l[r],u[r],i)}function preact_module_b(n,l,u){"-"===l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||preact_module_a.test(l)?u:u+"px"}function preact_module_g(n,l,u,i,t){var r;n:if("style"===l){if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||preact_module_b(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||preact_module_b(n.style,l,u[l])}}else if("o"===l[0]&&"n"===l[1])r=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?preact_module_w:preact_module_m,r):n.removeEventListener(l,r?preact_module_w:preact_module_m,r);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==l&&"height"!==l&&"href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&-1==l.indexOf("-")?n.removeAttribute(l):n.setAttribute(l,u))}}function preact_module_m(n){preact_module_t=!0;try{return this.l[n.type+!1](preact_module_l.event?preact_module_l.event(n):n)}finally{preact_module_t=!1}}function preact_module_w(n){preact_module_t=!0;try{return this.l[n.type+!0](preact_module_l.event?preact_module_l.event(n):n)}finally{preact_module_t=!1}}function preact_module_x(n,l){this.props=n,this.context=l}function preact_module_A(n,l){if(null==l)return n.__?preact_module_A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?preact_module_A(n):null}function preact_module_P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return preact_module_P(n)}}function preact_module_C(n){preact_module_t?setTimeout(n):preact_module_f(n)}function preact_module_T(n){(!n.__d&&(n.__d=!0)&&preact_module_r.push(n)&&!preact_module_$.__r++||preact_module_o!==preact_module_l.debounceRendering)&&((preact_module_o=preact_module_l.debounceRendering)||preact_module_C)(preact_module_$)}function preact_module_$(){var n,l,u,i,t,o,f,e;for(preact_module_r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=preact_module_r.shift();)n.__d&&(l=preact_module_r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=preact_module_h({},o)).__v=o.__v+1,preact_module_M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?preact_module_A(o):f,o.__h),preact_module_N(i,o),o.__e!=f&&preact_module_P(o)),preact_module_r.length>l&&preact_module_r.sort(function(n,l){return n.__v.__b-l.__v.__b}));preact_module_$.__r=0}function preact_module_H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||preact_module_s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?preact_module_p(null,d,null,null,d):Array.isArray(d)?preact_module_p(preact_module_,{children:d},null,null,null):d.__b>0?preact_module_p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}preact_module_M(n,d,y=y||preact_module_c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),"function"==typeof d.type&&d.__k===y.__k?d.__d=e=preact_module_I(d,e,n):e=preact_module_z(n,d,y,m,k,e),"function"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=preact_module_A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&("function"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=preact_module_L(i).nextSibling),preact_module_q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)preact_module_S(g[h],g[++h],g[++h])}function preact_module_I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l="function"==typeof i.type?preact_module_I(i,l,u):preact_module_z(u,i,i,t,i.__e,l));return l}function preact_module_j(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){preact_module_j(n,l)}):l.push(n)),l}function preact_module_z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function preact_module_L(n){var l,u,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k){for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=preact_module_L(u)))return i}return null}function preact_module_M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=preact_module_l.__b)&&s(u);try{n:if("function"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:("prototype"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new preact_module_x(b,m),a.constructor=$,a.render=preact_module_B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=preact_module_h({},a.__s)),preact_module_h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=preact_module_l.__r,P=0,"prototype"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=preact_module_h(preact_module_h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===preact_module_&&null==s.key?s.props.children:s,preact_module_H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=preact_module_O(i.__e,u,i,t,r,o,f,c);(s=preact_module_l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),preact_module_l.__e(n,u,i)}}function preact_module_N(n,u){preact_module_l.__c&&preact_module_l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){preact_module_l.__e(n,u.__v)}})}function preact_module_O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if("svg"===d&&(r=!0),null!=o){for(;_<o.length;_++)if((s=o[_])&&"setAttribute"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&preact_module_n.call(l.childNodes),a=(y=i.props||preact_module_c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||""))}if(preact_module_k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,preact_module_H(l,Array.isArray(_)?_:[_],u,i,t,r&&"foreignObject"!==d,o,f,o?o[0]:i.__k&&preact_module_A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&preact_module_v(o[_]);e||("value"in p&&void 0!==(_=p.value)&&(_!==l.value||"progress"===d&&!_||"option"===d&&_!==y.value)&&preact_module_g(l,"value",_,y.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==l.checked&&preact_module_g(l,"checked",_,y.checked,!1))}return l}function preact_module_S(n,u,i){try{"function"==typeof n?n(u):n.current=u}catch(n){preact_module_l.__e(n,i)}}function preact_module_q(n,u,i){var t,r;if(preact_module_l.unmount&&preact_module_l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||preact_module_S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){preact_module_l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&preact_module_q(t[r],u,i||"function"!=typeof n.type);i||null==n.__e||preact_module_v(n.__e),n.__=n.__e=n.__d=void 0}function preact_module_B(n,l,u){return this.constructor(n,u)}function preact_module_D(u,i,t){var r,o,f;preact_module_l.__&&preact_module_l.__(u,i),o=(r="function"==typeof t)?null:t&&t.__k||i.__k,f=[],preact_module_M(i,u=(!r&&t||i).__k=preact_module_y(preact_module_,null,[u]),o||preact_module_c,preact_module_c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?preact_module_n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),preact_module_N(f,u)}function preact_module_G(n,l){var u={__c:l="__cC"+preact_module_e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,preact_module_T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}preact_module_n=preact_module_s.slice,preact_module_l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},preact_module_u=0,preact_module_i=function(n){return null!=n&&void 0===n.constructor},preact_module_t=!1,preact_module_x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=preact_module_h({},this.state),"function"==typeof n&&(n=n(preact_module_h({},u),this.props)),n&&preact_module_h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),preact_module_T(this))},preact_module_x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),preact_module_T(this))},preact_module_x.prototype.render=preact_module_,preact_module_r=[],preact_module_f="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,preact_module_$.__r=0,preact_module_e=0;var hooks_module_r,hooks_module_u,hooks_module_i,hooks_module_f=[],hooks_module_c=[],hooks_module_e=preact_module_l.__b,hooks_module_a=preact_module_l.__r,hooks_module_v=preact_module_l.diffed,hooks_module_l=preact_module_l.__c,hooks_module_m=preact_module_l.unmount;function hooks_module_b(){for(var t;t=hooks_module_f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(hooks_module_k),t.__H.__h.forEach(hooks_module_w),t.__H.__h=[]}catch(r){t.__H.__h=[],preact_module_l.__e(r,t.__v)}}preact_module_l.__b=function(n){hooks_module_r=null,hooks_module_e&&hooks_module_e(n)},preact_module_l.__r=function(n){hooks_module_a&&hooks_module_a(n);var i=(hooks_module_r=n.__c).__H;i&&(hooks_module_u===hooks_module_r?(i.__h=[],hooks_module_r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=hooks_module_c,n.__N=n.i=void 0})):(i.__h.forEach(hooks_module_k),i.__h.forEach(hooks_module_w),i.__h=[])),hooks_module_u=hooks_module_r},preact_module_l.diffed=function(t){hooks_module_v&&hooks_module_v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==hooks_module_f.push(o)&&hooks_module_i===preact_module_l.requestAnimationFrame||((hooks_module_i=preact_module_l.requestAnimationFrame)||hooks_module_j)(hooks_module_b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==hooks_module_c&&(n.__=n.__V),n.i=void 0,n.__V=hooks_module_c})),hooks_module_u=hooks_module_r=null},preact_module_l.__c=function(t,r){r.some(function(t){try{t.__h.forEach(hooks_module_k),t.__h=t.__h.filter(function(n){return!n.__||hooks_module_w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],preact_module_l.__e(u,t.__v)}}),hooks_module_l&&hooks_module_l(t,r)},preact_module_l.unmount=function(t){hooks_module_m&&hooks_module_m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{hooks_module_k(n)}catch(n){r=n}}),u.__H=void 0,r&&preact_module_l.__e(r,u.__v))};var hooks_module_g="function"==typeof requestAnimationFrame;function hooks_module_j(n){var t,r=function(){clearTimeout(u),hooks_module_g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);hooks_module_g&&(t=requestAnimationFrame(r))}function hooks_module_k(n){var t=hooks_module_r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),hooks_module_r=t}function hooks_module_w(n){var t=hooks_module_r;n.__c=n.__(),hooks_module_r=t}function compat_module_g(n,t){for(var e in t)n[e]=t[e];return n}function compat_module_C(n,t){for(var e in n)if("__source"!==e&&!(e in t))return!0;for(var r in t)if("__source"!==r&&n[r]!==t[r])return!0;return!1}function compat_module_w(n){this.props=n}(compat_module_w.prototype=new preact_module_x).isPureReactComponent=!0,compat_module_w.prototype.shouldComponentUpdate=function(n,t){return compat_module_C(this.props,n)||compat_module_C(this.state,t)};var compat_module_x=preact_module_l.__b;preact_module_l.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),compat_module_x&&compat_module_x(n)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var compat_module_T=preact_module_l.__e;preact_module_l.__e=function(n,t,e,r){if(n.then){for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t)}compat_module_T(n,t,e,r)};var compat_module_I=preact_module_l.unmount;function compat_module_L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){"function"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=compat_module_g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return compat_module_L(n,t,e)})),n}function compat_module_U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return compat_module_U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function compat_module_D(){this.__u=0,this.t=null,this.__b=null}function compat_module_F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function compat_module_V(){this.u=null,this.o=null}preact_module_l.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),compat_module_I&&compat_module_I(n)},(compat_module_D.prototype=new preact_module_x).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=compat_module_F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=compat_module_U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},compat_module_D.prototype.componentWillUnmount=function(){this.t=[]},compat_module_D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=compat_module_L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&preact_module_y(preact_module_,null,n.fallback);return i&&(i.__h=null),[preact_module_y(preact_module_,null,e.__a?null:n.children),i]};var compat_module_W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function compat_module_P(n){return this.getChildContext=function(){return n.context},n.children}function compat_module_$(n){var e=this,r=n.i;e.componentWillUnmount=function(){preact_module_D(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),preact_module_D(preact_module_y(compat_module_P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function compat_module_j(n,e){var r=preact_module_y(compat_module_$,{__v:n,i:e});return r.containerInfo=e,r}(compat_module_V.prototype=new preact_module_x).__a=function(n){var t=this,e=compat_module_F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),compat_module_W(t,n,r)):u()};e?e(o):o()}},compat_module_V.prototype.render=function(n){this.u=null,this.o=new Map;var t=preact_module_j(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},compat_module_V.prototype.componentDidUpdate=compat_module_V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){compat_module_W(n,e,t)})};var compat_module_z="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,compat_module_B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,compat_module_H="undefined"!=typeof document,compat_module_Z=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};preact_module_x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(preact_module_x.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var compat_module_G=preact_module_l.event;function compat_module_J(){}function compat_module_K(){return this.cancelBubble}function compat_module_Q(){return this.defaultPrevented}preact_module_l.event=function(n){return compat_module_G&&(n=compat_module_G(n)),n.persist=compat_module_J,n.isPropagationStopped=compat_module_K,n.isDefaultPrevented=compat_module_Q,n.nativeEvent=n};var nn={configurable:!0,get:function(){return this.class}},tn=preact_module_l.vnode;preact_module_l.vnode=function(n){var t=n.type,e=n.props,u=e;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in u={},e){var l=e[i];compat_module_H&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in e&&null==l||("defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===l?l="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!compat_module_Z(e.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&compat_module_B.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i="oninputCapture")),u[i]=l)}"select"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=preact_module_j(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),"select"==t&&null!=u.defaultValue&&(u.value=preact_module_j(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable="className"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,"className",nn))}n.$$typeof=compat_module_z,tn&&tn(n)};var en=preact_module_l.__r;preact_module_l.__r=function(n){en&&en(n),n.__c};const styleTexts=[];const styleEls=new Map;function injectStyles(styleText){styleTexts.push(styleText);styleEls.forEach(styleEl=>{appendStylesTo(styleEl,styleText)})}function ensureElHasStyles(el){if(el.isConnected&&el.getRootNode)registerStylesRoot(el.getRootNode())}function registerStylesRoot(rootNode){let styleEl=styleEls.get(rootNode);if(!styleEl||!styleEl.isConnected){styleEl=rootNode.querySelector("style[data-fullcalendar]");if(!styleEl){styleEl=document.createElement("style");styleEl.setAttribute("data-fullcalendar","");const nonce=getNonceValue();if(nonce)styleEl.nonce=nonce;const parentEl=rootNode===document?document.head:rootNode;const insertBefore=rootNode===document?parentEl.querySelector("script,link[rel=stylesheet],link[as=style],style"):parentEl.firstChild;parentEl.insertBefore(styleEl,insertBefore)}styleEls.set(rootNode,styleEl);hydrateStylesRoot(styleEl)}}function hydrateStylesRoot(styleEl){for(const styleText of styleTexts)appendStylesTo(styleEl,styleText)}function appendStylesTo(styleEl,styleText){const{sheet}=styleEl;const ruleCnt=sheet.cssRules.length;styleText.split("}").forEach((styleStr,i)=>{styleStr=styleStr.trim();if(styleStr)sheet.insertRule(styleStr+"}",ruleCnt+i)})}let queriedNonceValue;function getNonceValue(){if(void 0===queriedNonceValue)queriedNonceValue=queryNonceValue();return queriedNonceValue}function queryNonceValue(){const metaWithNonce=document.querySelector('meta[name="csp-nonce"]');if(metaWithNonce&&metaWithNonce.hasAttribute("content"))return metaWithNonce.getAttribute("content");const elWithNonce=document.querySelector("script[nonce]");if(elWithNonce)return elWithNonce.nonce||"";return""}if("undefined"!=typeof document)registerStylesRoot(document);var css_248z=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,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") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';injectStyles(css_248z);class DelayedRunner{constructor(drainedOption){this.drainedOption=drainedOption;this.isRunning=false;this.isDirty=false;this.pauseDepths={};this.timeoutId=0}request(delay){this.isDirty=true;if(!this.isPaused()){this.clearTimeout();if(null==delay)this.tryDrain();else this.timeoutId=setTimeout(this.tryDrain.bind(this),delay)}}pause(scope=""){let{pauseDepths}=this;pauseDepths[scope]=(pauseDepths[scope]||0)+1;this.clearTimeout()}resume(scope="",force){let{pauseDepths}=this;if(scope in pauseDepths){if(force)delete pauseDepths[scope];else{pauseDepths[scope]-=1;let depth=pauseDepths[scope];if(depth<=0)delete pauseDepths[scope]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){this.isRunning=true;while(this.isDirty){this.isDirty=false;this.drained()}this.isRunning=false}}clear(){this.clearTimeout();this.isDirty=false;this.pauseDepths={}}clearTimeout(){if(this.timeoutId){clearTimeout(this.timeoutId);this.timeoutId=0}}drained(){if(this.drainedOption)this.drainedOption()}}function removeElement(el){if(el.parentNode)el.parentNode.removeChild(el)}function elementClosest(el,selector){if(el.closest)return el.closest(selector);if(!document.documentElement.contains(el))return null;do{if(elementMatches(el,selector))return el;el=el.parentElement||el.parentNode}while(null!==el&&1===el.nodeType);return null}function elementMatches(el,selector){let method=el.matches||el.matchesSelector||el.msMatchesSelector;return method.call(el,selector)}function findElements(container,selector){let containers=container instanceof HTMLElement?[container]:container;let allMatches=[];for(let i=0;i<containers.length;i+=1){let matches=containers[i].querySelectorAll(selector);for(let j=0;j<matches.length;j+=1)allMatches.push(matches[j])}return allMatches}const PIXEL_PROP_RE=/(top|left|right|bottom|width|height)$/i;function applyStyle(el,props){for(let propName in props)applyStyleProp(el,propName,props[propName])}function applyStyleProp(el,name,val){if(null==val)el.style[name]="";else if("number"==typeof val&&PIXEL_PROP_RE.test(name))el.style[name]=`${val}px`;else el.style[name]=val}function getEventTargetViaRoot(ev){var _a,_b;return null!==(_b=null===(_a=ev.composedPath)||void 0===_a?void 0:_a.call(ev)[0])&&void 0!==_b?_b:ev.target}let guid$1=0;function getUniqueDomId(){guid$1+=1;return"fc-dom-"+guid$1}function preventDefault(ev){ev.preventDefault()}function buildDelegationHandler(selector,handler){return ev=>{let matchedChild=elementClosest(ev.target,selector);if(matchedChild)handler.call(matchedChild,ev,matchedChild)}}function listenBySelector(container,eventType,selector,handler){let attachedHandler=buildDelegationHandler(selector,handler);container.addEventListener(eventType,attachedHandler);return()=>{container.removeEventListener(eventType,attachedHandler)}}function listenToHoverBySelector(container,selector,onMouseEnter,onMouseLeave){let currentMatchedChild;return listenBySelector(container,"mouseover",selector,(mouseOverEv,matchedChild)=>{if(matchedChild!==currentMatchedChild){currentMatchedChild=matchedChild;onMouseEnter(mouseOverEv,matchedChild);let realOnMouseLeave=mouseLeaveEv=>{currentMatchedChild=null;onMouseLeave(mouseLeaveEv,matchedChild);matchedChild.removeEventListener("mouseleave",realOnMouseLeave)};matchedChild.addEventListener("mouseleave",realOnMouseLeave)}})}const transitionEventNames=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function whenTransitionDone(el,callback){let realCallback=ev=>{callback(ev);transitionEventNames.forEach(eventName=>{el.removeEventListener(eventName,realCallback)})};transitionEventNames.forEach(eventName=>{el.addEventListener(eventName,realCallback)})}function createAriaClickAttrs(handler){return Object.assign({onClick:handler},createAriaKeyboardAttrs(handler))}function createAriaKeyboardAttrs(handler){return{tabIndex:0,onKeyDown(ev){if("Enter"===ev.key||" "===ev.key){handler(ev);ev.preventDefault()}}}}let guidNumber=0;function guid(){guidNumber+=1;return String(guidNumber)}function disableCursor(){document.body.classList.add("fc-not-allowed")}function enableCursor(){document.body.classList.remove("fc-not-allowed")}function preventSelection(el){el.style.userSelect="none";el.style.webkitUserSelect="none";el.addEventListener("selectstart",preventDefault)}function allowSelection(el){el.style.userSelect="";el.style.webkitUserSelect="";el.removeEventListener("selectstart",preventDefault)}function preventContextMenu(el){el.addEventListener("contextmenu",preventDefault)}function allowContextMenu(el){el.removeEventListener("contextmenu",preventDefault)}function parseFieldSpecs(input){let specs=[];let tokens=[];let i;let token;if("string"==typeof input)tokens=input.split(/\s*,\s*/);else if("function"==typeof input)tokens=[input];else if(Array.isArray(input))tokens=input;for(i=0;i<tokens.length;i+=1){token=tokens[i];if("string"==typeof token)specs.push("-"===token.charAt(0)?{field:token.substring(1),order:-1}:{field:token,order:1});else if("function"==typeof token)specs.push({func:token})}return specs}function compareByFieldSpecs(obj0,obj1,fieldSpecs){let i;let cmp;for(i=0;i<fieldSpecs.length;i+=1){cmp=compareByFieldSpec(obj0,obj1,fieldSpecs[i]);if(cmp)return cmp}return 0}function compareByFieldSpec(obj0,obj1,fieldSpec){if(fieldSpec.func)return fieldSpec.func(obj0,obj1);return flexibleCompare(obj0[fieldSpec.field],obj1[fieldSpec.field])*(fieldSpec.order||1)}function flexibleCompare(a,b){if(!a&&!b)return 0;if(null==b)return -1;if(null==a)return 1;if("string"==typeof a||"string"==typeof b)return String(a).localeCompare(String(b));return a-b}function padStart(val,len){let s=String(val);return"000".substr(0,len-s.length)+s}function formatWithOrdinals(formatter,args,fallbackText){if("function"==typeof formatter)return formatter(...args);if("string"==typeof formatter)return args.reduce((str,arg,index)=>str.replace("$"+index,arg||""),formatter);return fallbackText}function compareNumbers(a,b){return a-b}function isInt(n){return n%1===0}function computeSmallestCellWidth(cellEl){let allWidthEl=cellEl.querySelector(".fc-scrollgrid-shrink-frame");let contentWidthEl=cellEl.querySelector(".fc-scrollgrid-shrink-cushion");if(!allWidthEl)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!contentWidthEl)throw new Error("needs fc-scrollgrid-shrink-cushion className");return cellEl.getBoundingClientRect().width-allWidthEl.getBoundingClientRect().width+contentWidthEl.getBoundingClientRect().width}const PARSE_RE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function createDuration(input,unit){if("string"==typeof input)return parseString(input);if("object"==typeof input&&input)return parseObject(input);if("number"==typeof input)return parseObject({[unit||"milliseconds"]:input});return null}function parseString(s){let m=PARSE_RE.exec(s);if(m){let sign=m[1]?-1:1;return{years:0,months:0,days:sign*(m[2]?parseInt(m[2],10):0),milliseconds:sign*((m[3]?parseInt(m[3],10):0)*36e5+(m[4]?parseInt(m[4],10):0)*6e4+(m[5]?parseInt(m[5],10):0)*1e3+(m[6]?parseInt(m[6],10):0))}}return null}function parseObject(obj){let duration={years:obj.years||obj.year||0,months:obj.months||obj.month||0,days:obj.days||obj.day||0,milliseconds:36e5*(obj.hours||obj.hour||0)+6e4*(obj.minutes||obj.minute||0)+1e3*(obj.seconds||obj.second||0)+(obj.milliseconds||obj.millisecond||obj.ms||0)};let weeks=obj.weeks||obj.week;if(weeks){duration.days+=7*weeks;duration.specifiedWeeks=true}return duration}function durationsEqual(d0,d1){return d0.years===d1.years&&d0.months===d1.months&&d0.days===d1.days&&d0.milliseconds===d1.milliseconds}function subtractDurations(d1,d0){return{years:d1.years-d0.years,months:d1.months-d0.months,days:d1.days-d0.days,milliseconds:d1.milliseconds-d0.milliseconds}}function asRoughYears(dur){return asRoughDays(dur)/365}function asRoughMonths(dur){return asRoughDays(dur)/30}function asRoughDays(dur){return asRoughMs(dur)/864e5}function asRoughMs(dur){return dur.years*(365*864e5)+dur.months*(30*864e5)+864e5*dur.days+dur.milliseconds}function greatestDurationDenominator(dur){let ms=dur.milliseconds;if(ms){if(ms%1e3!==0)return{unit:"millisecond",value:ms};if(ms%6e4!==0)return{unit:"second",value:ms/1e3};if(ms%36e5!==0)return{unit:"minute",value:ms/6e4};if(ms)return{unit:"hour",value:ms/36e5}}if(dur.days){if(dur.specifiedWeeks&&dur.days%7===0)return{unit:"week",value:dur.days/7};return{unit:"day",value:dur.days}}if(dur.months)return{unit:"month",value:dur.months};if(dur.years)return{unit:"year",value:dur.years};return{unit:"millisecond",value:0}}function isArraysEqual(a0,a1,equalityFunc){if(a0===a1)return true;let len=a0.length;let i;if(len!==a1.length)return false;for(i=0;i<len;i+=1)if(!(equalityFunc?equalityFunc(a0[i],a1[i]):a0[i]===a1[i]))return false;return true}const DAY_IDS=["sun","mon","tue","wed","thu","fri","sat"];function addWeeks(m,n){let a=dateToUtcArray(m);a[2]+=7*n;return arrayToUtcDate(a)}function addDays(m,n){let a=dateToUtcArray(m);a[2]+=n;return arrayToUtcDate(a)}function addMs(m,n){let a=dateToUtcArray(m);a[6]+=n;return arrayToUtcDate(a)}function diffWeeks(m0,m1){return diffDays(m0,m1)/7}function diffDays(m0,m1){return(m1.valueOf()-m0.valueOf())/864e5}function diffHours(m0,m1){return(m1.valueOf()-m0.valueOf())/36e5}function diffMinutes(m0,m1){return(m1.valueOf()-m0.valueOf())/6e4}function diffSeconds(m0,m1){return(m1.valueOf()-m0.valueOf())/1e3}function diffDayAndTime(m0,m1){let m0day=startOfDay(m0);let m1day=startOfDay(m1);return{years:0,months:0,days:Math.round(diffDays(m0day,m1day)),milliseconds:m1.valueOf()-m1day.valueOf()-(m0.valueOf()-m0day.valueOf())}}function diffWholeWeeks(m0,m1){let d=diffWholeDays(m0,m1);if(null!==d&&d%7===0)return d/7;return null}function diffWholeDays(m0,m1){if(timeAsMs(m0)===timeAsMs(m1))return Math.round(diffDays(m0,m1));return null}function startOfDay(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()])}function startOfHour(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours()])}function startOfMinute(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes()])}function startOfSecond(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds()])}function weekOfYear(marker,dow,doy){let y=marker.getUTCFullYear();let w=weekOfGivenYear(marker,y,dow,doy);if(w<1)return weekOfGivenYear(marker,y-1,dow,doy);let nextW=weekOfGivenYear(marker,y+1,dow,doy);if(nextW>=1)return Math.min(w,nextW);return w}function weekOfGivenYear(marker,year,dow,doy){let firstWeekStart=arrayToUtcDate([year,0,1+firstWeekOffset(year,dow,doy)]);let dayStart=startOfDay(marker);let days=Math.round(diffDays(firstWeekStart,dayStart));return Math.floor(days/7)+1}function firstWeekOffset(year,dow,doy){let fwd=7+dow-doy;let fwdlw=(7+arrayToUtcDate([year,0,fwd]).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dateToLocalArray(date){return[date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()]}function arrayToLocalDate(a){return new Date(a[0],a[1]||0,null==a[2]?1:a[2],a[3]||0,a[4]||0,a[5]||0)}function dateToUtcArray(date){return[date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds()]}function arrayToUtcDate(a){if(1===a.length)a=a.concat([0]);return new Date(Date.UTC(...a))}function isValidDate(m){return!isNaN(m.valueOf())}function timeAsMs(m){return 36e5*m.getUTCHours()+6e4*m.getUTCMinutes()+1e3*m.getUTCSeconds()+m.getUTCMilliseconds()}function buildIsoString(marker,timeZoneOffset,stripZeroTime=false){let s=marker.toISOString();s=s.replace(".000","");if(stripZeroTime)s=s.replace("T00:00:00Z","");if(s.length>10){if(null==timeZoneOffset)s=s.replace("Z","");else if(0!==timeZoneOffset)s=s.replace("Z",formatTimeZoneOffset(timeZoneOffset,true))}return s}function formatDayString(marker){return marker.toISOString().replace(/T.*$/,"")}function formatIsoMonthStr(marker){return marker.toISOString().match(/^\d{4}-\d{2}/)[0]}function formatTimeZoneOffset(minutes,doIso=false){let sign=minutes<0?"-":"+";let abs=Math.abs(minutes);let hours=Math.floor(abs/60);let mins=Math.round(abs%60);if(doIso)return`${sign+padStart(hours,2)}:${padStart(mins,2)}`;return`GMT${sign}${hours}${mins?`:${padStart(mins,2)}`:""}`}function memoize(workerFunc,resEquality,teardownFunc){let currentArgs;let currentRes;return function(...newArgs){if(currentArgs){if(!isArraysEqual(currentArgs,newArgs)){if(teardownFunc)teardownFunc(currentRes);let res=workerFunc.apply(this,newArgs);if(!resEquality||!resEquality(res,currentRes))currentRes=res}}else currentRes=workerFunc.apply(this,newArgs);currentArgs=newArgs;return currentRes}}function memoizeObjArg(workerFunc,resEquality,teardownFunc){let currentArg;let currentRes;return newArg=>{if(currentArg){if(!isPropsEqual(currentArg,newArg)){if(teardownFunc)teardownFunc(currentRes);let res=workerFunc.call(this,newArg);if(!resEquality||!resEquality(res,currentRes))currentRes=res}}else currentRes=workerFunc.call(this,newArg);currentArg=newArg;return currentRes}}const EXTENDED_SETTINGS_AND_SEVERITIES={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0};const STANDARD_DATE_PROP_SEVERITIES={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1};const MERIDIEM_RE=/\s*([ap])\.?m\.?/i;const COMMA_RE=/,/g;const MULTI_SPACE_RE=/\s+/g;const LTR_RE=/\u200e/g;const UTC_RE=/UTC|GMT/;class NativeFormatter{constructor(formatSettings){let standardDateProps={};let extendedSettings={};let severity=0;for(let name in formatSettings)if(name in EXTENDED_SETTINGS_AND_SEVERITIES){extendedSettings[name]=formatSettings[name];severity=Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name],severity)}else{standardDateProps[name]=formatSettings[name];if(name in STANDARD_DATE_PROP_SEVERITIES)severity=Math.max(STANDARD_DATE_PROP_SEVERITIES[name],severity)}this.standardDateProps=standardDateProps;this.extendedSettings=extendedSettings;this.severity=severity;this.buildFormattingFunc=memoize(buildFormattingFunc)}format(date,context){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,context)(date)}formatRange(start,end,context,betterDefaultSeparator){let{standardDateProps,extendedSettings}=this;let diffSeverity=computeMarkerDiffSeverity(start.marker,end.marker,context.calendarSystem);if(!diffSeverity)return this.format(start,context);let biggestUnitForPartial=diffSeverity;if(biggestUnitForPartial>1&&("numeric"===standardDateProps.year||"2-digit"===standardDateProps.year)&&("numeric"===standardDateProps.month||"2-digit"===standardDateProps.month)&&("numeric"===standardDateProps.day||"2-digit"===standardDateProps.day))biggestUnitForPartial=1;let full0=this.format(start,context);let full1=this.format(end,context);if(full0===full1)return full0;let partialDateProps=computePartialFormattingOptions(standardDateProps,biggestUnitForPartial);let partialFormattingFunc=buildFormattingFunc(partialDateProps,extendedSettings,context);let partial0=partialFormattingFunc(start);let partial1=partialFormattingFunc(end);let insertion=findCommonInsertion(full0,partial0,full1,partial1);let separator=extendedSettings.separator||betterDefaultSeparator||context.defaultSeparator||"";if(insertion)return insertion.before+partial0+separator+partial1+insertion.after;return full0+separator+full1}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function buildFormattingFunc(standardDateProps,extendedSettings,context){let standardDatePropCnt=Object.keys(standardDateProps).length;if(1===standardDatePropCnt&&"short"===standardDateProps.timeZoneName)return date=>formatTimeZoneOffset(date.timeZoneOffset);if(0===standardDatePropCnt&&extendedSettings.week)return date=>formatWeekNumber(context.computeWeekNumber(date.marker),context.weekText,context.weekTextLong,context.locale,extendedSettings.week);return buildNativeFormattingFunc(standardDateProps,extendedSettings,context)}function buildNativeFormattingFunc(standardDateProps,extendedSettings,context){standardDateProps=Object.assign({},standardDateProps);extendedSettings=Object.assign({},extendedSettings);sanitizeSettings(standardDateProps,extendedSettings);standardDateProps.timeZone="UTC";let normalFormat=new Intl.DateTimeFormat(context.locale.codes,standardDateProps);let zeroFormat;if(extendedSettings.omitZeroMinute){let zeroProps=Object.assign({},standardDateProps);delete zeroProps.minute;zeroFormat=new Intl.DateTimeFormat(context.locale.codes,zeroProps)}return date=>{let{marker}=date;let format;format=zeroFormat&&!marker.getUTCMinutes()?zeroFormat:normalFormat;let s=format.format(marker);return postProcess(s,date,standardDateProps,extendedSettings,context)}}function sanitizeSettings(standardDateProps,extendedSettings){if(standardDateProps.timeZoneName){if(!standardDateProps.hour)standardDateProps.hour="2-digit";if(!standardDateProps.minute)standardDateProps.minute="2-digit"}if("long"===standardDateProps.timeZoneName)standardDateProps.timeZoneName="short";if(extendedSettings.omitZeroMinute&&(standardDateProps.second||standardDateProps.millisecond))delete extendedSettings.omitZeroMinute}function postProcess(s,date,standardDateProps,extendedSettings,context){s=s.replace(LTR_RE,"");if("short"===standardDateProps.timeZoneName)s=injectTzoStr(s,"UTC"===context.timeZone||null==date.timeZoneOffset?"UTC":formatTimeZoneOffset(date.timeZoneOffset));if(extendedSettings.omitCommas)s=s.replace(COMMA_RE,"").trim();if(extendedSettings.omitZeroMinute)s=s.replace(":00","");if(false===extendedSettings.meridiem)s=s.replace(MERIDIEM_RE,"").trim();else if("narrow"===extendedSettings.meridiem)s=s.replace(MERIDIEM_RE,(m0,m1)=>m1.toLocaleLowerCase());else if("short"===extendedSettings.meridiem)s=s.replace(MERIDIEM_RE,(m0,m1)=>`${m1.toLocaleLowerCase()}m`);else if("lowercase"===extendedSettings.meridiem)s=s.replace(MERIDIEM_RE,m0=>m0.toLocaleLowerCase());s=s.replace(MULTI_SPACE_RE," ");s=s.trim();return s}function injectTzoStr(s,tzoStr){let replaced=false;s=s.replace(UTC_RE,()=>{replaced=true;return tzoStr});if(!replaced)s+=` ${tzoStr}`;return s}function formatWeekNumber(num,weekText,weekTextLong,locale,display){let parts=[];if("long"===display)parts.push(weekTextLong);else if("short"===display||"narrow"===display)parts.push(weekText);if("long"===display||"short"===display)parts.push(" ");parts.push(locale.simpleNumberFormat.format(num));if("rtl"===locale.options.direction)parts.reverse();return parts.join("")}function computeMarkerDiffSeverity(d0,d1,ca){if(ca.getMarkerYear(d0)!==ca.getMarkerYear(d1))return 5;if(ca.getMarkerMonth(d0)!==ca.getMarkerMonth(d1))return 4;if(ca.getMarkerDay(d0)!==ca.getMarkerDay(d1))return 2;if(timeAsMs(d0)!==timeAsMs(d1))return 1;return 0}function computePartialFormattingOptions(options,biggestUnit){let partialOptions={};for(let name in options)if(!(name in STANDARD_DATE_PROP_SEVERITIES)||STANDARD_DATE_PROP_SEVERITIES[name]<=biggestUnit)partialOptions[name]=options[name];return partialOptions}function findCommonInsertion(full0,partial0,full1,partial1){let i0=0;while(i0<full0.length){let found0=full0.indexOf(partial0,i0);if(-1===found0)break;let before0=full0.substr(0,found0);i0=found0+partial0.length;let after0=full0.substr(i0);let i1=0;while(i1<full1.length){let found1=full1.indexOf(partial1,i1);if(-1===found1)break;let before1=full1.substr(0,found1);i1=found1+partial1.length;let after1=full1.substr(i1);if(before0===before1&&after0===after1)return{before:before0,after:after0}}}return null}function expandZonedMarker(dateInfo,calendarSystem){let a=calendarSystem.markerToArray(dateInfo.marker);return{marker:dateInfo.marker,timeZoneOffset:dateInfo.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}function createVerboseFormattingArg(start,end,context,betterDefaultSeparator){let startInfo=expandZonedMarker(start,context.calendarSystem);let endInfo=end?expandZonedMarker(end,context.calendarSystem):null;return{date:startInfo,start:startInfo,end:endInfo,timeZone:context.timeZone,localeCodes:context.locale.codes,defaultSeparator:betterDefaultSeparator||context.defaultSeparator}}class CmdFormatter{constructor(cmdStr){this.cmdStr=cmdStr}format(date,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(date,null,context,betterDefaultSeparator))}formatRange(start,end,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(start,end,context,betterDefaultSeparator))}}class FuncFormatter{constructor(func){this.func=func}format(date,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(date,null,context,betterDefaultSeparator))}formatRange(start,end,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(start,end,context,betterDefaultSeparator))}}function internal_common_createFormatter(input){if("object"==typeof input&&input)return new NativeFormatter(input);if("string"==typeof input)return new CmdFormatter(input);if("function"==typeof input)return new FuncFormatter(input);return null}const BASE_OPTION_REFINERS={navLinkDayClick:internal_common_identity,navLinkWeekClick:internal_common_identity,duration:createDuration,bootstrapFontAwesome:internal_common_identity,buttonIcons:internal_common_identity,customButtons:internal_common_identity,defaultAllDayEventDuration:createDuration,defaultTimedEventDuration:createDuration,nextDayThreshold:createDuration,scrollTime:createDuration,scrollTimeReset:Boolean,slotMinTime:createDuration,slotMaxTime:createDuration,dayPopoverFormat:internal_common_createFormatter,slotDuration:createDuration,snapDuration:createDuration,headerToolbar:internal_common_identity,footerToolbar:internal_common_identity,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:internal_common_createFormatter,dayHeaderClassNames:internal_common_identity,dayHeaderContent:internal_common_identity,dayHeaderDidMount:internal_common_identity,dayHeaderWillUnmount:internal_common_identity,dayCellClassNames:internal_common_identity,dayCellContent:internal_common_identity,dayCellDidMount:internal_common_identity,dayCellWillUnmount:internal_common_identity,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:internal_common_identity,weekNumbers:Boolean,weekNumberClassNames:internal_common_identity,weekNumberContent:internal_common_identity,weekNumberDidMount:internal_common_identity,weekNumberWillUnmount:internal_common_identity,editable:Boolean,viewClassNames:internal_common_identity,viewDidMount:internal_common_identity,viewWillUnmount:internal_common_identity,nowIndicator:Boolean,nowIndicatorClassNames:internal_common_identity,nowIndicatorContent:internal_common_identity,nowIndicatorDidMount:internal_common_identity,nowIndicatorWillUnmount:internal_common_identity,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:internal_common_identity,locale:internal_common_identity,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:internal_common_identity,eventOrder:parseFieldSpecs,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:internal_common_identity,contentHeight:internal_common_identity,direction:String,weekNumberFormat:internal_common_createFormatter,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:internal_common_identity,initialDate:internal_common_identity,now:internal_common_identity,eventDataTransform:internal_common_identity,stickyHeaderDates:internal_common_identity,stickyFooterScrollbar:internal_common_identity,viewHeight:internal_common_identity,defaultAllDay:Boolean,eventSourceFailure:internal_common_identity,eventSourceSuccess:internal_common_identity,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:internal_common_identity,eventConstraint:internal_common_identity,eventAllow:internal_common_identity,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:internal_common_identity,eventContent:internal_common_identity,eventDidMount:internal_common_identity,eventWillUnmount:internal_common_identity,selectConstraint:internal_common_identity,selectOverlap:internal_common_identity,selectAllow:internal_common_identity,droppable:Boolean,unselectCancel:String,slotLabelFormat:internal_common_identity,slotLaneClassNames:internal_common_identity,slotLaneContent:internal_common_identity,slotLaneDidMount:internal_common_identity,slotLaneWillUnmount:internal_common_identity,slotLabelClassNames:internal_common_identity,slotLabelContent:internal_common_identity,slotLabelDidMount:internal_common_identity,slotLabelWillUnmount:internal_common_identity,dayMaxEvents:internal_common_identity,dayMaxEventRows:internal_common_identity,dayMinWidth:Number,slotLabelInterval:createDuration,allDayText:String,allDayClassNames:internal_common_identity,allDayContent:internal_common_identity,allDayDidMount:internal_common_identity,allDayWillUnmount:internal_common_identity,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:internal_common_createFormatter,rerenderDelay:Number,moreLinkText:internal_common_identity,moreLinkHint:internal_common_identity,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:internal_common_identity,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:createDuration,hiddenDays:internal_common_identity,fixedWeekCount:Boolean,validRange:internal_common_identity,visibleRange:internal_common_identity,titleFormat:internal_common_identity,eventInteractive:Boolean,noEventsText:String,viewHint:internal_common_identity,navLinkHint:internal_common_identity,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:internal_common_identity,moreLinkClassNames:internal_common_identity,moreLinkContent:internal_common_identity,moreLinkDidMount:internal_common_identity,moreLinkWillUnmount:internal_common_identity,monthStartFormat:internal_common_createFormatter,handleCustomRendering:internal_common_identity,customRenderingMetaMap:internal_common_identity,customRenderingReplaces:Boolean};const internal_common_BASE_OPTION_DEFAULTS={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:false,nextDayThreshold:"00:00:00",dayHeaders:true,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"local",editable:false,nowIndicator:false,scrollTime:"06:00:00",scrollTimeReset:true,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:true,lazyFetching:true,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:true,allDayMaintainDuration:false,unselectAuto:true,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:true,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:false,navLinks:false,selectable:false,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}};const CALENDAR_LISTENER_REFINERS={datesSet:internal_common_identity,eventsSet:internal_common_identity,eventAdd:internal_common_identity,eventChange:internal_common_identity,eventRemove:internal_common_identity,windowResize:internal_common_identity,eventClick:internal_common_identity,eventMouseEnter:internal_common_identity,eventMouseLeave:internal_common_identity,select:internal_common_identity,unselect:internal_common_identity,loading:internal_common_identity,_unmount:internal_common_identity,_beforeprint:internal_common_identity,_afterprint:internal_common_identity,_noEventDrop:internal_common_identity,_noEventResize:internal_common_identity,_resize:internal_common_identity,_scrollRequest:internal_common_identity};const CALENDAR_OPTION_REFINERS={buttonText:internal_common_identity,buttonHints:internal_common_identity,views:internal_common_identity,plugins:internal_common_identity,initialEvents:internal_common_identity,events:internal_common_identity,eventSources:internal_common_identity};const COMPLEX_OPTION_COMPARATORS={headerToolbar:isMaybeObjectsEqual,footerToolbar:isMaybeObjectsEqual,buttonText:isMaybeObjectsEqual,buttonHints:isMaybeObjectsEqual,buttonIcons:isMaybeObjectsEqual,dateIncrement:isMaybeObjectsEqual,plugins:isMaybeArraysEqual,events:isMaybeArraysEqual,eventSources:isMaybeArraysEqual,["resources"]:isMaybeArraysEqual};function isMaybeObjectsEqual(a,b){if("object"==typeof a&&"object"==typeof b&&a&&b)return isPropsEqual(a,b);return a===b}function isMaybeArraysEqual(a,b){if(Array.isArray(a)&&Array.isArray(b))return isArraysEqual(a,b);return a===b}const VIEW_OPTION_REFINERS={type:String,component:internal_common_identity,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:internal_common_identity,usesMinMaxTime:Boolean,classNames:internal_common_identity,content:internal_common_identity,didMount:internal_common_identity,willUnmount:internal_common_identity};function mergeRawOptions(optionSets){return mergeProps(optionSets,COMPLEX_OPTION_COMPARATORS)}function refineProps(input,refiners){let refined={};let extra={};for(let propName in refiners)if(propName in input)refined[propName]=refiners[propName](input[propName]);for(let propName in input)if(!(propName in refiners))extra[propName]=input[propName];return{refined,extra}}function internal_common_identity(raw){return raw}const{hasOwnProperty:internal_common_hasOwnProperty}=Object.prototype;function mergeProps(propObjs,complexPropsMap){let dest={};if(complexPropsMap){for(let name in complexPropsMap)if(complexPropsMap[name]===isMaybeObjectsEqual){let complexObjs=[];for(let i=propObjs.length-1;i>=0;i-=1){let val=propObjs[i][name];if("object"==typeof val&&val)complexObjs.unshift(val);else if(void 0!==val){dest[name]=val;break}}if(complexObjs.length)dest[name]=mergeProps(complexObjs)}}for(let i=propObjs.length-1;i>=0;i-=1){let props=propObjs[i];for(let name in props)if(!(name in dest))dest[name]=props[name]}return dest}function filterHash(hash,func){let filtered={};for(let key in hash)if(func(hash[key],key))filtered[key]=hash[key];return filtered}function mapHash(hash,func){let newHash={};for(let key in hash)newHash[key]=func(hash[key],key);return newHash}function arrayToHash(a){let hash={};for(let item of a)hash[item]=true;return hash}function hashValuesToArray(obj){let a=[];for(let key in obj)a.push(obj[key]);return a}function isPropsEqual(obj0,obj1){if(obj0===obj1)return true;for(let key in obj0)if(internal_common_hasOwnProperty.call(obj0,key)){if(!(key in obj1))return false}for(let key in obj1)if(internal_common_hasOwnProperty.call(obj1,key)){if(obj0[key]!==obj1[key])return false}return true}const HANDLER_RE=/^on[A-Z]/;function isNonHandlerPropsEqual(obj0,obj1){const keys=getUnequalProps(obj0,obj1);for(let key of keys)if(!HANDLER_RE.test(key))return false;return true}function getUnequalProps(obj0,obj1){let keys=[];for(let key in obj0)if(internal_common_hasOwnProperty.call(obj0,key)){if(!(key in obj1))keys.push(key)}for(let key in obj1)if(internal_common_hasOwnProperty.call(obj1,key)){if(obj0[key]!==obj1[key])keys.push(key)}return keys}function compareObjs(oldProps,newProps,equalityFuncs={}){if(oldProps===newProps)return true;for(let key in newProps)if(!(key in oldProps&&isObjValsEqual(oldProps[key],newProps[key],equalityFuncs[key])))return false;for(let key in oldProps)if(!(key in newProps))return false;return true}function isObjValsEqual(val0,val1,comparator){if(val0===val1||true===comparator)return true;if(comparator)return comparator(val0,val1);return false}function collectFromHash(hash,startIndex=0,endIndex,step=1){let res=[];if(null==endIndex)endIndex=Object.keys(hash).length;for(let i=startIndex;i<endIndex;i+=step){let val=hash[i];if(void 0!==val)res.push(val)}return res}let calendarSystemClassMap={};function registerCalendarSystem(name,theClass){calendarSystemClassMap[name]=theClass}function createCalendarSystem(name){return new calendarSystemClassMap[name]}class GregorianCalendarSystem{getMarkerYear(d){return d.getUTCFullYear()}getMarkerMonth(d){return d.getUTCMonth()}getMarkerDay(d){return d.getUTCDate()}arrayToMarker(arr){return arrayToUtcDate(arr)}markerToArray(marker){return dateToUtcArray(marker)}}registerCalendarSystem("gregory",GregorianCalendarSystem);const ISO_RE=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function internal_common_parse(str){let m=ISO_RE.exec(str);if(m){let marker=new Date(Date.UTC(Number(m[1]),m[3]?Number(m[3])-1:0,Number(m[5]||1),Number(m[7]||0),Number(m[8]||0),Number(m[10]||0),m[12]?1e3*Number(`0.${m[12]}`):0));if(isValidDate(marker)){let timeZoneOffset=null;if(m[13])timeZoneOffset=("-"===m[15]?-1:1)*(60*Number(m[16]||0)+Number(m[18]||0));return{marker,isTimeUnspecified:!m[6],timeZoneOffset}}}return null}class internal_common_DateEnv{constructor(settings){let timeZone=this.timeZone=settings.timeZone;let isNamedTimeZone="local"!==timeZone&&"UTC"!==timeZone;if(settings.namedTimeZoneImpl&&isNamedTimeZone)this.namedTimeZoneImpl=new settings.namedTimeZoneImpl(timeZone);this.canComputeOffset=Boolean(!isNamedTimeZone||this.namedTimeZoneImpl);this.calendarSystem=createCalendarSystem(settings.calendarSystem);this.locale=settings.locale;this.weekDow=settings.locale.week.dow;this.weekDoy=settings.locale.week.doy;if("ISO"===settings.weekNumberCalculation){this.weekDow=1;this.weekDoy=4}if("number"==typeof settings.firstDay)this.weekDow=settings.firstDay;if("function"==typeof settings.weekNumberCalculation)this.weekNumberFunc=settings.weekNumberCalculation;this.weekText=null!=settings.weekText?settings.weekText:settings.locale.options.weekText;this.weekTextLong=(null!=settings.weekTextLong?settings.weekTextLong:settings.locale.options.weekTextLong)||this.weekText;this.cmdFormatter=settings.cmdFormatter;this.defaultSeparator=settings.defaultSeparator}createMarker(input){let meta=this.createMarkerMeta(input);if(null===meta)return null;return meta.marker}createNowMarker(){if(this.canComputeOffset)return this.timestampToMarker(new Date().valueOf());return arrayToUtcDate(dateToLocalArray(new Date))}createMarkerMeta(input){if("string"==typeof input)return this.parse(input);let marker=null;if("number"==typeof input)marker=this.timestampToMarker(input);else if(input instanceof Date){input=input.valueOf();if(!isNaN(input))marker=this.timestampToMarker(input)}else if(Array.isArray(input))marker=arrayToUtcDate(input);if(null===marker||!isValidDate(marker))return null;return{marker,isTimeUnspecified:false,forcedTzo:null}}parse(s){let parts=internal_common_parse(s);if(null===parts)return null;let{marker}=parts;let forcedTzo=null;if(null!==parts.timeZoneOffset){if(this.canComputeOffset)marker=this.timestampToMarker(marker.valueOf()-6e4*parts.timeZoneOffset);else forcedTzo=parts.timeZoneOffset}return{marker,isTimeUnspecified:parts.isTimeUnspecified,forcedTzo}}getYear(marker){return this.calendarSystem.getMarkerYear(marker)}getMonth(marker){return this.calendarSystem.getMarkerMonth(marker)}getDay(marker){return this.calendarSystem.getMarkerDay(marker)}add(marker,dur){let a=this.calendarSystem.markerToArray(marker);a[0]+=dur.years;a[1]+=dur.months;a[2]+=dur.days;a[6]+=dur.milliseconds;return this.calendarSystem.arrayToMarker(a)}subtract(marker,dur){let a=this.calendarSystem.markerToArray(marker);a[0]-=dur.years;a[1]-=dur.months;a[2]-=dur.days;a[6]-=dur.milliseconds;return this.calendarSystem.arrayToMarker(a)}addYears(marker,n){let a=this.calendarSystem.markerToArray(marker);a[0]+=n;return this.calendarSystem.arrayToMarker(a)}addMonths(marker,n){let a=this.calendarSystem.markerToArray(marker);a[1]+=n;return this.calendarSystem.arrayToMarker(a)}diffWholeYears(m0,m1){let{calendarSystem}=this;if(timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1)&&calendarSystem.getMarkerMonth(m0)===calendarSystem.getMarkerMonth(m1))return calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0);return null}diffWholeMonths(m0,m1){let{calendarSystem}=this;if(timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1))return calendarSystem.getMarkerMonth(m1)-calendarSystem.getMarkerMonth(m0)+(calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0))*12;return null}greatestWholeUnit(m0,m1){let n=this.diffWholeYears(m0,m1);if(null!==n)return{unit:"year",value:n};n=this.diffWholeMonths(m0,m1);if(null!==n)return{unit:"month",value:n};n=diffWholeWeeks(m0,m1);if(null!==n)return{unit:"week",value:n};n=diffWholeDays(m0,m1);if(null!==n)return{unit:"day",value:n};n=diffHours(m0,m1);if(isInt(n))return{unit:"hour",value:n};n=diffMinutes(m0,m1);if(isInt(n))return{unit:"minute",value:n};n=diffSeconds(m0,m1);if(isInt(n))return{unit:"second",value:n};return{unit:"millisecond",value:m1.valueOf()-m0.valueOf()}}countDurationsBetween(m0,m1,d){let diff;if(d.years){diff=this.diffWholeYears(m0,m1);if(null!==diff)return diff/asRoughYears(d)}if(d.months){diff=this.diffWholeMonths(m0,m1);if(null!==diff)return diff/asRoughMonths(d)}if(d.days){diff=diffWholeDays(m0,m1);if(null!==diff)return diff/asRoughDays(d)}return(m1.valueOf()-m0.valueOf())/asRoughMs(d)}startOf(m,unit){if("year"===unit)return this.startOfYear(m);if("month"===unit)return this.startOfMonth(m);if("week"===unit)return this.startOfWeek(m);if("day"===unit)return startOfDay(m);if("hour"===unit)return startOfHour(m);if("minute"===unit)return startOfMinute(m);if("second"===unit)return startOfSecond(m);return null}startOfYear(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m)])}startOfMonth(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m)])}startOfWeek(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m),m.getUTCDate()-(m.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(marker){if(this.weekNumberFunc)return this.weekNumberFunc(this.toDate(marker));return weekOfYear(marker,this.weekDow,this.weekDoy)}format(marker,formatter,dateOptions={}){return formatter.format({marker,timeZoneOffset:null!=dateOptions.forcedTzo?dateOptions.forcedTzo:this.offsetForMarker(marker)},this)}formatRange(start,end,formatter,dateOptions={}){if(dateOptions.isEndExclusive)end=addMs(end,-1);return formatter.formatRange({marker:start,timeZoneOffset:null!=dateOptions.forcedStartTzo?dateOptions.forcedStartTzo:this.offsetForMarker(start)},{marker:end,timeZoneOffset:null!=dateOptions.forcedEndTzo?dateOptions.forcedEndTzo:this.offsetForMarker(end)},this,dateOptions.defaultSeparator)}formatIso(marker,extraOptions={}){let timeZoneOffset=null;if(!extraOptions.omitTimeZoneOffset)timeZoneOffset=null!=extraOptions.forcedTzo?extraOptions.forcedTzo:this.offsetForMarker(marker);return buildIsoString(marker,timeZoneOffset,extraOptions.omitTime)}timestampToMarker(ms){if("local"===this.timeZone)return arrayToUtcDate(dateToLocalArray(new Date(ms)));if("UTC"===this.timeZone||!this.namedTimeZoneImpl)return new Date(ms);return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms))}offsetForMarker(m){if("local"===this.timeZone)return-arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset();if("UTC"===this.timeZone)return 0;if(this.namedTimeZoneImpl)return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));return null}toDate(m,forcedTzo){if("local"===this.timeZone)return arrayToLocalDate(dateToUtcArray(m));if("UTC"===this.timeZone)return new Date(m.valueOf());if(!this.namedTimeZoneImpl)return new Date(m.valueOf()-(forcedTzo||0));return new Date(m.valueOf()-6e4*this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)))}}class Theme{constructor(calendarOptions){if(this.iconOverrideOption)this.setIconOverride(calendarOptions[this.iconOverrideOption])}setIconOverride(iconOverrideHash){let iconClassesCopy;let buttonName;if("object"==typeof iconOverrideHash&&iconOverrideHash){iconClassesCopy=Object.assign({},this.iconClasses);for(buttonName in iconOverrideHash)iconClassesCopy[buttonName]=this.applyIconOverridePrefix(iconOverrideHash[buttonName]);this.iconClasses=iconClassesCopy}else if(false===iconOverrideHash)this.iconClasses={}}applyIconOverridePrefix(className){let prefix=this.iconOverridePrefix;if(prefix&&0!==className.indexOf(prefix))className=prefix+className;return className}getClass(key){return this.classes[key]||""}getIconClass(buttonName,isRtl){let className;className=isRtl&&this.rtlIconClasses?this.rtlIconClasses[buttonName]||this.iconClasses[buttonName]:this.iconClasses[buttonName];if(className)return`${this.baseIconClass} ${className}`;return""}getCustomButtonIconClass(customButtonProps){let className;if(this.iconOverrideCustomButtonOption){className=customButtonProps[this.iconOverrideCustomButtonOption];if(className)return`${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`}return""}}Theme.prototype.classes={};Theme.prototype.iconClasses={};Theme.prototype.baseIconClass="";Theme.prototype.iconOverridePrefix="";function flushSync(runBeforeFlush){runBeforeFlush();let oldDebounceRendering=preact_module_l.debounceRendering;let callbackQ=[];function execCallbackSync(callback){callbackQ.push(callback)}preact_module_l.debounceRendering=execCallbackSync;preact_module_D(preact_module_y(FakeComponent,{}),document.createElement("div"));while(callbackQ.length)callbackQ.shift()();preact_module_l.debounceRendering=oldDebounceRendering}class FakeComponent extends preact_module_x{render(){return preact_module_y("div",{})}componentDidMount(){this.setState({})}}function createContext(defaultValue){let ContextType=preact_module_G(defaultValue);let origProvider=ContextType.Provider;ContextType.Provider=function(){let isNew=!this.getChildContext;let children=origProvider.apply(this,arguments);if(isNew){let subs=[];this.shouldComponentUpdate=_props=>{if(this.props.value!==_props.value)subs.forEach(c=>{c.context=_props.value;c.forceUpdate()})};this.sub=c=>{subs.push(c);let old=c.componentWillUnmount;c.componentWillUnmount=()=>{subs.splice(subs.indexOf(c),1);old&&old.call(c)}}}return children};return ContextType}class ScrollResponder{constructor(execFunc,emitter,scrollTime,scrollTimeReset){this.execFunc=execFunc;this.emitter=emitter;this.scrollTime=scrollTime;this.scrollTimeReset=scrollTimeReset;this.handleScrollRequest=request=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},request);this.drain()};emitter.on("_scrollRequest",this.handleScrollRequest);this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(isDatesNew){if(isDatesNew&&this.scrollTimeReset)this.fireInitialScroll();else this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){if(this.queuedRequest&&this.execFunc(this.queuedRequest))this.queuedRequest=null}}const ViewContextType=createContext({});function buildViewContext(viewSpec,viewApi,viewOptions,dateProfileGenerator,dateEnv,theme,pluginHooks,dispatch,getCurrentData,emitter,calendarApi,registerInteractiveComponent,unregisterInteractiveComponent){return{dateEnv,options:viewOptions,pluginHooks,emitter,dispatch,getCurrentData,calendarApi,viewSpec,viewApi,dateProfileGenerator,theme,isRtl:"rtl"===viewOptions.direction,addResizeHandler(handler){emitter.on("_resize",handler)},removeResizeHandler(handler){emitter.off("_resize",handler)},createScrollResponder(execFunc){return new ScrollResponder(execFunc,emitter,createDuration(viewOptions.scrollTime),viewOptions.scrollTimeReset)},registerInteractiveComponent,unregisterInteractiveComponent}}class PureComponent extends preact_module_x{shouldComponentUpdate(nextProps,nextState){if(this.debug)console.log(getUnequalProps(nextProps,this.props),getUnequalProps(nextState,this.state));return!compareObjs(this.props,nextProps,this.propEquality)||!compareObjs(this.state,nextState,this.stateEquality)}safeSetState(newState){if(!compareObjs(this.state,Object.assign(Object.assign({},this.state),newState),this.stateEquality))this.setState(newState)}}PureComponent.addPropsEquality=addPropsEquality;PureComponent.addStateEquality=addStateEquality;PureComponent.contextType=ViewContextType;PureComponent.prototype.propEquality={};PureComponent.prototype.stateEquality={};class BaseComponent extends PureComponent{}BaseComponent.contextType=ViewContextType;function addPropsEquality(propEquality){let hash=Object.create(this.prototype.propEquality);Object.assign(hash,propEquality);this.prototype.propEquality=hash}function addStateEquality(stateEquality){let hash=Object.create(this.prototype.stateEquality);Object.assign(hash,stateEquality);this.prototype.stateEquality=hash}function setRef(ref,current){if("function"==typeof ref)ref(current);else if(ref)ref.current=current}class ContentInjector extends BaseComponent{constructor(){super(...arguments);this.id=guid();this.queuedDomNodes=[];this.currentDomNodes=[];this.handleEl=el=>{const{options}=this.context;const{generatorName}=this.props;if(!options.customRenderingReplaces||!hasCustomRenderingHandler(generatorName,options))this.updateElRef(el)};this.updateElRef=el=>{if(this.props.elRef)setRef(this.props.elRef,el)}}render(){const{props,context}=this;const{options}=context;const{customGenerator,defaultGenerator,renderProps}=props;const attrs=buildElAttrs(props,[],this.handleEl);let useDefault=false;let innerContent;let queuedDomNodes=[];let currentGeneratorMeta;if(null!=customGenerator){const customGeneratorRes="function"==typeof customGenerator?customGenerator(renderProps,preact_module_y):customGenerator;if(true===customGeneratorRes)useDefault=true;else{const isObject=customGeneratorRes&&"object"==typeof customGeneratorRes;if(isObject&&"html"in customGeneratorRes)attrs.dangerouslySetInnerHTML={__html:customGeneratorRes.html};else if(isObject&&"domNodes"in customGeneratorRes)queuedDomNodes=Array.prototype.slice.call(customGeneratorRes.domNodes);else if(isObject?preact_module_i(customGeneratorRes):"function"!=typeof customGeneratorRes)innerContent=customGeneratorRes;else currentGeneratorMeta=customGeneratorRes}}else useDefault=!hasCustomRenderingHandler(props.generatorName,options);if(useDefault&&defaultGenerator)innerContent=defaultGenerator(renderProps);this.queuedDomNodes=queuedDomNodes;this.currentGeneratorMeta=currentGeneratorMeta;return preact_module_y(props.elTag,attrs,innerContent)}componentDidMount(){this.applyQueueudDomNodes();this.triggerCustomRendering(true)}componentDidUpdate(){this.applyQueueudDomNodes();this.triggerCustomRendering(true)}componentWillUnmount(){this.triggerCustomRendering(false)}triggerCustomRendering(isActive){var _a;const{props,context}=this;const{handleCustomRendering,customRenderingMetaMap}=context.options;if(handleCustomRendering){const generatorMeta=null!==(_a=this.currentGeneratorMeta)&&void 0!==_a?_a:null==customRenderingMetaMap?void 0:customRenderingMetaMap[props.generatorName];if(generatorMeta)handleCustomRendering(Object.assign(Object.assign({id:this.id,isActive,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta},props),{elClasses:(props.elClasses||[]).filter(isTruthy)}))}}applyQueueudDomNodes(){const{queuedDomNodes,currentDomNodes}=this;const el=this.base;if(!isArraysEqual(queuedDomNodes,currentDomNodes)){currentDomNodes.forEach(removeElement);for(let newNode of queuedDomNodes)el.appendChild(newNode);this.currentDomNodes=queuedDomNodes}}}ContentInjector.addPropsEquality({elClasses:isArraysEqual,elStyle:isPropsEqual,elAttrs:isNonHandlerPropsEqual,renderProps:isPropsEqual});function hasCustomRenderingHandler(generatorName,options){var _a;return Boolean(options.handleCustomRendering&&generatorName&&(null===(_a=options.customRenderingMetaMap)||void 0===_a?void 0:_a[generatorName]))}function buildElAttrs(props,extraClassNames,elRef){const attrs=Object.assign(Object.assign({},props.elAttrs),{ref:elRef});if(props.elClasses||extraClassNames)attrs.className=(props.elClasses||[]).concat(extraClassNames||[]).concat(attrs.className||[]).filter(Boolean).join(" ");if(props.elStyle)attrs.style=props.elStyle;return attrs}function isTruthy(val){return Boolean(val)}const RenderId=createContext(0);class ContentContainer extends preact_module_x{constructor(){super(...arguments);this.InnerContent=InnerContentInjector.bind(void 0,this);this.handleEl=el=>{this.el=el;if(this.props.elRef){setRef(this.props.elRef,el);if(el&&this.didMountMisfire)this.componentDidMount()}}}render(){const{props}=this;const generatedClassNames=generateClassNames(props.classNameGenerator,props.renderProps);if(!props.children)return preact_module_y(ContentInjector,Object.assign(Object.assign({},props),{elRef:this.handleEl,elTag:props.elTag||"div",elClasses:(props.elClasses||[]).concat(generatedClassNames),renderId:this.context}));{const elAttrs=buildElAttrs(props,generatedClassNames,this.handleEl);const children=props.children(this.InnerContent,props.renderProps,elAttrs);if(props.elTag)return preact_module_y(props.elTag,elAttrs,children);return children}}componentDidMount(){var _a,_b;if(this.el)null===(_b=(_a=this.props).didMount)||void 0===_b||_b.call(_a,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}));else this.didMountMisfire=true}componentWillUnmount(){var _a,_b;null===(_b=(_a=this.props).willUnmount)||void 0===_b||_b.call(_a,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ContentContainer.contextType=RenderId;function InnerContentInjector(containerComponent,props){const parentProps=containerComponent.props;return preact_module_y(ContentInjector,Object.assign({renderProps:parentProps.renderProps,generatorName:parentProps.generatorName,customGenerator:parentProps.customGenerator,defaultGenerator:parentProps.defaultGenerator,renderId:containerComponent.context},props))}function generateClassNames(classNameGenerator,renderProps){const classNames="function"==typeof classNameGenerator?classNameGenerator(renderProps):classNameGenerator||[];return"string"==typeof classNames?[classNames]:classNames}class ViewContainer extends BaseComponent{render(){let{props,context}=this;let{options}=context;let renderProps={view:context.viewApi};return preact_module_y(ContentContainer,Object.assign({},props,{elTag:props.elTag||"div",elClasses:[...buildViewClassNames(props.viewSpec),...props.elClasses||[]],renderProps:renderProps,classNameGenerator:options.viewClassNames,generatorName:void 0,didMount:options.viewDidMount,willUnmount:options.viewWillUnmount}),()=>props.children)}}function buildViewClassNames(viewSpec){return[`fc-${viewSpec.type}-view`,"fc-view"]}function parseRange(input,dateEnv){let start=null;let end=null;if(input.start)start=dateEnv.createMarker(input.start);if(input.end)end=dateEnv.createMarker(input.end);if(!start&&!end)return null;if(start&&end&&end<start)return null;return{start,end}}function invertRanges(ranges,constraintRange){let invertedRanges=[];let{start}=constraintRange;let i;let dateRange;ranges.sort(compareRanges);for(i=0;i<ranges.length;i+=1){dateRange=ranges[i];if(dateRange.start>start)invertedRanges.push({start,end:dateRange.start});if(dateRange.end>start)start=dateRange.end}if(start<constraintRange.end)invertedRanges.push({start,end:constraintRange.end});return invertedRanges}function compareRanges(range0,range1){return range0.start.valueOf()-range1.start.valueOf()}function intersectRanges(range0,range1){let{start,end}=range0;let newRange=null;if(null!==range1.start)start=null===start?range1.start:new Date(Math.max(start.valueOf(),range1.start.valueOf()));if(null!=range1.end)end=null===end?range1.end:new Date(Math.min(end.valueOf(),range1.end.valueOf()));if(null===start||null===end||start<end)newRange={start,end};return newRange}function rangesEqual(range0,range1){return(null===range0.start?null:range0.start.valueOf())===(null===range1.start?null:range1.start.valueOf())&&(null===range0.end?null:range0.end.valueOf())===(null===range1.end?null:range1.end.valueOf())}function rangesIntersect(range0,range1){return(null===range0.end||null===range1.start||range0.end>range1.start)&&(null===range0.start||null===range1.end||range0.start<range1.end)}function rangeContainsRange(outerRange,innerRange){return(null===outerRange.start||null!==innerRange.start&&innerRange.start>=outerRange.start)&&(null===outerRange.end||null!==innerRange.end&&innerRange.end<=outerRange.end)}function rangeContainsMarker(range,date){return(null===range.start||date>=range.start)&&(null===range.end||date<range.end)}function constrainMarkerToRange(date,range){if(null!=range.start&&date<range.start)return range.start;if(null!=range.end&&date>=range.end)return new Date(range.end.valueOf()-1);return date}function computeAlignedDayRange(timedRange){let dayCnt=Math.floor(diffDays(timedRange.start,timedRange.end))||1;let start=startOfDay(timedRange.start);let end=addDays(start,dayCnt);return{start,end}}function computeVisibleDayRange(timedRange,nextDayThreshold=createDuration(0)){let startDay=null;let endDay=null;if(timedRange.end){endDay=startOfDay(timedRange.end);let endTimeMS=timedRange.end.valueOf()-endDay.valueOf();if(endTimeMS&&endTimeMS>=asRoughMs(nextDayThreshold))endDay=addDays(endDay,1)}if(timedRange.start){startDay=startOfDay(timedRange.start);if(endDay&&endDay<=startDay)endDay=addDays(startDay,1)}return{start:startDay,end:endDay}}function isMultiDayRange(range){let visibleRange=computeVisibleDayRange(range);return diffDays(visibleRange.start,visibleRange.end)>1}function diffDates(date0,date1,dateEnv,largeUnit){if("year"===largeUnit)return createDuration(dateEnv.diffWholeYears(date0,date1),"year");if("month"===largeUnit)return createDuration(dateEnv.diffWholeMonths(date0,date1),"month");return diffDayAndTime(date0,date1)}function reduceCurrentDate(currentDate,action){switch(action.type){case"CHANGE_DATE":return action.dateMarker;default:return currentDate}}function getInitialDate(options,dateEnv){let initialDateInput=options.initialDate;if(null!=initialDateInput)return dateEnv.createMarker(initialDateInput);return getNow(options.now,dateEnv)}function getNow(nowInput,dateEnv){if("function"==typeof nowInput)nowInput=nowInput();if(null==nowInput)return dateEnv.createNowMarker();return dateEnv.createMarker(nowInput)}class DateProfileGenerator{constructor(props){this.props=props;this.nowDate=getNow(props.nowInput,props.dateEnv);this.initHiddenDays()}buildPrev(currentDateProfile,currentDate,forceToValid){let{dateEnv}=this.props;let prevDate=dateEnv.subtract(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(prevDate,-1,forceToValid)}buildNext(currentDateProfile,currentDate,forceToValid){let{dateEnv}=this.props;let nextDate=dateEnv.add(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(nextDate,1,forceToValid)}build(currentDate,direction,forceToValid=true){let{props}=this;let validRange;let currentInfo;let isRangeAllDay;let renderRange;let activeRange;let isValid;validRange=this.buildValidRange();validRange=this.trimHiddenDays(validRange);if(forceToValid)currentDate=constrainMarkerToRange(currentDate,validRange);currentInfo=this.buildCurrentRangeInfo(currentDate,direction);isRangeAllDay=/^(year|month|week|day)$/.test(currentInfo.unit);renderRange=this.buildRenderRange(this.trimHiddenDays(currentInfo.range),currentInfo.unit,isRangeAllDay);renderRange=this.trimHiddenDays(renderRange);activeRange=renderRange;if(!props.showNonCurrentDates)activeRange=intersectRanges(activeRange,currentInfo.range);activeRange=this.adjustActiveRange(activeRange);activeRange=intersectRanges(activeRange,validRange);isValid=rangesIntersect(currentInfo.range,validRange);if(!rangeContainsMarker(renderRange,currentDate))currentDate=renderRange.start;return{currentDate,validRange,currentRange:currentInfo.range,currentRangeUnit:currentInfo.unit,isRangeAllDay,activeRange,renderRange,slotMinTime:props.slotMinTime,slotMaxTime:props.slotMaxTime,isValid,dateIncrement:this.buildDateIncrement(currentInfo.duration)}}buildValidRange(){let input=this.props.validRangeInput;let simpleInput="function"==typeof input?input.call(this.props.calendarApi,this.nowDate):input;return this.refineRange(simpleInput)||{start:null,end:null}}buildCurrentRangeInfo(date,direction){let{props}=this;let duration=null;let unit=null;let range=null;let dayCount;if(props.duration){duration=props.duration;unit=props.durationUnit;range=this.buildRangeFromDuration(date,direction,duration,unit)}else if(dayCount=this.props.dayCount){unit="day";range=this.buildRangeFromDayCount(date,direction,dayCount)}else if(range=this.buildCustomVisibleRange(date))unit=props.dateEnv.greatestWholeUnit(range.start,range.end).unit;else{duration=this.getFallbackDuration();unit=greatestDurationDenominator(duration).unit;range=this.buildRangeFromDuration(date,direction,duration,unit)}return{duration,unit,range}}getFallbackDuration(){return createDuration({day:1})}adjustActiveRange(range){let{dateEnv,usesMinMaxTime,slotMinTime,slotMaxTime}=this.props;let{start,end}=range;if(usesMinMaxTime){if(asRoughDays(slotMinTime)<0){start=startOfDay(start);start=dateEnv.add(start,slotMinTime)}if(asRoughDays(slotMaxTime)>1){end=startOfDay(end);end=addDays(end,-1);end=dateEnv.add(end,slotMaxTime)}}return{start,end}}buildRangeFromDuration(date,direction,duration,unit){let{dateEnv,dateAlignment}=this.props;let start;let end;let res;if(!dateAlignment){let{dateIncrement}=this.props;dateAlignment=dateIncrement?asRoughMs(dateIncrement)<asRoughMs(duration)?greatestDurationDenominator(dateIncrement).unit:unit:unit}if(asRoughDays(duration)<=1){if(this.isHiddenDay(start)){start=this.skipHiddenDays(start,direction);start=startOfDay(start)}}function computeRes(){start=dateEnv.startOf(date,dateAlignment);end=dateEnv.add(start,duration);res={start,end}}computeRes();if(!this.trimHiddenDays(res)){date=this.skipHiddenDays(date,direction);computeRes()}return res}buildRangeFromDayCount(date,direction,dayCount){let{dateEnv,dateAlignment}=this.props;let runningCount=0;let start=date;let end;if(dateAlignment)start=dateEnv.startOf(start,dateAlignment);start=startOfDay(start);start=this.skipHiddenDays(start,direction);end=start;do{end=addDays(end,1);if(!this.isHiddenDay(end))runningCount+=1}while(runningCount<dayCount);return{start,end}}buildCustomVisibleRange(date){let{props}=this;let input=props.visibleRangeInput;let simpleInput="function"==typeof input?input.call(props.calendarApi,props.dateEnv.toDate(date)):input;let range=this.refineRange(simpleInput);if(range&&(null==range.start||null==range.end))return null;return range}buildRenderRange(currentRange,currentRangeUnit,isRangeAllDay){return currentRange}buildDateIncrement(fallback){let{dateIncrement}=this.props;let customAlignment;if(dateIncrement)return dateIncrement;if(customAlignment=this.props.dateAlignment)return createDuration(1,customAlignment);if(fallback)return fallback;return createDuration({days:1})}refineRange(rangeInput){if(rangeInput){let range=parseRange(rangeInput,this.props.dateEnv);if(range)range=computeVisibleDayRange(range);return range}return null}initHiddenDays(){let hiddenDays=this.props.hiddenDays||[];let isHiddenDayHash=[];let dayCnt=0;let i;if(false===this.props.weekends)hiddenDays.push(0,6);for(i=0;i<7;i+=1)if(!(isHiddenDayHash[i]=-1!==hiddenDays.indexOf(i)))dayCnt+=1;if(!dayCnt)throw new Error("invalid hiddenDays");this.isHiddenDayHash=isHiddenDayHash}trimHiddenDays(range){let{start,end}=range;if(start)start=this.skipHiddenDays(start);if(end)end=this.skipHiddenDays(end,-1,true);if(null==start||null==end||start<end)return{start,end};return null}isHiddenDay(day){if(day instanceof Date)day=day.getUTCDay();return this.isHiddenDayHash[day]}skipHiddenDays(date,inc=1,isExclusive=false){while(this.isHiddenDayHash[(date.getUTCDay()+(isExclusive?inc:0)+7)%7])date=addDays(date,inc);return date}}function createEventInstance(defId,range,forcedStartTzo,forcedEndTzo){return{instanceId:guid(),defId,range,forcedStartTzo:null==forcedStartTzo?null:forcedStartTzo,forcedEndTzo:null==forcedEndTzo?null:forcedEndTzo}}function parseRecurring(refined,defaultAllDay,dateEnv,recurringTypes){for(let i=0;i<recurringTypes.length;i+=1){let parsed=recurringTypes[i].parse(refined,dateEnv);if(parsed){let{allDay}=refined;if(null==allDay){allDay=defaultAllDay;if(null==allDay){allDay=parsed.allDayGuess;if(null==allDay)allDay=false}}return{allDay,duration:parsed.duration,typeData:parsed.typeData,typeId:i}}}return null}function expandRecurring(eventStore,framingRange,context){let{dateEnv,pluginHooks,options}=context;let{defs,instances}=eventStore;instances=filterHash(instances,instance=>!defs[instance.defId].recurringDef);for(let defId in defs){let def=defs[defId];if(def.recurringDef){let{duration}=def.recurringDef;if(!duration)duration=def.allDay?options.defaultAllDayEventDuration:options.defaultTimedEventDuration;let starts=expandRecurringRanges(def,duration,framingRange,dateEnv,pluginHooks.recurringTypes);for(let start of starts){let instance=createEventInstance(defId,{start,end:dateEnv.add(start,duration)});instances[instance.instanceId]=instance}}}return{defs,instances}}function expandRecurringRanges(eventDef,duration,framingRange,dateEnv,recurringTypes){let typeDef=recurringTypes[eventDef.recurringDef.typeId];let markers=typeDef.expand(eventDef.recurringDef.typeData,{start:dateEnv.subtract(framingRange.start,duration),end:framingRange.end},dateEnv);if(eventDef.allDay)markers=markers.map(startOfDay);return markers}const EVENT_NON_DATE_REFINERS={id:String,groupId:String,title:String,url:String,interactive:Boolean};const EVENT_DATE_REFINERS={start:internal_common_identity,end:internal_common_identity,date:internal_common_identity,allDay:Boolean};const EVENT_REFINERS=Object.assign(Object.assign(Object.assign({},EVENT_NON_DATE_REFINERS),EVENT_DATE_REFINERS),{extendedProps:internal_common_identity});function parseEvent(raw,eventSource,context,allowOpenRange,refiners=buildEventRefiners(context),defIdMap,instanceIdMap){let{refined,extra}=refineEventDef(raw,context,refiners);let defaultAllDay=computeIsDefaultAllDay(eventSource,context);let recurringRes=parseRecurring(refined,defaultAllDay,context.dateEnv,context.pluginHooks.recurringTypes);if(recurringRes){let def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:"",recurringRes.allDay,Boolean(recurringRes.duration),context,defIdMap);def.recurringDef={typeId:recurringRes.typeId,typeData:recurringRes.typeData,duration:recurringRes.duration};return{def,instance:null}}let singleRes=parseSingle(refined,defaultAllDay,context,allowOpenRange);if(singleRes){let def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:"",singleRes.allDay,singleRes.hasEnd,context,defIdMap);let instance=createEventInstance(def.defId,singleRes.range,singleRes.forcedStartTzo,singleRes.forcedEndTzo);if(instanceIdMap&&def.publicId&&instanceIdMap[def.publicId])instance.instanceId=instanceIdMap[def.publicId];return{def,instance}}return null}function refineEventDef(raw,context,refiners=buildEventRefiners(context)){return refineProps(raw,refiners)}function buildEventRefiners(context){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_REFINERS),context.pluginHooks.eventRefiners)}function parseEventDef(refined,extra,sourceId,allDay,hasEnd,context,defIdMap){let def={title:refined.title||"",groupId:refined.groupId||"",publicId:refined.id||"",url:refined.url||"",recurringDef:null,defId:(defIdMap&&refined.id?defIdMap[refined.id]:"")||guid(),sourceId,allDay,hasEnd,interactive:refined.interactive,ui:createEventUi(refined,context),extendedProps:Object.assign(Object.assign({},refined.extendedProps||{}),extra)};for(let memberAdder of context.pluginHooks.eventDefMemberAdders)Object.assign(def,memberAdder(refined));Object.freeze(def.ui.classNames);Object.freeze(def.extendedProps);return def}function parseSingle(refined,defaultAllDay,context,allowOpenRange){let{allDay}=refined;let startMeta;let startMarker=null;let hasEnd=false;let endMeta;let endMarker=null;let startInput=null!=refined.start?refined.start:refined.date;startMeta=context.dateEnv.createMarkerMeta(startInput);if(startMeta)startMarker=startMeta.marker;else if(!allowOpenRange)return null;if(null!=refined.end)endMeta=context.dateEnv.createMarkerMeta(refined.end);if(null==allDay)allDay=null!=defaultAllDay?defaultAllDay:(!startMeta||startMeta.isTimeUnspecified)&&(!endMeta||endMeta.isTimeUnspecified);if(allDay&&startMarker)startMarker=startOfDay(startMarker);if(endMeta){endMarker=endMeta.marker;if(allDay)endMarker=startOfDay(endMarker);if(startMarker&&endMarker<=startMarker)endMarker=null}if(endMarker)hasEnd=true;else if(!allowOpenRange){hasEnd=context.options.forceEventDuration||false;endMarker=context.dateEnv.add(startMarker,allDay?context.options.defaultAllDayEventDuration:context.options.defaultTimedEventDuration)}return{allDay,hasEnd,range:{start:startMarker,end:endMarker},forcedStartTzo:startMeta?startMeta.forcedTzo:null,forcedEndTzo:endMeta?endMeta.forcedTzo:null}}function computeIsDefaultAllDay(eventSource,context){let res=null;if(eventSource)res=eventSource.defaultAllDay;if(null==res)res=context.options.defaultAllDay;return res}function parseEvents(rawEvents,eventSource,context,allowOpenRange,defIdMap,instanceIdMap){let eventStore=createEmptyEventStore();let eventRefiners=buildEventRefiners(context);for(let rawEvent of rawEvents){let tuple=parseEvent(rawEvent,eventSource,context,allowOpenRange,eventRefiners,defIdMap,instanceIdMap);if(tuple)eventTupleToStore(tuple,eventStore)}return eventStore}function eventTupleToStore(tuple,eventStore=createEmptyEventStore()){eventStore.defs[tuple.def.defId]=tuple.def;if(tuple.instance)eventStore.instances[tuple.instance.instanceId]=tuple.instance;return eventStore}function getRelevantEvents(eventStore,instanceId){let instance=eventStore.instances[instanceId];if(instance){let def=eventStore.defs[instance.defId];let newStore=filterEventStoreDefs(eventStore,lookDef=>isEventDefsGrouped(def,lookDef));newStore.defs[def.defId]=def;newStore.instances[instance.instanceId]=instance;return newStore}return createEmptyEventStore()}function isEventDefsGrouped(def0,def1){return Boolean(def0.groupId&&def0.groupId===def1.groupId)}function createEmptyEventStore(){return{defs:{},instances:{}}}function mergeEventStores(store0,store1){return{defs:Object.assign(Object.assign({},store0.defs),store1.defs),instances:Object.assign(Object.assign({},store0.instances),store1.instances)}}function filterEventStoreDefs(eventStore,filterFunc){let defs=filterHash(eventStore.defs,filterFunc);let instances=filterHash(eventStore.instances,instance=>defs[instance.defId]);return{defs,instances}}function excludeSubEventStore(master,sub){let{defs,instances}=master;let filteredDefs={};let filteredInstances={};for(let defId in defs)if(!sub.defs[defId])filteredDefs[defId]=defs[defId];for(let instanceId in instances)if(!sub.instances[instanceId]&&filteredDefs[instances[instanceId].defId])filteredInstances[instanceId]=instances[instanceId];return{defs:filteredDefs,instances:filteredInstances}}function normalizeConstraint(input,context){if(Array.isArray(input))return parseEvents(input,null,context,true);if("object"==typeof input&&input)return parseEvents([input],null,context,true);if(null!=input)return String(input);return null}function parseClassNames(raw){if(Array.isArray(raw))return raw;if("string"==typeof raw)return raw.split(/\s+/);return[]}const EVENT_UI_REFINERS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:internal_common_identity,overlap:internal_common_identity,allow:internal_common_identity,className:parseClassNames,classNames:parseClassNames,color:String,backgroundColor:String,borderColor:String,textColor:String};const EMPTY_EVENT_UI={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function createEventUi(refined,context){let constraint=normalizeConstraint(refined.constraint,context);return{display:refined.display||null,startEditable:null!=refined.startEditable?refined.startEditable:refined.editable,durationEditable:null!=refined.durationEditable?refined.durationEditable:refined.editable,constraints:null!=constraint?[constraint]:[],overlap:null!=refined.overlap?refined.overlap:null,allows:null!=refined.allow?[refined.allow]:[],backgroundColor:refined.backgroundColor||refined.color||"",borderColor:refined.borderColor||refined.color||"",textColor:refined.textColor||"",classNames:(refined.className||[]).concat(refined.classNames||[])}}function combineEventUis(uis){return uis.reduce(combineTwoEventUis,EMPTY_EVENT_UI)}function combineTwoEventUis(item0,item1){return{display:null!=item1.display?item1.display:item0.display,startEditable:null!=item1.startEditable?item1.startEditable:item0.startEditable,durationEditable:null!=item1.durationEditable?item1.durationEditable:item0.durationEditable,constraints:item0.constraints.concat(item1.constraints),overlap:"boolean"==typeof item1.overlap?item1.overlap:item0.overlap,allows:item0.allows.concat(item1.allows),backgroundColor:item1.backgroundColor||item0.backgroundColor,borderColor:item1.borderColor||item0.borderColor,textColor:item1.textColor||item0.textColor,classNames:item0.classNames.concat(item1.classNames)}}const EVENT_SOURCE_REFINERS={id:String,defaultAllDay:Boolean,url:String,format:String,events:internal_common_identity,eventDataTransform:internal_common_identity,success:internal_common_identity,failure:internal_common_identity};function parseEventSource(raw,context,refiners=buildEventSourceRefiners(context)){let rawObj;if("string"==typeof raw)rawObj={url:raw};else if("function"==typeof raw||Array.isArray(raw))rawObj={events:raw};else if("object"==typeof raw&&raw)rawObj=raw;if(rawObj){let{refined,extra}=refineProps(rawObj,refiners);let metaRes=buildEventSourceMeta(refined,context);if(metaRes)return{_raw:raw,isFetching:false,latestFetchId:"",fetchRange:null,defaultAllDay:refined.defaultAllDay,eventDataTransform:refined.eventDataTransform,success:refined.success,failure:refined.failure,publicId:refined.id||"",sourceId:guid(),sourceDefId:metaRes.sourceDefId,meta:metaRes.meta,ui:createEventUi(refined,context),extendedProps:extra}}return null}function buildEventSourceRefiners(context){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_SOURCE_REFINERS),context.pluginHooks.eventSourceRefiners)}function buildEventSourceMeta(raw,context){let defs=context.pluginHooks.eventSourceDefs;for(let i=defs.length-1;i>=0;i-=1){let def=defs[i];let meta=def.parseMeta(raw);if(meta)return{sourceDefId:i,meta}}return null}function reduceEventStore(eventStore,action,eventSources,dateProfile,context){switch(action.type){case"RECEIVE_EVENTS":return receiveRawEvents(eventStore,eventSources[action.sourceId],action.fetchId,action.fetchRange,action.rawEvents,context);case"RESET_RAW_EVENTS":return resetRawEvents(eventStore,eventSources[action.sourceId],action.rawEvents,dateProfile.activeRange,context);case"ADD_EVENTS":return addEvent(eventStore,action.eventStore,dateProfile?dateProfile.activeRange:null,context);case"RESET_EVENTS":return action.eventStore;case"MERGE_EVENTS":return mergeEventStores(eventStore,action.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(dateProfile)return expandRecurring(eventStore,dateProfile.activeRange,context);return eventStore;case"REMOVE_EVENTS":return excludeSubEventStore(eventStore,action.eventStore);case"REMOVE_EVENT_SOURCE":return excludeEventsBySourceId(eventStore,action.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return filterEventStoreDefs(eventStore,eventDef=>!eventDef.sourceId);case"REMOVE_ALL_EVENTS":return createEmptyEventStore();default:return eventStore}}function receiveRawEvents(eventStore,eventSource,fetchId,fetchRange,rawEvents,context){if(eventSource&&fetchId===eventSource.latestFetchId){let subset=parseEvents(transformRawEvents(rawEvents,eventSource,context),eventSource,context);if(fetchRange)subset=expandRecurring(subset,fetchRange,context);return mergeEventStores(excludeEventsBySourceId(eventStore,eventSource.sourceId),subset)}return eventStore}function resetRawEvents(existingEventStore,eventSource,rawEvents,activeRange,context){const{defIdMap,instanceIdMap}=buildPublicIdMaps(existingEventStore);let newEventStore=parseEvents(transformRawEvents(rawEvents,eventSource,context),eventSource,context,false,defIdMap,instanceIdMap);return expandRecurring(newEventStore,activeRange,context)}function transformRawEvents(rawEvents,eventSource,context){let calEachTransform=context.options.eventDataTransform;let sourceEachTransform=eventSource?eventSource.eventDataTransform:null;if(sourceEachTransform)rawEvents=transformEachRawEvent(rawEvents,sourceEachTransform);if(calEachTransform)rawEvents=transformEachRawEvent(rawEvents,calEachTransform);return rawEvents}function transformEachRawEvent(rawEvents,func){let refinedEvents;if(func){refinedEvents=[];for(let rawEvent of rawEvents){let refinedEvent=func(rawEvent);if(refinedEvent)refinedEvents.push(refinedEvent);else if(null==refinedEvent)refinedEvents.push(rawEvent)}}else refinedEvents=rawEvents;return refinedEvents}function addEvent(eventStore,subset,expandRange,context){if(expandRange)subset=expandRecurring(subset,expandRange,context);return mergeEventStores(eventStore,subset)}function rezoneEventStoreDates(eventStore,oldDateEnv,newDateEnv){let{defs}=eventStore;let instances=mapHash(eventStore.instances,instance=>{let def=defs[instance.defId];if(def.allDay)return instance;return Object.assign(Object.assign({},instance),{range:{start:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start,instance.forcedStartTzo)),end:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end,instance.forcedEndTzo))},forcedStartTzo:newDateEnv.canComputeOffset?null:instance.forcedStartTzo,forcedEndTzo:newDateEnv.canComputeOffset?null:instance.forcedEndTzo})});return{defs,instances}}function excludeEventsBySourceId(eventStore,sourceId){return filterEventStoreDefs(eventStore,eventDef=>eventDef.sourceId!==sourceId)}function excludeInstances(eventStore,removals){return{defs:eventStore.defs,instances:filterHash(eventStore.instances,instance=>!removals[instance.instanceId])}}function buildPublicIdMaps(eventStore){const{defs,instances}=eventStore;const defIdMap={};const instanceIdMap={};for(let defId in defs){const def=defs[defId];const{publicId}=def;if(publicId)defIdMap[publicId]=defId}for(let instanceId in instances){const instance=instances[instanceId];const def=defs[instance.defId];const{publicId}=def;if(publicId)instanceIdMap[publicId]=instanceId}return{defIdMap,instanceIdMap}}class Emitter{constructor(){this.handlers={};this.thisContext=null}setThisContext(thisContext){this.thisContext=thisContext}setOptions(options){this.options=options}on(type,handler){addToHash(this.handlers,type,handler)}off(type,handler){removeFromHash(this.handlers,type,handler)}trigger(type,...args){let attachedHandlers=this.handlers[type]||[];let optionHandler=this.options&&this.options[type];let handlers=[].concat(optionHandler||[],attachedHandlers);for(let handler of handlers)handler.apply(this.thisContext,args)}hasHandlers(type){return Boolean(this.handlers[type]&&this.handlers[type].length||this.options&&this.options[type])}}function addToHash(hash,type,handler){(hash[type]||(hash[type]=[])).push(handler)}function removeFromHash(hash,type,handler){if(handler){if(hash[type])hash[type]=hash[type].filter(func=>func!==handler)}else delete hash[type]}const DEF_DEFAULTS={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function parseBusinessHours(input,context){return parseEvents(refineInputs(input),null,context)}function refineInputs(input){let rawDefs;rawDefs=true===input?[{}]:Array.isArray(input)?input.filter(rawDef=>rawDef.daysOfWeek):"object"==typeof input&&input?[input]:[];rawDefs=rawDefs.map(rawDef=>Object.assign(Object.assign({},DEF_DEFAULTS),rawDef));return rawDefs}function triggerDateSelect(selection,pev,context){context.emitter.trigger("select",Object.assign(Object.assign({},buildDateSpanApiWithContext(selection,context)),{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view}))}function triggerDateUnselect(pev,context){context.emitter.trigger("unselect",{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view})}function buildDateSpanApiWithContext(dateSpan,context){let props={};for(let transform of context.pluginHooks.dateSpanTransforms)Object.assign(props,transform(dateSpan,context));Object.assign(props,buildDateSpanApi(dateSpan,context.dateEnv));return props}function getDefaultEventEnd(allDay,marker,context){let{dateEnv,options}=context;let end=marker;if(allDay){end=startOfDay(end);end=dateEnv.add(end,options.defaultAllDayEventDuration)}else end=dateEnv.add(end,options.defaultTimedEventDuration);return end}function applyMutationToEventStore(eventStore,eventConfigBase,mutation,context){let eventConfigs=compileEventUis(eventStore.defs,eventConfigBase);let dest=createEmptyEventStore();for(let defId in eventStore.defs){let def=eventStore.defs[defId];dest.defs[defId]=applyMutationToEventDef(def,eventConfigs[defId],mutation,context)}for(let instanceId in eventStore.instances){let instance=eventStore.instances[instanceId];let def=dest.defs[instance.defId];dest.instances[instanceId]=applyMutationToEventInstance(instance,def,eventConfigs[instance.defId],mutation,context)}return dest}function applyMutationToEventDef(eventDef,eventConfig,mutation,context){let standardProps=mutation.standardProps||{};if(null==standardProps.hasEnd&&eventConfig.durationEditable&&(mutation.startDelta||mutation.endDelta))standardProps.hasEnd=true;let copy=Object.assign(Object.assign(Object.assign({},eventDef),standardProps),{ui:Object.assign(Object.assign({},eventDef.ui),standardProps.ui)});if(mutation.extendedProps)copy.extendedProps=Object.assign(Object.assign({},copy.extendedProps),mutation.extendedProps);for(let applier of context.pluginHooks.eventDefMutationAppliers)applier(copy,mutation,context);if(!copy.hasEnd&&context.options.forceEventDuration)copy.hasEnd=true;return copy}function applyMutationToEventInstance(eventInstance,eventDef,eventConfig,mutation,context){let{dateEnv}=context;let forceAllDay=mutation.standardProps&&true===mutation.standardProps.allDay;let clearEnd=mutation.standardProps&&false===mutation.standardProps.hasEnd;let copy=Object.assign({},eventInstance);if(forceAllDay)copy.range=computeAlignedDayRange(copy.range);if(mutation.datesDelta&&eventConfig.startEditable)copy.range={start:dateEnv.add(copy.range.start,mutation.datesDelta),end:dateEnv.add(copy.range.end,mutation.datesDelta)};if(mutation.startDelta&&eventConfig.durationEditable)copy.range={start:dateEnv.add(copy.range.start,mutation.startDelta),end:copy.range.end};if(mutation.endDelta&&eventConfig.durationEditable)copy.range={start:copy.range.start,end:dateEnv.add(copy.range.end,mutation.endDelta)};if(clearEnd)copy.range={start:copy.range.start,end:getDefaultEventEnd(eventDef.allDay,copy.range.start,context)};if(eventDef.allDay)copy.range={start:startOfDay(copy.range.start),end:startOfDay(copy.range.end)};if(copy.range.end<copy.range.start)copy.range.end=getDefaultEventEnd(eventDef.allDay,copy.range.start,context);return copy}class EventSourceImpl{constructor(context,internalEventSource){this.context=context;this.internalEventSource=internalEventSource}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:true})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class EventImpl{constructor(context,def,instance){this._context=context;this._def=def;this._instance=instance||null}setProp(name,val){if(name in EVENT_DATE_REFINERS)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===name){val=EVENT_NON_DATE_REFINERS[name](val);this.mutate({standardProps:{publicId:val}})}else if(name in EVENT_NON_DATE_REFINERS){val=EVENT_NON_DATE_REFINERS[name](val);this.mutate({standardProps:{[name]:val}})}else if(name in EVENT_UI_REFINERS){let ui=EVENT_UI_REFINERS[name](val);ui="color"===name?{backgroundColor:val,borderColor:val}:"editable"===name?{startEditable:val,durationEditable:val}:{[name]:val};this.mutate({standardProps:{ui}})}else console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`)}setExtendedProp(name,val){this.mutate({extendedProps:{[name]:val}})}setStart(startInput,options={}){let{dateEnv}=this._context;let start=dateEnv.createMarker(startInput);if(start&&this._instance){let instanceRange=this._instance.range;let startDelta=diffDates(instanceRange.start,start,dateEnv,options.granularity);if(options.maintainDuration)this.mutate({datesDelta:startDelta});else this.mutate({startDelta})}}setEnd(endInput,options={}){let{dateEnv}=this._context;let end;if(null!=endInput){end=dateEnv.createMarker(endInput);if(!end)return}if(this._instance){if(end){let endDelta=diffDates(this._instance.range.end,end,dateEnv,options.granularity);this.mutate({endDelta})}else this.mutate({standardProps:{hasEnd:false}})}}setDates(startInput,endInput,options={}){let{dateEnv}=this._context;let standardProps={allDay:options.allDay};let start=dateEnv.createMarker(startInput);let end;if(!start)return;if(null!=endInput){end=dateEnv.createMarker(endInput);if(!end)return}if(this._instance){let instanceRange=this._instance.range;if(true===options.allDay)instanceRange=computeAlignedDayRange(instanceRange);let startDelta=diffDates(instanceRange.start,start,dateEnv,options.granularity);if(end){let endDelta=diffDates(instanceRange.end,end,dateEnv,options.granularity);if(durationsEqual(startDelta,endDelta))this.mutate({datesDelta:startDelta,standardProps});else this.mutate({startDelta,endDelta,standardProps})}else{standardProps.hasEnd=false;this.mutate({datesDelta:startDelta,standardProps})}}}moveStart(deltaInput){let delta=createDuration(deltaInput);if(delta)this.mutate({startDelta:delta})}moveEnd(deltaInput){let delta=createDuration(deltaInput);if(delta)this.mutate({endDelta:delta})}moveDates(deltaInput){let delta=createDuration(deltaInput);if(delta)this.mutate({datesDelta:delta})}setAllDay(allDay,options={}){let standardProps={allDay};let{maintainDuration}=options;if(null==maintainDuration)maintainDuration=this._context.options.allDayMaintainDuration;if(this._def.allDay!==allDay)standardProps.hasEnd=maintainDuration;this.mutate({standardProps})}formatRange(formatInput){let{dateEnv}=this._context;let instance=this._instance;let formatter=internal_common_createFormatter(formatInput);if(this._def.hasEnd)return dateEnv.formatRange(instance.range.start,instance.range.end,formatter,{forcedStartTzo:instance.forcedStartTzo,forcedEndTzo:instance.forcedEndTzo});return dateEnv.format(instance.range.start,formatter,{forcedTzo:instance.forcedStartTzo})}mutate(mutation){let instance=this._instance;if(instance){let def=this._def;let context=this._context;let{eventStore}=context.getCurrentData();let relevantEvents=getRelevantEvents(eventStore,instance.instanceId);let eventConfigBase={"":{display:"",startEditable:true,durationEditable:true,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}};relevantEvents=applyMutationToEventStore(relevantEvents,eventConfigBase,mutation,context);let oldEvent=new EventImpl(context,def,instance);this._def=relevantEvents.defs[def.defId];this._instance=relevantEvents.instances[instance.instanceId];context.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents});context.emitter.trigger("eventChange",{oldEvent,event:this,relatedEvents:buildEventApis(relevantEvents,context,instance),revert(){context.dispatch({type:"RESET_EVENTS",eventStore})}})}}remove(){let context=this._context;let asStore=eventApiToStore(this);context.dispatch({type:"REMOVE_EVENTS",eventStore:asStore});context.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){context.dispatch({type:"MERGE_EVENTS",eventStore:asStore})}})}get source(){let{sourceId}=this._def;if(sourceId)return new EventSourceImpl(this._context,this._context.getCurrentData().eventSources[sourceId]);return null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let instance=this._instance;if(instance)return this._context.dateEnv.formatIso(instance.range.start,{omitTime:this._def.allDay,forcedTzo:instance.forcedStartTzo});return""}get endStr(){let instance=this._instance;if(instance&&this._def.hasEnd)return this._context.dateEnv.formatIso(instance.range.end,{omitTime:this._def.allDay,forcedTzo:instance.forcedEndTzo});return""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(settings={}){let def=this._def;let{ui}=def;let{startStr,endStr}=this;let res={allDay:def.allDay};if(def.title)res.title=def.title;if(startStr)res.start=startStr;if(endStr)res.end=endStr;if(def.publicId)res.id=def.publicId;if(def.groupId)res.groupId=def.groupId;if(def.url)res.url=def.url;if(ui.display&&"auto"!==ui.display)res.display=ui.display;if(settings.collapseColor&&ui.backgroundColor&&ui.backgroundColor===ui.borderColor)res.color=ui.backgroundColor;else{if(ui.backgroundColor)res.backgroundColor=ui.backgroundColor;if(ui.borderColor)res.borderColor=ui.borderColor}if(ui.textColor)res.textColor=ui.textColor;if(ui.classNames.length)res.classNames=ui.classNames;if(Object.keys(def.extendedProps).length){if(settings.collapseExtendedProps)Object.assign(res,def.extendedProps);else res.extendedProps=def.extendedProps}return res}toJSON(){return this.toPlainObject()}}function eventApiToStore(eventApi){let def=eventApi._def;let instance=eventApi._instance;return{defs:{[def.defId]:def},instances:instance?{[instance.instanceId]:instance}:{}}}function buildEventApis(eventStore,context,excludeInstance){let{defs,instances}=eventStore;let eventApis=[];let excludeInstanceId=excludeInstance?excludeInstance.instanceId:"";for(let id in instances){let instance=instances[id];let def=defs[instance.defId];if(instance.instanceId!==excludeInstanceId)eventApis.push(new EventImpl(context,def,instance))}return eventApis}function internal_common_sliceEventStore(eventStore,eventUiBases,framingRange,nextDayThreshold){let inverseBgByGroupId={};let inverseBgByDefId={};let defByGroupId={};let bgRanges=[];let fgRanges=[];let eventUis=compileEventUis(eventStore.defs,eventUiBases);for(let defId in eventStore.defs){let def=eventStore.defs[defId];let ui=eventUis[def.defId];if("inverse-background"===ui.display){if(def.groupId){inverseBgByGroupId[def.groupId]=[];if(!defByGroupId[def.groupId])defByGroupId[def.groupId]=def}else inverseBgByDefId[defId]=[]}}for(let instanceId in eventStore.instances){let instance=eventStore.instances[instanceId];let def=eventStore.defs[instance.defId];let ui=eventUis[def.defId];let origRange=instance.range;let normalRange=!def.allDay&&nextDayThreshold?computeVisibleDayRange(origRange,nextDayThreshold):origRange;let slicedRange=intersectRanges(normalRange,framingRange);if(slicedRange){if("inverse-background"===ui.display){if(def.groupId)inverseBgByGroupId[def.groupId].push(slicedRange);else inverseBgByDefId[instance.defId].push(slicedRange)}else if("none"!==ui.display)("background"===ui.display?bgRanges:fgRanges).push({def,ui,instance,range:slicedRange,isStart:normalRange.start&&normalRange.start.valueOf()===slicedRange.start.valueOf(),isEnd:normalRange.end&&normalRange.end.valueOf()===slicedRange.end.valueOf()})}}for(let groupId in inverseBgByGroupId){let ranges=inverseBgByGroupId[groupId];let invertedRanges=invertRanges(ranges,framingRange);for(let invertedRange of invertedRanges){let def=defByGroupId[groupId];let ui=eventUis[def.defId];bgRanges.push({def,ui,instance:null,range:invertedRange,isStart:false,isEnd:false})}}for(let defId in inverseBgByDefId){let ranges=inverseBgByDefId[defId];let invertedRanges=invertRanges(ranges,framingRange);for(let invertedRange of invertedRanges)bgRanges.push({def:eventStore.defs[defId],ui:eventUis[defId],instance:null,range:invertedRange,isStart:false,isEnd:false})}return{bg:bgRanges,fg:fgRanges}}function setElSeg(el,seg){el.fcSeg=seg}function getElSeg(el){return el.fcSeg||el.parentNode.fcSeg||null}function compileEventUis(eventDefs,eventUiBases){return mapHash(eventDefs,eventDef=>compileEventUi(eventDef,eventUiBases))}function compileEventUi(eventDef,eventUiBases){let uis=[];if(eventUiBases[""])uis.push(eventUiBases[""]);if(eventUiBases[eventDef.defId])uis.push(eventUiBases[eventDef.defId]);uis.push(eventDef.ui);return combineEventUis(uis)}function sortEventSegs(segs,eventOrderSpecs){let objs=segs.map(buildSegCompareObj);objs.sort((obj0,obj1)=>compareByFieldSpecs(obj0,obj1,eventOrderSpecs));return objs.map(c=>c._seg)}function buildSegCompareObj(seg){let{eventRange}=seg;let eventDef=eventRange.def;let range=eventRange.instance?eventRange.instance.range:eventRange.range;let start=range.start?range.start.valueOf():0;let end=range.end?range.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},eventDef.extendedProps),eventDef),{id:eventDef.publicId,start,end,duration:end-start,allDay:Number(eventDef.allDay),_seg:seg})}function computeSegDraggable(seg,context){let{pluginHooks}=context;let transformers=pluginHooks.isDraggableTransformers;let{def,ui}=seg.eventRange;let val=ui.startEditable;for(let transformer of transformers)val=transformer(val,def,ui,context);return val}function computeSegStartResizable(seg,context){return seg.isStart&&seg.eventRange.ui.durationEditable&&context.options.eventResizableFromStart}function computeSegEndResizable(seg,context){return seg.isEnd&&seg.eventRange.ui.durationEditable}function buildSegTimeText(seg,timeFormat,context,defaultDisplayEventTime,defaultDisplayEventEnd,startOverride,endOverride){let{dateEnv,options}=context;let{displayEventTime,displayEventEnd}=options;let eventDef=seg.eventRange.def;let eventInstance=seg.eventRange.instance;if(null==displayEventTime)displayEventTime=false!==defaultDisplayEventTime;if(null==displayEventEnd)displayEventEnd=false!==defaultDisplayEventEnd;let wholeEventStart=eventInstance.range.start;let wholeEventEnd=eventInstance.range.end;let segStart=startOverride||seg.start||seg.eventRange.range.start;let segEnd=endOverride||seg.end||seg.eventRange.range.end;let isStartDay=startOfDay(wholeEventStart).valueOf()===startOfDay(segStart).valueOf();let isEndDay=startOfDay(addMs(wholeEventEnd,-1)).valueOf()===startOfDay(addMs(segEnd,-1)).valueOf();if(displayEventTime&&!eventDef.allDay&&(isStartDay||isEndDay)){segStart=isStartDay?wholeEventStart:segStart;segEnd=isEndDay?wholeEventEnd:segEnd;if(displayEventEnd&&eventDef.hasEnd)return dateEnv.formatRange(segStart,segEnd,timeFormat,{forcedStartTzo:startOverride?null:eventInstance.forcedStartTzo,forcedEndTzo:endOverride?null:eventInstance.forcedEndTzo});return dateEnv.format(segStart,timeFormat,{forcedTzo:startOverride?null:eventInstance.forcedStartTzo})}return""}function getSegMeta(seg,todayRange,nowDate){let segRange=seg.eventRange.range;return{isPast:segRange.end<=(nowDate||todayRange.start),isFuture:segRange.start>=(nowDate||todayRange.end),isToday:todayRange&&rangeContainsMarker(todayRange,segRange.start)}}function getEventClassNames(props){let classNames=["fc-event"];if(props.isMirror)classNames.push("fc-event-mirror");if(props.isDraggable)classNames.push("fc-event-draggable");if(props.isStartResizable||props.isEndResizable)classNames.push("fc-event-resizable");if(props.isDragging)classNames.push("fc-event-dragging");if(props.isResizing)classNames.push("fc-event-resizing");if(props.isSelected)classNames.push("fc-event-selected");if(props.isStart)classNames.push("fc-event-start");if(props.isEnd)classNames.push("fc-event-end");if(props.isPast)classNames.push("fc-event-past");if(props.isToday)classNames.push("fc-event-today");if(props.isFuture)classNames.push("fc-event-future");return classNames}function buildEventRangeKey(eventRange){return eventRange.instance?eventRange.instance.instanceId:`${eventRange.def.defId}:${eventRange.range.start.toISOString()}`}function getSegAnchorAttrs(seg,context){let{def,instance}=seg.eventRange;let{url}=def;if(url)return{href:url};let{emitter,options}=context;let{eventInteractive}=options;if(null==eventInteractive){eventInteractive=def.interactive;if(null==eventInteractive)eventInteractive=Boolean(emitter.hasHandlers("eventClick"))}if(eventInteractive)return createAriaKeyboardAttrs(ev=>{emitter.trigger("eventClick",{el:ev.target,event:new EventImpl(context,def,instance),jsEvent:ev,view:context.viewApi})});return{}}const STANDARD_PROPS={start:internal_common_identity,end:internal_common_identity,allDay:Boolean};function parseDateSpan(raw,dateEnv,defaultDuration){let span=parseOpenDateSpan(raw,dateEnv);let{range}=span;if(!range.start)return null;if(!range.end){if(null==defaultDuration)return null;range.end=dateEnv.add(range.start,defaultDuration)}return span}function parseOpenDateSpan(raw,dateEnv){let{refined:standardProps,extra}=refineProps(raw,STANDARD_PROPS);let startMeta=standardProps.start?dateEnv.createMarkerMeta(standardProps.start):null;let endMeta=standardProps.end?dateEnv.createMarkerMeta(standardProps.end):null;let{allDay}=standardProps;if(null==allDay)allDay=startMeta&&startMeta.isTimeUnspecified&&(!endMeta||endMeta.isTimeUnspecified);return Object.assign({range:{start:startMeta?startMeta.marker:null,end:endMeta?endMeta.marker:null},allDay},extra)}function isDateSpansEqual(span0,span1){return rangesEqual(span0.range,span1.range)&&span0.allDay===span1.allDay&&isSpanPropsEqual(span0,span1)}function isSpanPropsEqual(span0,span1){for(let propName in span1)if("range"!==propName&&"allDay"!==propName){if(span0[propName]!==span1[propName])return false}for(let propName in span0)if(!(propName in span1))return false;return true}function buildDateSpanApi(span,dateEnv){return Object.assign(Object.assign({},buildRangeApi(span.range,dateEnv,span.allDay)),{allDay:span.allDay})}function buildRangeApiWithTimeZone(range,dateEnv,omitTime){return Object.assign(Object.assign({},buildRangeApi(range,dateEnv,omitTime)),{timeZone:dateEnv.timeZone})}function buildRangeApi(range,dateEnv,omitTime){return{start:dateEnv.toDate(range.start),end:dateEnv.toDate(range.end),startStr:dateEnv.formatIso(range.start,{omitTime}),endStr:dateEnv.formatIso(range.end,{omitTime})}}function fabricateEventRange(dateSpan,eventUiBases,context){let res=refineEventDef({editable:false},context);let def=parseEventDef(res.refined,res.extra,"",dateSpan.allDay,true,context);return{def,ui:compileEventUi(def,eventUiBases),instance:createEventInstance(def.defId,dateSpan.range),range:dateSpan.range,isStart:true,isEnd:true}}function unpromisify(func,normalizedSuccessCallback,normalizedFailureCallback){let isResolved=false;let wrappedSuccess=function(res){if(!isResolved){isResolved=true;normalizedSuccessCallback(res)}};let wrappedFailure=function(error){if(!isResolved){isResolved=true;normalizedFailureCallback(error)}};let res=func(wrappedSuccess,wrappedFailure);if(res&&"function"==typeof res.then)res.then(wrappedSuccess,wrappedFailure)}class JsonRequestError extends Error{constructor(message,response){super(message);this.response=response}}function requestJson(method,url,params){method=method.toUpperCase();const fetchOptions={method};if("GET"===method)url+=(-1===url.indexOf("?")?"?":"&")+new URLSearchParams(params);else{fetchOptions.body=new URLSearchParams(params);fetchOptions.headers={"Content-Type":"application/x-www-form-urlencoded"}}return fetch(url,fetchOptions).then(fetchRes=>{if(fetchRes.ok)return fetchRes.json().then(parsedResponse=>[parsedResponse,fetchRes],()=>{throw new JsonRequestError("Failure parsing JSON",fetchRes)});throw new JsonRequestError("Request failed",fetchRes)})}let canVGrowWithinCell;function getCanVGrowWithinCell(){if(null==canVGrowWithinCell)canVGrowWithinCell=computeCanVGrowWithinCell();return canVGrowWithinCell}function computeCanVGrowWithinCell(){if("undefined"==typeof document)return true;let el=document.createElement("div");el.style.position="absolute";el.style.top="0px";el.style.left="0px";el.innerHTML="<table><tr><td><div></div></td></tr></table>";el.querySelector("table").style.height="100px";el.querySelector("div").style.height="100%";document.body.appendChild(el);let div=el.querySelector("div");let possible=div.offsetHeight>0;document.body.removeChild(el);return possible}class CalendarRoot extends BaseComponent{constructor(){super(...arguments);this.state={forPrint:false};this.handleBeforePrint=()=>{flushSync(()=>{this.setState({forPrint:true})})};this.handleAfterPrint=()=>{flushSync(()=>{this.setState({forPrint:false})})}}render(){let{props}=this;let{options}=props;let{forPrint}=this.state;let isHeightAuto=forPrint||"auto"===options.height||"auto"===options.contentHeight;let height=isHeightAuto||null==options.height?"":options.height;let classNames=["fc",forPrint?"fc-media-print":"fc-media-screen",`fc-direction-${options.direction}`,props.theme.getClass("root")];if(!getCanVGrowWithinCell())classNames.push("fc-liquid-hack");return props.children(classNames,height,isHeightAuto,forPrint)}componentDidMount(){let{emitter}=this.props;emitter.on("_beforeprint",this.handleBeforePrint);emitter.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter}=this.props;emitter.off("_beforeprint",this.handleBeforePrint);emitter.off("_afterprint",this.handleAfterPrint)}}class Interaction{constructor(settings){this.component=settings.component;this.isHitComboAllowed=settings.isHitComboAllowed||null}destroy(){}}function parseInteractionSettings(component,input){return{component,el:input.el,useEventCenter:null!=input.useEventCenter?input.useEventCenter:true,isHitComboAllowed:input.isHitComboAllowed||null}}function interactionSettingsToStore(settings){return{[settings.component.uid]:settings}}const interactionSettingsStore={};class CalendarImpl{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(action){this.currentDataManager.dispatch(action)}get view(){return this.getCurrentData().viewApi}batchRendering(callback){callback()}updateSize(){this.trigger("_resize",true)}setOption(name,val){this.dispatch({type:"SET_OPTION",optionName:name,rawOptionValue:val})}getOption(name){return this.currentDataManager.currentCalendarOptionsInput[name]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(handlerName,handler){let{currentDataManager}=this;if(currentDataManager.currentCalendarOptionsRefiners[handlerName])currentDataManager.emitter.on(handlerName,handler);else console.warn(`Unknown listener name '${handlerName}'`)}off(handlerName,handler){this.currentDataManager.emitter.off(handlerName,handler)}trigger(handlerName,...args){this.currentDataManager.emitter.trigger(handlerName,...args)}changeView(viewType,dateOrRange){this.batchRendering(()=>{this.unselect();if(dateOrRange){if(dateOrRange.start&&dateOrRange.end){this.dispatch({type:"CHANGE_VIEW_TYPE",viewType});this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:dateOrRange})}else{let{dateEnv}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType,dateMarker:dateEnv.createMarker(dateOrRange)})}}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType})})}zoomTo(dateMarker,viewType){let state=this.getCurrentData();let spec;viewType=viewType||"day";spec=state.viewSpecs[viewType]||this.getUnitViewSpec(viewType);this.unselect();if(spec)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:spec.type,dateMarker});else this.dispatch({type:"CHANGE_DATE",dateMarker})}getUnitViewSpec(unit){let{viewSpecs,toolbarConfig}=this.getCurrentData();let viewTypes=[].concat(toolbarConfig.header?toolbarConfig.header.viewsWithButtons:[],toolbarConfig.footer?toolbarConfig.footer.viewsWithButtons:[]);let i;let spec;for(let viewType in viewSpecs)viewTypes.push(viewType);for(i=0;i<viewTypes.length;i+=1){spec=viewSpecs[viewTypes[i]];if(spec){if(spec.singleUnit===unit)return spec}}return null}prev(){this.unselect();this.dispatch({type:"PREV"})}next(){this.unselect();this.dispatch({type:"NEXT"})}prevYear(){let state=this.getCurrentData();this.unselect();this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.addYears(state.currentDate,-1)})}nextYear(){let state=this.getCurrentData();this.unselect();this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.addYears(state.currentDate,1)})}today(){let state=this.getCurrentData();this.unselect();this.dispatch({type:"CHANGE_DATE",dateMarker:getNow(state.calendarOptions.now,state.dateEnv)})}gotoDate(zonedDateInput){let state=this.getCurrentData();this.unselect();this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.createMarker(zonedDateInput)})}incrementDate(deltaInput){let state=this.getCurrentData();let delta=createDuration(deltaInput);if(delta){this.unselect();this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.add(state.currentDate,delta)})}}getDate(){let state=this.getCurrentData();return state.dateEnv.toDate(state.currentDate)}formatDate(d,formatter){let{dateEnv}=this.getCurrentData();return dateEnv.format(dateEnv.createMarker(d),internal_common_createFormatter(formatter))}formatRange(d0,d1,settings){let{dateEnv}=this.getCurrentData();return dateEnv.formatRange(dateEnv.createMarker(d0),dateEnv.createMarker(d1),internal_common_createFormatter(settings),settings)}formatIso(d,omitTime){let{dateEnv}=this.getCurrentData();return dateEnv.formatIso(dateEnv.createMarker(d),{omitTime})}select(dateOrObj,endDate){let selectionInput;selectionInput=null==endDate?null!=dateOrObj.start?dateOrObj:{start:dateOrObj,end:null}:{start:dateOrObj,end:endDate};let state=this.getCurrentData();let selection=parseDateSpan(selectionInput,state.dateEnv,createDuration({days:1}));if(selection){this.dispatch({type:"SELECT_DATES",selection});triggerDateSelect(selection,null,state)}}unselect(pev){let state=this.getCurrentData();if(state.dateSelection){this.dispatch({type:"UNSELECT_DATES"});triggerDateUnselect(pev,state)}}addEvent(eventInput,sourceInput){if(eventInput instanceof EventImpl){let def=eventInput._def;let instance=eventInput._instance;let currentData=this.getCurrentData();if(!currentData.eventStore.defs[def.defId]){this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore({def,instance})});this.triggerEventAdd(eventInput)}return eventInput}let state=this.getCurrentData();let eventSource;if(sourceInput instanceof EventSourceImpl)eventSource=sourceInput.internalEventSource;else if("boolean"==typeof sourceInput){if(sourceInput)[eventSource]=hashValuesToArray(state.eventSources)}else if(null!=sourceInput){let sourceApi=this.getEventSourceById(sourceInput);if(!sourceApi){console.warn(`Could not find an event source with ID "${sourceInput}"`);return null}eventSource=sourceApi.internalEventSource}let tuple=parseEvent(eventInput,eventSource,state,false);if(tuple){let newEventApi=new EventImpl(state,tuple.def,tuple.def.recurringDef?null:tuple.instance);this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore(tuple)});this.triggerEventAdd(newEventApi);return newEventApi}return null}triggerEventAdd(eventApi){let{emitter}=this.getCurrentData();emitter.trigger("eventAdd",{event:eventApi,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:eventApiToStore(eventApi)})}})}getEventById(id){let state=this.getCurrentData();let{defs,instances}=state.eventStore;id=String(id);for(let defId in defs){let def=defs[defId];if(def.publicId===id){if(def.recurringDef)return new EventImpl(state,def,null);for(let instanceId in instances){let instance=instances[instanceId];if(instance.defId===def.defId)return new EventImpl(state,def,instance)}}}return null}getEvents(){let currentData=this.getCurrentData();return buildEventApis(currentData.eventStore,currentData)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let state=this.getCurrentData();let sourceHash=state.eventSources;let sourceApis=[];for(let internalId in sourceHash)sourceApis.push(new EventSourceImpl(state,sourceHash[internalId]));return sourceApis}getEventSourceById(id){let state=this.getCurrentData();let sourceHash=state.eventSources;id=String(id);for(let sourceId in sourceHash)if(sourceHash[sourceId].publicId===id)return new EventSourceImpl(state,sourceHash[sourceId]);return null}addEventSource(sourceInput){let state=this.getCurrentData();if(sourceInput instanceof EventSourceImpl){if(!state.eventSources[sourceInput.internalEventSource.sourceId])this.dispatch({type:"ADD_EVENT_SOURCES",sources:[sourceInput.internalEventSource]});return sourceInput}let eventSource=parseEventSource(sourceInput,state);if(eventSource){this.dispatch({type:"ADD_EVENT_SOURCES",sources:[eventSource]});return new EventSourceImpl(state,eventSource)}return null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:true})}scrollToTime(timeInput){let time=createDuration(timeInput);if(time)this.trigger("_scrollRequest",{time})}}function pointInsideRect(point,rect){return point.left>=rect.left&&point.left<rect.right&&point.top>=rect.top&&point.top<rect.bottom}function intersectRects(rect1,rect2){let res={left:Math.max(rect1.left,rect2.left),right:Math.min(rect1.right,rect2.right),top:Math.max(rect1.top,rect2.top),bottom:Math.min(rect1.bottom,rect2.bottom)};if(res.left<res.right&&res.top<res.bottom)return res;return false}function constrainPoint(point,rect){return{left:Math.min(Math.max(point.left,rect.left),rect.right),top:Math.min(Math.max(point.top,rect.top),rect.bottom)}}function getRectCenter(rect){return{left:(rect.left+rect.right)/2,top:(rect.top+rect.bottom)/2}}function diffPoints(point1,point2){return{left:point1.left-point2.left,top:point1.top-point2.top}}createEmptyEventStore();function getDateMeta(date,todayRange,nowDate,dateProfile){return{dow:date.getUTCDay(),isDisabled:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.activeRange,date)),isOther:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.currentRange,date)),isToday:Boolean(todayRange&&rangeContainsMarker(todayRange,date)),isPast:Boolean(nowDate?date<nowDate:todayRange?date<todayRange.start:false),isFuture:Boolean(nowDate?date>nowDate:todayRange?date>=todayRange.end:false)}}function getDayClassNames(meta,theme){let classNames=["fc-day",`fc-day-${DAY_IDS[meta.dow]}`];if(meta.isDisabled)classNames.push("fc-day-disabled");else{if(meta.isToday){classNames.push("fc-day-today");classNames.push(theme.getClass("today"))}if(meta.isPast)classNames.push("fc-day-past");if(meta.isFuture)classNames.push("fc-day-future");if(meta.isOther)classNames.push("fc-day-other")}return classNames}const DAY_FORMAT=internal_common_createFormatter({year:"numeric",month:"long",day:"numeric"});const WEEK_FORMAT=internal_common_createFormatter({week:"long"});function buildNavLinkAttrs(context,dateMarker,viewType="day",isTabbable=true){const{dateEnv,options,calendarApi}=context;let dateStr=dateEnv.format(dateMarker,"week"===viewType?WEEK_FORMAT:DAY_FORMAT);if(options.navLinks){let zonedDate=dateEnv.toDate(dateMarker);const handleInteraction=ev=>{let customAction="day"===viewType?options.navLinkDayClick:"week"===viewType?options.navLinkWeekClick:null;if("function"==typeof customAction)customAction.call(calendarApi,dateEnv.toDate(dateMarker),ev);else{if("string"==typeof customAction)viewType=customAction;calendarApi.zoomTo(dateMarker,viewType)}};return Object.assign({title:formatWithOrdinals(options.navLinkHint,[dateStr,zonedDate],dateStr),"data-navlink":""},isTabbable?createAriaClickAttrs(handleInteraction):{onClick:handleInteraction})}return{"aria-label":dateStr}}let _isRtlScrollbarOnLeft=null;function getIsRtlScrollbarOnLeft(){if(null===_isRtlScrollbarOnLeft)_isRtlScrollbarOnLeft=computeIsRtlScrollbarOnLeft();return _isRtlScrollbarOnLeft}function computeIsRtlScrollbarOnLeft(){let outerEl=document.createElement("div");applyStyle(outerEl,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"});outerEl.innerHTML="<div></div>";document.body.appendChild(outerEl);let innerEl=outerEl.firstChild;let res=innerEl.getBoundingClientRect().left>outerEl.getBoundingClientRect().left;removeElement(outerEl);return res}let _scrollbarWidths;function getScrollbarWidths(){if(!_scrollbarWidths)_scrollbarWidths=computeScrollbarWidths();return _scrollbarWidths}function computeScrollbarWidths(){let el=document.createElement("div");el.style.overflow="scroll";el.style.position="absolute";el.style.top="-9999px";el.style.left="-9999px";document.body.appendChild(el);let res=computeScrollbarWidthsForEl(el);document.body.removeChild(el);return res}function computeScrollbarWidthsForEl(el){return{x:el.offsetHeight-el.clientHeight,y:el.offsetWidth-el.clientWidth}}function computeEdges(el,getPadding=false){let computedStyle=window.getComputedStyle(el);let borderLeft=parseInt(computedStyle.borderLeftWidth,10)||0;let borderRight=parseInt(computedStyle.borderRightWidth,10)||0;let borderTop=parseInt(computedStyle.borderTopWidth,10)||0;let borderBottom=parseInt(computedStyle.borderBottomWidth,10)||0;let badScrollbarWidths=computeScrollbarWidthsForEl(el);let scrollbarLeftRight=badScrollbarWidths.y-borderLeft-borderRight;let scrollbarBottom=badScrollbarWidths.x-borderTop-borderBottom;let res={borderLeft,borderRight,borderTop,borderBottom,scrollbarBottom,scrollbarLeft:0,scrollbarRight:0};if(getIsRtlScrollbarOnLeft()&&"rtl"===computedStyle.direction)res.scrollbarLeft=scrollbarLeftRight;else res.scrollbarRight=scrollbarLeftRight;if(getPadding){res.paddingLeft=parseInt(computedStyle.paddingLeft,10)||0;res.paddingRight=parseInt(computedStyle.paddingRight,10)||0;res.paddingTop=parseInt(computedStyle.paddingTop,10)||0;res.paddingBottom=parseInt(computedStyle.paddingBottom,10)||0}return res}function computeInnerRect(el,goWithinPadding=false,doFromWindowViewport){let outerRect=doFromWindowViewport?el.getBoundingClientRect():computeRect(el);let edges=computeEdges(el,goWithinPadding);let res={left:outerRect.left+edges.borderLeft+edges.scrollbarLeft,right:outerRect.right-edges.borderRight-edges.scrollbarRight,top:outerRect.top+edges.borderTop,bottom:outerRect.bottom-edges.borderBottom-edges.scrollbarBottom};if(goWithinPadding){res.left+=edges.paddingLeft;res.right-=edges.paddingRight;res.top+=edges.paddingTop;res.bottom-=edges.paddingBottom}return res}function computeRect(el){let rect=el.getBoundingClientRect();return{left:rect.left+window.scrollX,top:rect.top+window.scrollY,right:rect.right+window.scrollX,bottom:rect.bottom+window.scrollY}}function computeClippedClientRect(el){let clippingParents=getClippingParents(el);let rect=el.getBoundingClientRect();for(let clippingParent of clippingParents){let intersection=intersectRects(rect,clippingParent.getBoundingClientRect());if(!intersection)return null;rect=intersection}return rect}function getClippingParents(el){let parents=[];while(el instanceof HTMLElement){let computedStyle=window.getComputedStyle(el);if("fixed"===computedStyle.position)break;if(/(auto|scroll)/.test(computedStyle.overflow+computedStyle.overflowY+computedStyle.overflowX))parents.push(el);el=el.parentNode}return parents}class PositionCache{constructor(originEl,els,isHorizontal,isVertical){this.els=els;let originClientRect=this.originClientRect=originEl.getBoundingClientRect();if(isHorizontal)this.buildElHorizontals(originClientRect.left);if(isVertical)this.buildElVerticals(originClientRect.top)}buildElHorizontals(originClientLeft){let lefts=[];let rights=[];for(let el of this.els){let rect=el.getBoundingClientRect();lefts.push(rect.left-originClientLeft);rights.push(rect.right-originClientLeft)}this.lefts=lefts;this.rights=rights}buildElVerticals(originClientTop){let tops=[];let bottoms=[];for(let el of this.els){let rect=el.getBoundingClientRect();tops.push(rect.top-originClientTop);bottoms.push(rect.bottom-originClientTop)}this.tops=tops;this.bottoms=bottoms}leftToIndex(leftPosition){let{lefts,rights}=this;let len=lefts.length;let i;for(i=0;i<len;i+=1)if(leftPosition>=lefts[i]&&leftPosition<rights[i])return i}topToIndex(topPosition){let{tops,bottoms}=this;let len=tops.length;let i;for(i=0;i<len;i+=1)if(topPosition>=tops[i]&&topPosition<bottoms[i])return i}getWidth(leftIndex){return this.rights[leftIndex]-this.lefts[leftIndex]}getHeight(topIndex){return this.bottoms[topIndex]-this.tops[topIndex]}similarTo(otherCache){return similarNumArrays(this.tops||[],otherCache.tops||[])&&similarNumArrays(this.bottoms||[],otherCache.bottoms||[])&&similarNumArrays(this.lefts||[],otherCache.lefts||[])&&similarNumArrays(this.rights||[],otherCache.rights||[])}}function similarNumArrays(a,b){const len=a.length;if(len!==b.length)return false;for(let i=0;i<len;i++)if(Math.round(a[i])!==Math.round(b[i]))return false;return true}class ScrollController{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class ElementScrollController extends ScrollController{constructor(el){super();this.el=el}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(top){this.el.scrollTop=top}setScrollLeft(left){this.el.scrollLeft=left}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class WindowScrollController extends ScrollController{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(n){window.scroll(window.scrollX,n)}setScrollLeft(n){window.scroll(n,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class DateComponent extends BaseComponent{constructor(){super(...arguments);this.uid=guid()}prepareHits(){}queryHit(positionLeft,positionTop,elWidth,elHeight){return null}isValidSegDownEl(el){return!this.props.eventDrag&&!this.props.eventResize&&!elementClosest(el,".fc-event-mirror")}isValidDateDownEl(el){return!elementClosest(el,".fc-event:not(.fc-bg-event)")&&!elementClosest(el,".fc-more-link")&&!elementClosest(el,"a[data-navlink]")&&!elementClosest(el,".fc-popover")}}class SegHierarchy{constructor(getEntryThickness=entry=>entry.thickness||1){this.getEntryThickness=getEntryThickness;this.strictOrder=false;this.allowReslicing=false;this.maxCoord=-1;this.maxStackCnt=-1;this.levelCoords=[];this.entriesByLevel=[];this.stackCnts={}}addSegs(inputs){let hiddenEntries=[];for(let input of inputs)this.insertEntry(input,hiddenEntries);return hiddenEntries}insertEntry(entry,hiddenEntries){let insertion=this.findInsertion(entry);if(this.isInsertionValid(insertion,entry))this.insertEntryAt(entry,insertion);else this.handleInvalidInsertion(insertion,entry,hiddenEntries)}isInsertionValid(insertion,entry){return(-1===this.maxCoord||insertion.levelCoord+this.getEntryThickness(entry)<=this.maxCoord)&&(-1===this.maxStackCnt||insertion.stackCnt<this.maxStackCnt)}handleInvalidInsertion(insertion,entry,hiddenEntries){if(this.allowReslicing&&insertion.touchingEntry){const hiddenEntry=Object.assign(Object.assign({},entry),{span:intersectSpans(entry.span,insertion.touchingEntry.span)});hiddenEntries.push(hiddenEntry);this.splitEntry(entry,insertion.touchingEntry,hiddenEntries)}else hiddenEntries.push(entry)}splitEntry(entry,barrier,hiddenEntries){let entrySpan=entry.span;let barrierSpan=barrier.span;if(entrySpan.start<barrierSpan.start)this.insertEntry({index:entry.index,thickness:entry.thickness,span:{start:entrySpan.start,end:barrierSpan.start}},hiddenEntries);if(entrySpan.end>barrierSpan.end)this.insertEntry({index:entry.index,thickness:entry.thickness,span:{start:barrierSpan.end,end:entrySpan.end}},hiddenEntries)}insertEntryAt(entry,insertion){let{entriesByLevel,levelCoords}=this;if(-1===insertion.lateral){insertAt(levelCoords,insertion.level,insertion.levelCoord);insertAt(entriesByLevel,insertion.level,[entry])}else insertAt(entriesByLevel[insertion.level],insertion.lateral,entry);this.stackCnts[buildEntryKey(entry)]=insertion.stackCnt}findInsertion(newEntry){let{levelCoords,entriesByLevel,strictOrder,stackCnts}=this;let levelCnt=levelCoords.length;let candidateCoord=0;let touchingLevel=-1;let touchingLateral=-1;let touchingEntry=null;let stackCnt=0;for(let trackingLevel=0;trackingLevel<levelCnt;trackingLevel+=1){const trackingCoord=levelCoords[trackingLevel];if(!strictOrder&&trackingCoord>=candidateCoord+this.getEntryThickness(newEntry))break;let trackingEntries=entriesByLevel[trackingLevel];let trackingEntry;let searchRes=binarySearch(trackingEntries,newEntry.span.start,getEntrySpanEnd);let lateralIndex=searchRes[0]+searchRes[1];while((trackingEntry=trackingEntries[lateralIndex])&&trackingEntry.span.start<newEntry.span.end){let trackingEntryBottom=trackingCoord+this.getEntryThickness(trackingEntry);if(trackingEntryBottom>candidateCoord){candidateCoord=trackingEntryBottom;touchingEntry=trackingEntry;touchingLevel=trackingLevel;touchingLateral=lateralIndex}if(trackingEntryBottom===candidateCoord)stackCnt=Math.max(stackCnt,stackCnts[buildEntryKey(trackingEntry)]+1);lateralIndex+=1}}let destLevel=0;if(touchingEntry){destLevel=touchingLevel+1;while(destLevel<levelCnt&&levelCoords[destLevel]<candidateCoord)destLevel+=1}let destLateral=-1;if(destLevel<levelCnt&&levelCoords[destLevel]===candidateCoord)destLateral=binarySearch(entriesByLevel[destLevel],newEntry.span.end,getEntrySpanEnd)[0];return{touchingLevel,touchingLateral,touchingEntry,stackCnt,levelCoord:candidateCoord,level:destLevel,lateral:destLateral}}toRects(){let{entriesByLevel,levelCoords}=this;let levelCnt=entriesByLevel.length;let rects=[];for(let level=0;level<levelCnt;level+=1){let entries=entriesByLevel[level];let levelCoord=levelCoords[level];for(let entry of entries)rects.push(Object.assign(Object.assign({},entry),{thickness:this.getEntryThickness(entry),levelCoord}))}return rects}}function getEntrySpanEnd(entry){return entry.span.end}function buildEntryKey(entry){return entry.index+":"+entry.span.start}function intersectSpans(span0,span1){let start=Math.max(span0.start,span1.start);let end=Math.min(span0.end,span1.end);if(start<end)return{start,end};return null}function insertAt(arr,index,item){arr.splice(index,0,item)}function binarySearch(a,searchVal,getItemVal){let startIndex=0;let endIndex=a.length;if(!endIndex||searchVal<getItemVal(a[startIndex]))return[0,0];if(searchVal>getItemVal(a[endIndex-1]))return[endIndex,0];while(startIndex<endIndex){let middleIndex=Math.floor(startIndex+(endIndex-startIndex)/2);let middleVal=getItemVal(a[middleIndex]);if(searchVal<middleVal)endIndex=middleIndex;else{if(!(searchVal>middleVal))return[middleIndex,1];startIndex=middleIndex+1}}return[startIndex,0]}class ElementDragging{constructor(el,selector){this.emitter=new Emitter}destroy(){}setMirrorIsVisible(bool){}setMirrorNeedsRevert(bool){}setAutoScrollEnabled(bool){}}const internal_common_config={};function computeFallbackHeaderFormat(datesRepDistinctDays,dayCnt){if(!datesRepDistinctDays||dayCnt>10)return internal_common_createFormatter({weekday:"short"});if(dayCnt>1)return internal_common_createFormatter({weekday:"short",month:"numeric",day:"numeric",omitCommas:true});return internal_common_createFormatter({weekday:"long"})}const CLASS_NAME="fc-col-header-cell";function renderInner$1(renderProps){return renderProps.text}class TableDateCell extends BaseComponent{render(){let{dateEnv,options,theme,viewApi}=this.context;let{props}=this;let{date,dateProfile}=props;let dayMeta=getDateMeta(date,props.todayRange,null,dateProfile);let classNames=[CLASS_NAME].concat(getDayClassNames(dayMeta,theme));let text=dateEnv.format(date,props.dayHeaderFormat);let navLinkAttrs=!dayMeta.isDisabled&&props.colCnt>1?buildNavLinkAttrs(this.context,date):{};let renderProps=Object.assign(Object.assign(Object.assign({date:dateEnv.toDate(date),view:viewApi},props.extraRenderProps),{text}),dayMeta);return preact_module_y(ContentContainer,{elTag:"th",elClasses:classNames,elAttrs:Object.assign({role:"columnheader",colSpan:props.colSpan,"data-date":dayMeta.isDisabled?void 0:formatDayString(date)},props.extraDataAttrs),renderProps:renderProps,generatorName:"dayHeaderContent",customGenerator:options.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:options.dayHeaderClassNames,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},InnerContainer=>preact_module_y("div",{className:"fc-scrollgrid-sync-inner"},!dayMeta.isDisabled&&preact_module_y(InnerContainer,{elTag:"a",elAttrs:navLinkAttrs,elClasses:["fc-col-header-cell-cushion",props.isSticky&&"fc-sticky"]})))}}const WEEKDAY_FORMAT=internal_common_createFormatter({weekday:"long"});class TableDowCell extends BaseComponent{render(){let{props}=this;let{dateEnv,theme,viewApi,options}=this.context;let date=addDays(new Date(2592e5),props.dow);let dateMeta={dow:props.dow,isDisabled:false,isFuture:false,isPast:false,isToday:false,isOther:false};let text=dateEnv.format(date,props.dayHeaderFormat);let renderProps=Object.assign(Object.assign(Object.assign(Object.assign({date},dateMeta),{view:viewApi}),props.extraRenderProps),{text});return preact_module_y(ContentContainer,{elTag:"th",elClasses:[CLASS_NAME,...getDayClassNames(dateMeta,theme),...props.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:props.colSpan},props.extraDataAttrs),renderProps:renderProps,generatorName:"dayHeaderContent",customGenerator:options.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:options.dayHeaderClassNames,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},InnerContent=>preact_module_y("div",{className:"fc-scrollgrid-sync-inner"},preact_module_y(InnerContent,{elTag:"a",elClasses:["fc-col-header-cell-cushion",props.isSticky&&"fc-sticky"],elAttrs:{"aria-label":dateEnv.format(date,WEEKDAY_FORMAT)}})))}}class NowTimer extends preact_module_x{constructor(props,context){super(props,context);this.initialNowDate=getNow(context.options.now,context.dateEnv);this.initialNowQueriedMs=new Date().valueOf();this.state=this.computeTiming().currentState}render(){let{props,state}=this;return props.children(state.nowDate,state.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(prevProps){if(prevProps.unit!==this.props.unit){this.clearTimeout();this.setTimeout()}}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props,context}=this;let unroundedNow=addMs(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs);let currentUnitStart=context.dateEnv.startOf(unroundedNow,props.unit);let nextUnitStart=context.dateEnv.add(currentUnitStart,createDuration(1,props.unit));let waitMs=nextUnitStart.valueOf()-unroundedNow.valueOf();waitMs=Math.min(864e5,waitMs);return{currentState:{nowDate:currentUnitStart,todayRange:buildDayRange(currentUnitStart)},nextState:{nowDate:nextUnitStart,todayRange:buildDayRange(nextUnitStart)},waitMs}}setTimeout(){let{nextState,waitMs}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(nextState,()=>{this.setTimeout()})},waitMs)}clearTimeout(){if(this.timeoutId)clearTimeout(this.timeoutId)}}NowTimer.contextType=ViewContextType;function buildDayRange(date){let start=startOfDay(date);let end=addDays(start,1);return{start,end}}class DayHeader extends BaseComponent{constructor(){super(...arguments);this.createDayHeaderFormatter=memoize(createDayHeaderFormatter)}render(){let{context}=this;let{dates,dateProfile,datesRepDistinctDays,renderIntro}=this.props;let dayHeaderFormat=this.createDayHeaderFormatter(context.options.dayHeaderFormat,datesRepDistinctDays,dates.length);return preact_module_y(NowTimer,{unit:"day"},(nowDate,todayRange)=>preact_module_y("tr",{role:"row"},renderIntro&&renderIntro("day"),dates.map(date=>datesRepDistinctDays?preact_module_y(TableDateCell,{key:date.toISOString(),date:date,dateProfile:dateProfile,todayRange:todayRange,colCnt:dates.length,dayHeaderFormat:dayHeaderFormat}):preact_module_y(TableDowCell,{key:date.getUTCDay(),dow:date.getUTCDay(),dayHeaderFormat:dayHeaderFormat}))))}}function createDayHeaderFormatter(explicitFormat,datesRepDistinctDays,dateCnt){return explicitFormat||computeFallbackHeaderFormat(datesRepDistinctDays,dateCnt)}class DaySeriesModel{constructor(range,dateProfileGenerator){let date=range.start;let{end}=range;let indices=[];let dates=[];let dayIndex=-1;while(date<end){if(dateProfileGenerator.isHiddenDay(date))indices.push(dayIndex+.5);else{dayIndex+=1;indices.push(dayIndex);dates.push(date)}date=addDays(date,1)}this.dates=dates;this.indices=indices;this.cnt=dates.length}sliceRange(range){let firstIndex=this.getDateDayIndex(range.start);let lastIndex=this.getDateDayIndex(addDays(range.end,-1));let clippedFirstIndex=Math.max(0,firstIndex);let clippedLastIndex=Math.min(this.cnt-1,lastIndex);clippedFirstIndex=Math.ceil(clippedFirstIndex);clippedLastIndex=Math.floor(clippedLastIndex);if(clippedFirstIndex<=clippedLastIndex)return{firstIndex:clippedFirstIndex,lastIndex:clippedLastIndex,isStart:firstIndex===clippedFirstIndex,isEnd:lastIndex===clippedLastIndex};return null}getDateDayIndex(date){let{indices}=this;let dayOffset=Math.floor(diffDays(this.dates[0],date));if(dayOffset<0)return indices[0]-1;if(dayOffset>=indices.length)return indices[indices.length-1]+1;return indices[dayOffset]}}class DayTableModel{constructor(daySeries,breakOnWeeks){let{dates}=daySeries;let daysPerRow;let firstDay;let rowCnt;if(breakOnWeeks){firstDay=dates[0].getUTCDay();for(daysPerRow=1;daysPerRow<dates.length&&dates[daysPerRow].getUTCDay()!==firstDay;daysPerRow+=1);rowCnt=Math.ceil(dates.length/daysPerRow)}else{rowCnt=1;daysPerRow=dates.length}this.rowCnt=rowCnt;this.colCnt=daysPerRow;this.daySeries=daySeries;this.cells=this.buildCells();this.headerDates=this.buildHeaderDates()}buildCells(){let rows=[];for(let row=0;row<this.rowCnt;row+=1){let cells=[];for(let col=0;col<this.colCnt;col+=1)cells.push(this.buildCell(row,col));rows.push(cells)}return rows}buildCell(row,col){let date=this.daySeries.dates[row*this.colCnt+col];return{key:date.toISOString(),date}}buildHeaderDates(){let dates=[];for(let col=0;col<this.colCnt;col+=1)dates.push(this.cells[0][col].date);return dates}sliceRange(range){let{colCnt}=this;let seriesSeg=this.daySeries.sliceRange(range);let segs=[];if(seriesSeg){let{firstIndex,lastIndex}=seriesSeg;let index=firstIndex;while(index<=lastIndex){let row=Math.floor(index/colCnt);let nextIndex=Math.min((row+1)*colCnt,lastIndex+1);segs.push({row,firstCol:index%colCnt,lastCol:(nextIndex-1)%colCnt,isStart:seriesSeg.isStart&&index===firstIndex,isEnd:seriesSeg.isEnd&&nextIndex-1===lastIndex});index=nextIndex}}return segs}}class Slicer{constructor(){this.sliceBusinessHours=memoize(this._sliceBusinessHours);this.sliceDateSelection=memoize(this._sliceDateSpan);this.sliceEventStore=memoize(this._sliceEventStore);this.sliceEventDrag=memoize(this._sliceInteraction);this.sliceEventResize=memoize(this._sliceInteraction);this.forceDayIfListItem=false}sliceProps(props,dateProfile,nextDayThreshold,context,...extraArgs){let{eventUiBases}=props;let eventSegs=this.sliceEventStore(props.eventStore,eventUiBases,dateProfile,nextDayThreshold,...extraArgs);return{dateSelectionSegs:this.sliceDateSelection(props.dateSelection,dateProfile,nextDayThreshold,eventUiBases,context,...extraArgs),businessHourSegs:this.sliceBusinessHours(props.businessHours,dateProfile,nextDayThreshold,context,...extraArgs),fgEventSegs:eventSegs.fg,bgEventSegs:eventSegs.bg,eventDrag:this.sliceEventDrag(props.eventDrag,eventUiBases,dateProfile,nextDayThreshold,...extraArgs),eventResize:this.sliceEventResize(props.eventResize,eventUiBases,dateProfile,nextDayThreshold,...extraArgs),eventSelection:props.eventSelection}}sliceNowDate(date,dateProfile,nextDayThreshold,context,...extraArgs){return this._sliceDateSpan({range:{start:date,end:addMs(date,1)},allDay:false},dateProfile,nextDayThreshold,{},context,...extraArgs)}_sliceBusinessHours(businessHours,dateProfile,nextDayThreshold,context,...extraArgs){if(!businessHours)return[];return this._sliceEventStore(expandRecurring(businessHours,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),context),{},dateProfile,nextDayThreshold,...extraArgs).bg}_sliceEventStore(eventStore,eventUiBases,dateProfile,nextDayThreshold,...extraArgs){if(eventStore){let rangeRes=internal_common_sliceEventStore(eventStore,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{bg:this.sliceEventRanges(rangeRes.bg,extraArgs),fg:this.sliceEventRanges(rangeRes.fg,extraArgs)}}return{bg:[],fg:[]}}_sliceInteraction(interaction,eventUiBases,dateProfile,nextDayThreshold,...extraArgs){if(!interaction)return null;let rangeRes=internal_common_sliceEventStore(interaction.mutatedEvents,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{segs:this.sliceEventRanges(rangeRes.fg,extraArgs),affectedInstances:interaction.affectedEvents.instances,isEvent:interaction.isEvent}}_sliceDateSpan(dateSpan,dateProfile,nextDayThreshold,eventUiBases,context,...extraArgs){if(!dateSpan)return[];let activeRange=computeActiveRange(dateProfile,Boolean(nextDayThreshold));let activeDateSpanRange=intersectRanges(dateSpan.range,activeRange);if(activeDateSpanRange){dateSpan=Object.assign(Object.assign({},dateSpan),{range:activeDateSpanRange});let eventRange=fabricateEventRange(dateSpan,eventUiBases,context);let segs=this.sliceRange(dateSpan.range,...extraArgs);for(let seg of segs)seg.eventRange=eventRange;return segs}return[]}sliceEventRanges(eventRanges,extraArgs){let segs=[];for(let eventRange of eventRanges)segs.push(...this.sliceEventRange(eventRange,extraArgs));return segs}sliceEventRange(eventRange,extraArgs){let dateRange=eventRange.range;if(this.forceDayIfListItem&&"list-item"===eventRange.ui.display)dateRange={start:dateRange.start,end:addDays(dateRange.start,1)};let segs=this.sliceRange(dateRange,...extraArgs);for(let seg of segs){seg.eventRange=eventRange;seg.isStart=eventRange.isStart&&seg.isStart;seg.isEnd=eventRange.isEnd&&seg.isEnd}return segs}}function computeActiveRange(dateProfile,isComponentAllDay){let range=dateProfile.activeRange;if(isComponentAllDay)return range;return{start:addMs(range.start,dateProfile.slotMinTime.milliseconds),end:addMs(range.end,dateProfile.slotMaxTime.milliseconds-864e5)}}function isInteractionValid(interaction,dateProfile,context){let{instances}=interaction.mutatedEvents;for(let instanceId in instances)if(!rangeContainsRange(dateProfile.validRange,instances[instanceId].range))return false;return isNewPropsValid({eventDrag:interaction},context)}function isDateSelectionValid(dateSelection,dateProfile,context){if(!rangeContainsRange(dateProfile.validRange,dateSelection.range))return false;return isNewPropsValid({dateSelection},context)}function isNewPropsValid(newProps,context){let calendarState=context.getCurrentData();let props=Object.assign({businessHours:calendarState.businessHours,dateSelection:"",eventStore:calendarState.eventStore,eventUiBases:calendarState.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},newProps);return(context.pluginHooks.isPropsValid||isPropsValid)(props,context)}function isPropsValid(state,context,dateSpanMeta={},filterConfig){if(state.eventDrag&&!isInteractionPropsValid(state,context,dateSpanMeta,filterConfig))return false;if(state.dateSelection&&!isDateSelectionPropsValid(state,context,dateSpanMeta,filterConfig))return false;return true}function isInteractionPropsValid(state,context,dateSpanMeta,filterConfig){let currentState=context.getCurrentData();let interaction=state.eventDrag;let subjectEventStore=interaction.mutatedEvents;let subjectDefs=subjectEventStore.defs;let subjectInstances=subjectEventStore.instances;let subjectConfigs=compileEventUis(subjectDefs,interaction.isEvent?state.eventUiBases:{"":currentState.selectionConfig});if(filterConfig)subjectConfigs=mapHash(subjectConfigs,filterConfig);let otherEventStore=excludeInstances(state.eventStore,interaction.affectedEvents.instances);let otherDefs=otherEventStore.defs;let otherInstances=otherEventStore.instances;let otherConfigs=compileEventUis(otherDefs,state.eventUiBases);for(let subjectInstanceId in subjectInstances){let subjectInstance=subjectInstances[subjectInstanceId];let subjectRange=subjectInstance.range;let subjectConfig=subjectConfigs[subjectInstance.defId];let subjectDef=subjectDefs[subjectInstance.defId];if(!allConstraintsPass(subjectConfig.constraints,subjectRange,otherEventStore,state.businessHours,context))return false;let{eventOverlap}=context.options;let eventOverlapFunc="function"==typeof eventOverlap?eventOverlap:null;for(let otherInstanceId in otherInstances){let otherInstance=otherInstances[otherInstanceId];if(rangesIntersect(subjectRange,otherInstance.range)){let otherOverlap=otherConfigs[otherInstance.defId].overlap;if(false===otherOverlap&&interaction.isEvent)return false;if(false===subjectConfig.overlap)return false;if(eventOverlapFunc&&!eventOverlapFunc(new EventImpl(context,otherDefs[otherInstance.defId],otherInstance),new EventImpl(context,subjectDef,subjectInstance)))return false}}let calendarEventStore=currentState.eventStore;for(let subjectAllow of subjectConfig.allows){let subjectDateSpan=Object.assign(Object.assign({},dateSpanMeta),{range:subjectInstance.range,allDay:subjectDef.allDay});let origDef=calendarEventStore.defs[subjectDef.defId];let origInstance=calendarEventStore.instances[subjectInstanceId];let eventApi;eventApi=origDef?new EventImpl(context,origDef,origInstance):new EventImpl(context,subjectDef);if(!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan,context),eventApi))return false}}return true}function isDateSelectionPropsValid(state,context,dateSpanMeta,filterConfig){let relevantEventStore=state.eventStore;let relevantDefs=relevantEventStore.defs;let relevantInstances=relevantEventStore.instances;let selection=state.dateSelection;let selectionRange=selection.range;let{selectionConfig}=context.getCurrentData();if(filterConfig)selectionConfig=filterConfig(selectionConfig);if(!allConstraintsPass(selectionConfig.constraints,selectionRange,relevantEventStore,state.businessHours,context))return false;let{selectOverlap}=context.options;let selectOverlapFunc="function"==typeof selectOverlap?selectOverlap:null;for(let relevantInstanceId in relevantInstances){let relevantInstance=relevantInstances[relevantInstanceId];if(rangesIntersect(selectionRange,relevantInstance.range)){if(false===selectionConfig.overlap)return false;if(selectOverlapFunc&&!selectOverlapFunc(new EventImpl(context,relevantDefs[relevantInstance.defId],relevantInstance),null))return false}}for(let selectionAllow of selectionConfig.allows){let fullDateSpan=Object.assign(Object.assign({},dateSpanMeta),selection);if(!selectionAllow(buildDateSpanApiWithContext(fullDateSpan,context),null))return false}return true}function allConstraintsPass(constraints,subjectRange,otherEventStore,businessHoursUnexpanded,context){for(let constraint of constraints)if(!anyRangesContainRange(constraintToRanges(constraint,subjectRange,otherEventStore,businessHoursUnexpanded,context),subjectRange))return false;return true}function constraintToRanges(constraint,subjectRange,otherEventStore,businessHoursUnexpanded,context){if("businessHours"===constraint)return eventStoreToRanges(expandRecurring(businessHoursUnexpanded,subjectRange,context));if("string"==typeof constraint)return eventStoreToRanges(filterEventStoreDefs(otherEventStore,eventDef=>eventDef.groupId===constraint));if("object"==typeof constraint&&constraint)return eventStoreToRanges(expandRecurring(constraint,subjectRange,context));return[]}function eventStoreToRanges(eventStore){let{instances}=eventStore;let ranges=[];for(let instanceId in instances)ranges.push(instances[instanceId].range);return ranges}function anyRangesContainRange(outerRanges,innerRange){for(let outerRange of outerRanges)if(rangeContainsRange(outerRange,innerRange))return true;return false}const VISIBLE_HIDDEN_RE=/^(visible|hidden)$/;class Scroller extends BaseComponent{constructor(){super(...arguments);this.handleEl=el=>{this.el=el;setRef(this.props.elRef,el)}}render(){let{props}=this;let{liquid,liquidIsAbsolute}=props;let isAbsolute=liquid&&liquidIsAbsolute;let className=["fc-scroller"];if(liquid){if(liquidIsAbsolute)className.push("fc-scroller-liquid-absolute");else className.push("fc-scroller-liquid")}return preact_module_y("div",{ref:this.handleEl,className:className.join(" "),style:{overflowX:props.overflowX,overflowY:props.overflowY,left:isAbsolute&&-(props.overcomeLeft||0)||"",right:isAbsolute&&-(props.overcomeRight||0)||"",bottom:isAbsolute&&-(props.overcomeBottom||0)||"",marginLeft:!isAbsolute&&-(props.overcomeLeft||0)||"",marginRight:!isAbsolute&&-(props.overcomeRight||0)||"",marginBottom:!isAbsolute&&-(props.overcomeBottom||0)||"",maxHeight:props.maxHeight||""}},props.children)}needsXScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX))return false;let{el}=this;let realClientWidth=this.el.getBoundingClientRect().width-this.getYScrollbarWidth();let{children}=el;for(let i=0;i<children.length;i+=1){let childEl=children[i];if(childEl.getBoundingClientRect().width>realClientWidth)return true}return false}needsYScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY))return false;let{el}=this;let realClientHeight=this.el.getBoundingClientRect().height-this.getXScrollbarWidth();let{children}=el;for(let i=0;i<children.length;i+=1){let childEl=children[i];if(childEl.getBoundingClientRect().height>realClientHeight)return true}return false}getXScrollbarWidth(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX))return 0;return this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY))return 0;return this.el.offsetWidth-this.el.clientWidth}}class RefMap{constructor(masterCallback){this.masterCallback=masterCallback;this.currentMap={};this.depths={};this.callbackMap={};this.handleValue=(val,key)=>{let{depths,currentMap}=this;let removed=false;let added=false;if(null!==val){removed=key in currentMap;currentMap[key]=val;depths[key]=(depths[key]||0)+1;added=true}else{depths[key]-=1;if(!depths[key]){delete currentMap[key];delete this.callbackMap[key];removed=true}}if(this.masterCallback){if(removed)this.masterCallback(null,String(key));if(added)this.masterCallback(val,String(key))}}}createRef(key){let refCallback=this.callbackMap[key];if(!refCallback)refCallback=this.callbackMap[key]=val=>{this.handleValue(val,String(key))};return refCallback}collect(startIndex,endIndex,step){return collectFromHash(this.currentMap,startIndex,endIndex,step)}getAll(){return hashValuesToArray(this.currentMap)}}function computeShrinkWidth(chunkEls){let shrinkCells=findElements(chunkEls,".fc-scrollgrid-shrink");let largestWidth=0;for(let shrinkCell of shrinkCells)largestWidth=Math.max(largestWidth,computeSmallestCellWidth(shrinkCell));return Math.ceil(largestWidth)}function getSectionHasLiquidHeight(props,sectionConfig){return props.liquid&&sectionConfig.liquid}function getAllowYScrolling(props,sectionConfig){return null!=sectionConfig.maxHeight||getSectionHasLiquidHeight(props,sectionConfig)}function renderChunkContent(sectionConfig,chunkConfig,arg,isHeader){let{expandRows}=arg;let content="function"==typeof chunkConfig.content?chunkConfig.content(arg):preact_module_y("table",{role:"presentation",className:[chunkConfig.tableClassName,sectionConfig.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:arg.tableMinWidth,width:arg.clientWidth,height:expandRows?arg.clientHeight:""}},arg.tableColGroupNode,preact_module_y(isHeader?"thead":"tbody",{role:"presentation"},"function"==typeof chunkConfig.rowContent?chunkConfig.rowContent(arg):chunkConfig.rowContent));return content}function isColPropsEqual(cols0,cols1){return isArraysEqual(cols0,cols1,isPropsEqual)}function renderMicroColGroup(cols,shrinkWidth){let colNodes=[];for(let colProps of cols){let span=colProps.span||1;for(let i=0;i<span;i+=1)colNodes.push(preact_module_y("col",{style:{width:"shrink"===colProps.width?sanitizeShrinkWidth(shrinkWidth):colProps.width||"",minWidth:colProps.minWidth||""}}))}return preact_module_y("colgroup",{},...colNodes)}function sanitizeShrinkWidth(shrinkWidth){return null==shrinkWidth?4:shrinkWidth}function hasShrinkWidth(cols){for(let col of cols)if("shrink"===col.width)return true;return false}function getScrollGridClassNames(liquid,context){let classNames=["fc-scrollgrid",context.theme.getClass("table")];if(liquid)classNames.push("fc-scrollgrid-liquid");return classNames}function getSectionClassNames(sectionConfig,wholeTableVGrow){let classNames=["fc-scrollgrid-section",`fc-scrollgrid-section-${sectionConfig.type}`,sectionConfig.className];if(wholeTableVGrow&&sectionConfig.liquid&&null==sectionConfig.maxHeight)classNames.push("fc-scrollgrid-section-liquid");if(sectionConfig.isSticky)classNames.push("fc-scrollgrid-section-sticky");return classNames}function renderScrollShim(arg){return preact_module_y("div",{className:"fc-scrollgrid-sticky-shim",style:{width:arg.clientWidth,minWidth:arg.tableMinWidth}})}function getStickyHeaderDates(options){let{stickyHeaderDates}=options;if(null==stickyHeaderDates||"auto"===stickyHeaderDates)stickyHeaderDates="auto"===options.height||"auto"===options.viewHeight;return stickyHeaderDates}function getStickyFooterScrollbar(options){let{stickyFooterScrollbar}=options;if(null==stickyFooterScrollbar||"auto"===stickyFooterScrollbar)stickyFooterScrollbar="auto"===options.height||"auto"===options.viewHeight;return stickyFooterScrollbar}class SimpleScrollGrid extends BaseComponent{constructor(){super(...arguments);this.processCols=memoize(a=>a,isColPropsEqual);this.renderMicroColGroup=memoize(renderMicroColGroup);this.scrollerRefs=new RefMap;this.scrollerElRefs=new RefMap(this._handleScrollerEl.bind(this));this.state={shrinkWidth:null,forceYScrollbars:false,scrollerClientWidths:{},scrollerClientHeights:{}};this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props,state,context}=this;let sectionConfigs=props.sections||[];let cols=this.processCols(props.cols);let microColGroupNode=this.renderMicroColGroup(cols,state.shrinkWidth);let classNames=getScrollGridClassNames(props.liquid,context);if(props.collapsibleWidth)classNames.push("fc-scrollgrid-collapsible");let configCnt=sectionConfigs.length;let configI=0;let currentConfig;let headSectionNodes=[];let bodySectionNodes=[];let footSectionNodes=[];while(configI<configCnt&&"header"===(currentConfig=sectionConfigs[configI]).type){headSectionNodes.push(this.renderSection(currentConfig,microColGroupNode,true));configI+=1}while(configI<configCnt&&"body"===(currentConfig=sectionConfigs[configI]).type){bodySectionNodes.push(this.renderSection(currentConfig,microColGroupNode,false));configI+=1}while(configI<configCnt&&"footer"===(currentConfig=sectionConfigs[configI]).type){footSectionNodes.push(this.renderSection(currentConfig,microColGroupNode,true));configI+=1}let isBuggy=!getCanVGrowWithinCell();const roleAttrs={role:"rowgroup"};return preact_module_y("table",{role:"grid",className:classNames.join(" "),style:{height:props.height}},Boolean(!isBuggy&&headSectionNodes.length)&&preact_module_y("thead",roleAttrs,...headSectionNodes),Boolean(!isBuggy&&bodySectionNodes.length)&&preact_module_y("tbody",roleAttrs,...bodySectionNodes),Boolean(!isBuggy&&footSectionNodes.length)&&preact_module_y("tfoot",roleAttrs,...footSectionNodes),isBuggy&&preact_module_y("tbody",roleAttrs,...headSectionNodes,...bodySectionNodes,...footSectionNodes))}renderSection(sectionConfig,microColGroupNode,isHeader){if("outerContent"in sectionConfig)return preact_module_y(preact_module_,{key:sectionConfig.key},sectionConfig.outerContent);return preact_module_y("tr",{key:sectionConfig.key,role:"presentation",className:getSectionClassNames(sectionConfig,this.props.liquid).join(" ")},this.renderChunkTd(sectionConfig,microColGroupNode,sectionConfig.chunk,isHeader))}renderChunkTd(sectionConfig,microColGroupNode,chunkConfig,isHeader){if("outerContent"in chunkConfig)return chunkConfig.outerContent;let{props}=this;let{forceYScrollbars,scrollerClientWidths,scrollerClientHeights}=this.state;let needsYScrolling=getAllowYScrolling(props,sectionConfig);let isLiquid=getSectionHasLiquidHeight(props,sectionConfig);let overflowY=props.liquid?forceYScrollbars?"scroll":needsYScrolling?"auto":"hidden":"visible";let sectionKey=sectionConfig.key;let content=renderChunkContent(sectionConfig,chunkConfig,{tableColGroupNode:microColGroupNode,tableMinWidth:"",clientWidth:props.collapsibleWidth||void 0===scrollerClientWidths[sectionKey]?null:scrollerClientWidths[sectionKey],clientHeight:void 0!==scrollerClientHeights[sectionKey]?scrollerClientHeights[sectionKey]:null,expandRows:sectionConfig.expandRows,syncRowHeights:false,rowSyncHeights:[],reportRowHeightChange:()=>{}},isHeader);return preact_module_y(isHeader?"th":"td",{ref:chunkConfig.elRef,role:"presentation"},preact_module_y("div",{className:`fc-scroller-harness${isLiquid?" fc-scroller-harness-liquid":""}`},preact_module_y(Scroller,{ref:this.scrollerRefs.createRef(sectionKey),elRef:this.scrollerElRefs.createRef(sectionKey),overflowY:overflowY,overflowX:props.liquid?"hidden":"visible",maxHeight:sectionConfig.maxHeight,liquid:isLiquid,liquidIsAbsolute:true},content)))}_handleScrollerEl(scrollerEl,key){let section=getSectionByKey(this.props.sections,key);if(section)setRef(section.chunk.scrollerElRef,scrollerEl)}componentDidMount(){this.handleSizing();this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return hasShrinkWidth(this.props.cols)?computeShrinkWidth(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let scrollbarWidth=getScrollbarWidths();let{scrollerRefs,scrollerElRefs}=this;let forceYScrollbars=false;let scrollerClientWidths={};let scrollerClientHeights={};for(let sectionKey in scrollerRefs.currentMap){let scroller=scrollerRefs.currentMap[sectionKey];if(scroller&&scroller.needsYScrolling()){forceYScrollbars=true;break}}for(let section of this.props.sections){let sectionKey=section.key;let scrollerEl=scrollerElRefs.currentMap[sectionKey];if(scrollerEl){let harnessEl=scrollerEl.parentNode;scrollerClientWidths[sectionKey]=Math.floor(harnessEl.getBoundingClientRect().width-(forceYScrollbars?scrollbarWidth.y:0));scrollerClientHeights[sectionKey]=Math.floor(harnessEl.getBoundingClientRect().height)}}return{forceYScrollbars,scrollerClientWidths,scrollerClientHeights}}}SimpleScrollGrid.addStateEquality({scrollerClientWidths:isPropsEqual,scrollerClientHeights:isPropsEqual});function getSectionByKey(sections,key){for(let section of sections)if(section.key===key)return section;return null}class EventContainer extends BaseComponent{constructor(){super(...arguments);this.handleEl=el=>{this.el=el;if(el)setElSeg(el,this.props.seg)}}render(){const{props,context}=this;const{options}=context;const{seg}=props;const{eventRange}=seg;const{ui}=eventRange;const renderProps={event:new EventImpl(context,eventRange.def,eventRange.instance),view:context.viewApi,timeText:props.timeText,textColor:ui.textColor,backgroundColor:ui.backgroundColor,borderColor:ui.borderColor,isDraggable:!props.disableDragging&&computeSegDraggable(seg,context),isStartResizable:!props.disableResizing&&computeSegStartResizable(seg,context),isEndResizable:!props.disableResizing&&computeSegEndResizable(seg),isMirror:Boolean(props.isDragging||props.isResizing||props.isDateSelecting),isStart:Boolean(seg.isStart),isEnd:Boolean(seg.isEnd),isPast:Boolean(props.isPast),isFuture:Boolean(props.isFuture),isToday:Boolean(props.isToday),isSelected:Boolean(props.isSelected),isDragging:Boolean(props.isDragging),isResizing:Boolean(props.isResizing)};return preact_module_y(ContentContainer,Object.assign({},props,{elRef:this.handleEl,elClasses:[...getEventClassNames(renderProps),...seg.eventRange.ui.classNames,...props.elClasses||[]],renderProps:renderProps,generatorName:"eventContent",customGenerator:options.eventContent,defaultGenerator:props.defaultGenerator,classNameGenerator:options.eventClassNames,didMount:options.eventDidMount,willUnmount:options.eventWillUnmount}))}componentDidUpdate(prevProps){if(this.el&&this.props.seg!==prevProps.seg)setElSeg(this.el,this.props.seg)}}class StandardEvent extends BaseComponent{render(){let{props,context}=this;let{options}=context;let{seg}=props;let{ui}=seg.eventRange;let timeFormat=options.eventTimeFormat||props.defaultTimeFormat;let timeText=buildSegTimeText(seg,timeFormat,context,props.defaultDisplayEventTime,props.defaultDisplayEventEnd);return preact_module_y(EventContainer,Object.assign({},props,{elTag:"a",elStyle:{borderColor:ui.borderColor,backgroundColor:ui.backgroundColor},elAttrs:getSegAnchorAttrs(seg,context),defaultGenerator:renderInnerContent$1,timeText:timeText}),(InnerContent,eventContentArg)=>preact_module_y(preact_module_,null,preact_module_y(InnerContent,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:eventContentArg.textColor}}),Boolean(eventContentArg.isStartResizable)&&preact_module_y("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(eventContentArg.isEndResizable)&&preact_module_y("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function renderInnerContent$1(innerProps){return preact_module_y("div",{className:"fc-event-main-frame"},innerProps.timeText&&preact_module_y("div",{className:"fc-event-time"},innerProps.timeText),preact_module_y("div",{className:"fc-event-title-container"},preact_module_y("div",{className:"fc-event-title fc-sticky"},innerProps.event.title||preact_module_y(preact_module_,null,"\xa0"))))}const DAY_NUM_FORMAT=internal_common_createFormatter({day:"numeric"});class DayCellContainer extends BaseComponent{constructor(){super(...arguments);this.refineRenderProps=memoizeObjArg(refineRenderProps)}render(){let{props,context}=this;let{options}=context;let renderProps=this.refineRenderProps({date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,isMonthStart:props.isMonthStart||false,showDayNumber:props.showDayNumber,extraRenderProps:props.extraRenderProps,viewApi:context.viewApi,dateEnv:context.dateEnv,monthStartFormat:options.monthStartFormat});return preact_module_y(ContentContainer,Object.assign({},props,{elClasses:[...getDayClassNames(renderProps,context.theme),...props.elClasses||[]],elAttrs:Object.assign(Object.assign({},props.elAttrs),renderProps.isDisabled?{}:{"data-date":formatDayString(props.date)}),renderProps:renderProps,generatorName:"dayCellContent",customGenerator:options.dayCellContent,defaultGenerator:props.defaultGenerator,classNameGenerator:renderProps.isDisabled?void 0:options.dayCellClassNames,didMount:options.dayCellDidMount,willUnmount:options.dayCellWillUnmount}))}}function hasCustomDayCellContent(options){return Boolean(options.dayCellContent||hasCustomRenderingHandler("dayCellContent",options))}function refineRenderProps(raw){let{date,dateEnv,dateProfile,isMonthStart}=raw;let dayMeta=getDateMeta(date,raw.todayRange,null,dateProfile);let dayNumberText=raw.showDayNumber?dateEnv.format(date,isMonthStart?raw.monthStartFormat:DAY_NUM_FORMAT):"";return Object.assign(Object.assign(Object.assign({date:dateEnv.toDate(date),view:raw.viewApi},dayMeta),{isMonthStart,dayNumberText}),raw.extraRenderProps)}class BgEvent extends BaseComponent{render(){let{props}=this;let{seg}=props;return preact_module_y(EventContainer,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:seg.eventRange.ui.backgroundColor},defaultGenerator:renderInnerContent,seg:seg,timeText:"",isDragging:false,isResizing:false,isDateSelecting:false,isSelected:false,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday,disableDragging:true,disableResizing:true})}}function renderInnerContent(props){let{title}=props.event;return title&&preact_module_y("div",{className:"fc-event-title"},props.event.title)}function renderFill(fillType){return preact_module_y("div",{className:`fc-${fillType}`})}const WeekNumberContainer=props=>preact_module_y(ViewContextType.Consumer,null,context=>{let{dateEnv,options}=context;let{date}=props;let format=options.weekNumberFormat||props.defaultFormat;let num=dateEnv.computeWeekNumber(date);let text=dateEnv.format(date,format);let renderProps={num,text,date};return preact_module_y(ContentContainer,Object.assign({},props,{renderProps:renderProps,generatorName:"weekNumberContent",customGenerator:options.weekNumberContent,defaultGenerator:renderInner,classNameGenerator:options.weekNumberClassNames,didMount:options.weekNumberDidMount,willUnmount:options.weekNumberWillUnmount}))});function renderInner(innerProps){return innerProps.text}const PADDING_FROM_VIEWPORT=10;class Popover extends BaseComponent{constructor(){super(...arguments);this.state={titleId:getUniqueDomId()};this.handleRootEl=el=>{this.rootEl=el;if(this.props.elRef)setRef(this.props.elRef,el)};this.handleDocumentMouseDown=ev=>{const target=getEventTargetViaRoot(ev);if(!this.rootEl.contains(target))this.handleCloseClick()};this.handleDocumentKeyDown=ev=>{if("Escape"===ev.key)this.handleCloseClick()};this.handleCloseClick=()=>{let{onClose}=this.props;if(onClose)onClose()}}render(){let{theme,options}=this.context;let{props,state}=this;let classNames=["fc-popover",theme.getClass("popover")].concat(props.extraClassNames||[]);return compat_module_j(preact_module_y("div",Object.assign({},props.extraAttrs,{id:props.id,className:classNames.join(" "),"aria-labelledby":state.titleId,ref:this.handleRootEl}),preact_module_y("div",{className:"fc-popover-header "+theme.getClass("popoverHeader")},preact_module_y("span",{className:"fc-popover-title",id:state.titleId},props.title),preact_module_y("span",{className:"fc-popover-close "+theme.getIconClass("close"),title:options.closeHint,onClick:this.handleCloseClick})),preact_module_y("div",{className:"fc-popover-body "+theme.getClass("popoverContent")},props.children)),props.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown);document.addEventListener("keydown",this.handleDocumentKeyDown);this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown);document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl}=this.context;let{alignmentEl,alignGridTop}=this.props;let{rootEl}=this;let alignmentRect=computeClippedClientRect(alignmentEl);if(alignmentRect){let popoverDims=rootEl.getBoundingClientRect();let popoverTop=alignGridTop?elementClosest(alignmentEl,".fc-scrollgrid").getBoundingClientRect().top:alignmentRect.top;let popoverLeft=isRtl?alignmentRect.right-popoverDims.width:alignmentRect.left;popoverTop=Math.max(popoverTop,PADDING_FROM_VIEWPORT);popoverLeft=Math.min(popoverLeft,document.documentElement.clientWidth-PADDING_FROM_VIEWPORT-popoverDims.width);popoverLeft=Math.max(popoverLeft,PADDING_FROM_VIEWPORT);let origin=rootEl.offsetParent.getBoundingClientRect();applyStyle(rootEl,{top:popoverTop-origin.top,left:popoverLeft-origin.left})}}}class MorePopover extends DateComponent{constructor(){super(...arguments);this.handleRootEl=rootEl=>{this.rootEl=rootEl;if(rootEl)this.context.registerInteractiveComponent(this,{el:rootEl,useEventCenter:false});else this.context.unregisterInteractiveComponent(this)}}render(){let{options,dateEnv}=this.context;let{props}=this;let{startDate,todayRange,dateProfile}=props;let title=dateEnv.format(startDate,options.dayPopoverFormat);return preact_module_y(DayCellContainer,{elRef:this.handleRootEl,date:startDate,dateProfile:dateProfile,todayRange:todayRange},(InnerContent,renderProps,elAttrs)=>preact_module_y(Popover,{elRef:elAttrs.ref,id:props.id,title:title,extraClassNames:["fc-more-popover"].concat(elAttrs.className||[]),extraAttrs:elAttrs,parentEl:props.parentEl,alignmentEl:props.alignmentEl,alignGridTop:props.alignGridTop,onClose:props.onClose},hasCustomDayCellContent(options)&&preact_module_y(InnerContent,{elTag:"div",elClasses:["fc-more-popover-misc"]}),props.children))}queryHit(positionLeft,positionTop,elWidth,elHeight){let{rootEl,props}=this;if(positionLeft>=0&&positionLeft<elWidth&&positionTop>=0&&positionTop<elHeight)return{dateProfile:props.dateProfile,dateSpan:Object.assign({allDay:!props.forceTimed,range:{start:props.startDate,end:props.endDate}},props.extraDateSpan),dayEl:rootEl,rect:{left:0,top:0,right:elWidth,bottom:elHeight},layer:1};return null}}class MoreLinkContainer extends BaseComponent{constructor(){super(...arguments);this.state={isPopoverOpen:false,popoverId:getUniqueDomId()};this.handleLinkEl=linkEl=>{this.linkEl=linkEl;if(this.props.elRef)setRef(this.props.elRef,linkEl)};this.handleClick=ev=>{let{props,context}=this;let{moreLinkClick}=context.options;let date=computeRange(props).start;function buildPublicSeg(seg){let{def,instance,range}=seg.eventRange;return{event:new EventImpl(context,def,instance),start:context.dateEnv.toDate(range.start),end:context.dateEnv.toDate(range.end),isStart:seg.isStart,isEnd:seg.isEnd}}if("function"==typeof moreLinkClick)moreLinkClick=moreLinkClick({date,allDay:Boolean(props.allDayDate),allSegs:props.allSegs.map(buildPublicSeg),hiddenSegs:props.hiddenSegs.map(buildPublicSeg),jsEvent:ev,view:context.viewApi});if(moreLinkClick&&"popover"!==moreLinkClick){if("string"==typeof moreLinkClick)context.calendarApi.zoomTo(date,moreLinkClick)}else this.setState({isPopoverOpen:true})};this.handlePopoverClose=()=>{this.setState({isPopoverOpen:false})}}render(){let{props,state}=this;return preact_module_y(ViewContextType.Consumer,null,context=>{let{viewApi,options,calendarApi}=context;let{moreLinkText}=options;let{moreCnt}=props;let range=computeRange(props);let text="function"==typeof moreLinkText?moreLinkText.call(calendarApi,moreCnt):`+${moreCnt} ${moreLinkText}`;let hint=formatWithOrdinals(options.moreLinkHint,[moreCnt],text);let renderProps={num:moreCnt,shortText:`+${moreCnt}`,text,view:viewApi};return preact_module_y(preact_module_,null,Boolean(props.moreCnt)&&preact_module_y(ContentContainer,{elTag:props.elTag||"a",elRef:this.handleLinkEl,elClasses:[...props.elClasses||[],"fc-more-link"],elStyle:props.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},props.elAttrs),createAriaClickAttrs(this.handleClick)),{title:hint,"aria-expanded":state.isPopoverOpen,"aria-controls":state.isPopoverOpen?state.popoverId:""}),renderProps:renderProps,generatorName:"moreLinkContent",customGenerator:options.moreLinkContent,defaultGenerator:props.defaultGenerator||renderMoreLinkInner,classNameGenerator:options.moreLinkClassNames,didMount:options.moreLinkDidMount,willUnmount:options.moreLinkWillUnmount},props.children),state.isPopoverOpen&&preact_module_y(MorePopover,{id:state.popoverId,startDate:range.start,endDate:range.end,dateProfile:props.dateProfile,todayRange:props.todayRange,extraDateSpan:props.extraDateSpan,parentEl:this.parentEl,alignmentEl:props.alignmentElRef?props.alignmentElRef.current:this.linkEl,alignGridTop:props.alignGridTop,forceTimed:props.forceTimed,onClose:this.handlePopoverClose},props.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){if(this.linkEl)this.parentEl=elementClosest(this.linkEl,".fc-view-harness")}}function renderMoreLinkInner(props){return props.text}function computeRange(props){if(props.allDayDate)return{start:props.allDayDate,end:addDays(props.allDayDate,1)};let{hiddenSegs}=props;return{start:computeEarliestSegStart(hiddenSegs),end:computeLatestSegEnd(hiddenSegs)}}function computeEarliestSegStart(segs){return segs.reduce(pickEarliestStart).eventRange.range.start}function pickEarliestStart(seg0,seg1){return seg0.eventRange.range.start<seg1.eventRange.range.start?seg0:seg1}function computeLatestSegEnd(segs){return segs.reduce(pickLatestEnd).eventRange.range.end}function pickLatestEnd(seg0,seg1){return seg0.eventRange.range.end>seg1.eventRange.range.end?seg0:seg1}class Store{constructor(){this.handlers=[]}set(value){this.currentValue=value;for(let handler of this.handlers)handler(value)}subscribe(handler){this.handlers.push(handler);if(void 0!==this.currentValue)handler(this.currentValue)}}class CustomRenderingStore extends Store{constructor(){super(...arguments);this.map=new Map}handle(customRendering){const{map}=this;let updated=false;if(customRendering.isActive){map.set(customRendering.id,customRendering);updated=true}else if(map.has(customRendering.id)){map.delete(customRendering.id);updated=true}if(updated)this.set(map)}}const globalLocales=[];const MINIMAL_RAW_EN_LOCALE={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"};const RAW_EN_LOCALE=Object.assign(Object.assign({},MINIMAL_RAW_EN_LOCALE),{buttonHints:{prev:"Previous $0",next:"Next $0",today(buttonText,unit){return"day"===unit?"Today":`This ${buttonText}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(eventCnt){return`Show ${eventCnt} more event${1===eventCnt?"":"s"}`}});function organizeRawLocales(explicitRawLocales){let defaultCode=explicitRawLocales.length>0?explicitRawLocales[0].code:"en";let allRawLocales=globalLocales.concat(explicitRawLocales);let rawLocaleMap={en:RAW_EN_LOCALE};for(let rawLocale of allRawLocales)rawLocaleMap[rawLocale.code]=rawLocale;return{map:rawLocaleMap,defaultCode}}function buildLocale(inputSingular,available){if("object"==typeof inputSingular&&!Array.isArray(inputSingular))return parseLocale(inputSingular.code,[inputSingular.code],inputSingular);return queryLocale(inputSingular,available)}function queryLocale(codeArg,available){let codes=[].concat(codeArg||[]);let raw=queryRawLocale(codes,available)||RAW_EN_LOCALE;return parseLocale(codeArg,codes,raw)}function queryRawLocale(codes,available){for(let i=0;i<codes.length;i+=1){let parts=codes[i].toLocaleLowerCase().split("-");for(let j=parts.length;j>0;j-=1){let simpleId=parts.slice(0,j).join("-");if(available[simpleId])return available[simpleId]}}return null}function parseLocale(codeArg,codes,raw){let merged=mergeProps([MINIMAL_RAW_EN_LOCALE,raw],["buttonText"]);delete merged.code;let{week}=merged;delete merged.week;return{codeArg,codes,week,simpleNumberFormat:new Intl.NumberFormat(codeArg),options:merged}}function createPlugin(input){return{id:guid(),name:input.name,premiumReleaseDate:input.premiumReleaseDate?new Date(input.premiumReleaseDate):void 0,deps:input.deps||[],reducers:input.reducers||[],isLoadingFuncs:input.isLoadingFuncs||[],contextInit:[].concat(input.contextInit||[]),eventRefiners:input.eventRefiners||{},eventDefMemberAdders:input.eventDefMemberAdders||[],eventSourceRefiners:input.eventSourceRefiners||{},isDraggableTransformers:input.isDraggableTransformers||[],eventDragMutationMassagers:input.eventDragMutationMassagers||[],eventDefMutationAppliers:input.eventDefMutationAppliers||[],dateSelectionTransformers:input.dateSelectionTransformers||[],datePointTransforms:input.datePointTransforms||[],dateSpanTransforms:input.dateSpanTransforms||[],views:input.views||{},viewPropsTransformers:input.viewPropsTransformers||[],isPropsValid:input.isPropsValid||null,externalDefTransforms:input.externalDefTransforms||[],viewContainerAppends:input.viewContainerAppends||[],eventDropTransformers:input.eventDropTransformers||[],componentInteractions:input.componentInteractions||[],calendarInteractions:input.calendarInteractions||[],themeClasses:input.themeClasses||{},eventSourceDefs:input.eventSourceDefs||[],cmdFormatter:input.cmdFormatter,recurringTypes:input.recurringTypes||[],namedTimeZonedImpl:input.namedTimeZonedImpl,initialView:input.initialView||"",elementDraggingImpl:input.elementDraggingImpl,optionChangeHandlers:input.optionChangeHandlers||{},scrollGridImpl:input.scrollGridImpl||null,listenerRefiners:input.listenerRefiners||{},optionRefiners:input.optionRefiners||{},propSetHandlers:input.propSetHandlers||{}}}function buildPluginHooks(pluginDefs,globalDefs){let currentPluginIds={};let hooks={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function addDefs(defs){for(let def of defs){const pluginName=def.name;const currentId=currentPluginIds[pluginName];if(void 0===currentId){currentPluginIds[pluginName]=def.id;addDefs(def.deps);hooks=combineHooks(hooks,def)}else if(currentId!==def.id)console.warn(`Duplicate plugin '${pluginName}'`)}}if(pluginDefs)addDefs(pluginDefs);addDefs(globalDefs);return hooks}function buildBuildPluginHooks(){let currentOverrideDefs=[];let currentGlobalDefs=[];let currentHooks;return(overrideDefs,globalDefs)=>{if(!currentHooks||!isArraysEqual(overrideDefs,currentOverrideDefs)||!isArraysEqual(globalDefs,currentGlobalDefs))currentHooks=buildPluginHooks(overrideDefs,globalDefs);currentOverrideDefs=overrideDefs;currentGlobalDefs=globalDefs;return currentHooks}}function combineHooks(hooks0,hooks1){return{premiumReleaseDate:compareOptionalDates(hooks0.premiumReleaseDate,hooks1.premiumReleaseDate),reducers:hooks0.reducers.concat(hooks1.reducers),isLoadingFuncs:hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),contextInit:hooks0.contextInit.concat(hooks1.contextInit),eventRefiners:Object.assign(Object.assign({},hooks0.eventRefiners),hooks1.eventRefiners),eventDefMemberAdders:hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},hooks0.eventSourceRefiners),hooks1.eventSourceRefiners),isDraggableTransformers:hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),eventDragMutationMassagers:hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),eventDefMutationAppliers:hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),dateSelectionTransformers:hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),datePointTransforms:hooks0.datePointTransforms.concat(hooks1.datePointTransforms),dateSpanTransforms:hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),views:Object.assign(Object.assign({},hooks0.views),hooks1.views),viewPropsTransformers:hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),isPropsValid:hooks1.isPropsValid||hooks0.isPropsValid,externalDefTransforms:hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),viewContainerAppends:hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),eventDropTransformers:hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),calendarInteractions:hooks0.calendarInteractions.concat(hooks1.calendarInteractions),componentInteractions:hooks0.componentInteractions.concat(hooks1.componentInteractions),themeClasses:Object.assign(Object.assign({},hooks0.themeClasses),hooks1.themeClasses),eventSourceDefs:hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),cmdFormatter:hooks1.cmdFormatter||hooks0.cmdFormatter,recurringTypes:hooks0.recurringTypes.concat(hooks1.recurringTypes),namedTimeZonedImpl:hooks1.namedTimeZonedImpl||hooks0.namedTimeZonedImpl,initialView:hooks0.initialView||hooks1.initialView,elementDraggingImpl:hooks0.elementDraggingImpl||hooks1.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},hooks0.optionChangeHandlers),hooks1.optionChangeHandlers),scrollGridImpl:hooks1.scrollGridImpl||hooks0.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},hooks0.listenerRefiners),hooks1.listenerRefiners),optionRefiners:Object.assign(Object.assign({},hooks0.optionRefiners),hooks1.optionRefiners),propSetHandlers:Object.assign(Object.assign({},hooks0.propSetHandlers),hooks1.propSetHandlers)}}function compareOptionalDates(date0,date1){if(void 0===date0)return date1;if(void 0===date1)return date0;return new Date(Math.max(date0.valueOf(),date1.valueOf()))}class StandardTheme extends Theme{}StandardTheme.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};StandardTheme.prototype.baseIconClass="fc-icon";StandardTheme.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};StandardTheme.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};StandardTheme.prototype.iconOverrideOption="buttonIcons";StandardTheme.prototype.iconOverrideCustomButtonOption="icon";StandardTheme.prototype.iconOverridePrefix="fc-icon-";function compileViewDefs(defaultConfigs,overrideConfigs){let hash={};let viewType;for(viewType in defaultConfigs)ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs);for(viewType in overrideConfigs)ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs);return hash}function ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs){if(hash[viewType])return hash[viewType];let viewDef=buildViewDef(viewType,hash,defaultConfigs,overrideConfigs);if(viewDef)hash[viewType]=viewDef;return viewDef}function buildViewDef(viewType,hash,defaultConfigs,overrideConfigs){let defaultConfig=defaultConfigs[viewType];let overrideConfig=overrideConfigs[viewType];let queryProp=name=>defaultConfig&&null!==defaultConfig[name]?defaultConfig[name]:overrideConfig&&null!==overrideConfig[name]?overrideConfig[name]:null;let theComponent=queryProp("component");let superType=queryProp("superType");let superDef=null;if(superType){if(superType===viewType)throw new Error("Can't have a custom view type that references itself");superDef=ensureViewDef(superType,hash,defaultConfigs,overrideConfigs)}if(!theComponent&&superDef)theComponent=superDef.component;if(!theComponent)return null;return{type:viewType,component:theComponent,defaults:Object.assign(Object.assign({},superDef?superDef.defaults:{}),defaultConfig?defaultConfig.rawOptions:{}),overrides:Object.assign(Object.assign({},superDef?superDef.overrides:{}),overrideConfig?overrideConfig.rawOptions:{})}}function parseViewConfigs(inputs){return mapHash(inputs,parseViewConfig)}function parseViewConfig(input){let rawOptions="function"==typeof input?{component:input}:input;let{component}=rawOptions;if(rawOptions.content)component=createViewHookComponent(rawOptions);else if(component&&!(component.prototype instanceof BaseComponent))component=createViewHookComponent(Object.assign(Object.assign({},rawOptions),{content:component}));return{superType:rawOptions.type,component:component,rawOptions}}function createViewHookComponent(options){return viewProps=>preact_module_y(ViewContextType.Consumer,null,context=>preact_module_y(ContentContainer,{elTag:"div",elClasses:buildViewClassNames(context.viewSpec),renderProps:Object.assign(Object.assign({},viewProps),{nextDayThreshold:context.options.nextDayThreshold}),generatorName:void 0,customGenerator:options.content,classNameGenerator:options.classNames,didMount:options.didMount,willUnmount:options.willUnmount}))}function buildViewSpecs(defaultInputs,optionOverrides,dynamicOptionOverrides,localeDefaults){let defaultConfigs=parseViewConfigs(defaultInputs);let overrideConfigs=parseViewConfigs(optionOverrides.views);let viewDefs=compileViewDefs(defaultConfigs,overrideConfigs);return mapHash(viewDefs,viewDef=>buildViewSpec(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults))}function buildViewSpec(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults){let durationInput=viewDef.overrides.duration||viewDef.defaults.duration||dynamicOptionOverrides.duration||optionOverrides.duration;let duration=null;let durationUnit="";let singleUnit="";let singleUnitOverrides={};if(durationInput){duration=createDurationCached(durationInput);if(duration){let denom=greatestDurationDenominator(duration);durationUnit=denom.unit;if(1===denom.value){singleUnit=durationUnit;singleUnitOverrides=overrideConfigs[durationUnit]?overrideConfigs[durationUnit].rawOptions:{}}}}let queryButtonText=optionsSubset=>{let buttonTextMap=optionsSubset.buttonText||{};let buttonTextKey=viewDef.defaults.buttonTextKey;if(null!=buttonTextKey&&null!=buttonTextMap[buttonTextKey])return buttonTextMap[buttonTextKey];if(null!=buttonTextMap[viewDef.type])return buttonTextMap[viewDef.type];if(null!=buttonTextMap[singleUnit])return buttonTextMap[singleUnit];return null};let queryButtonTitle=optionsSubset=>{let buttonHints=optionsSubset.buttonHints||{};let buttonKey=viewDef.defaults.buttonTextKey;if(null!=buttonKey&&null!=buttonHints[buttonKey])return buttonHints[buttonKey];if(null!=buttonHints[viewDef.type])return buttonHints[viewDef.type];if(null!=buttonHints[singleUnit])return buttonHints[singleUnit];return null};return{type:viewDef.type,component:viewDef.component,duration,durationUnit,singleUnit,optionDefaults:viewDef.defaults,optionOverrides:Object.assign(Object.assign({},singleUnitOverrides),viewDef.overrides),buttonTextOverride:queryButtonText(dynamicOptionOverrides)||queryButtonText(optionOverrides)||viewDef.overrides.buttonText,buttonTextDefault:queryButtonText(localeDefaults)||viewDef.defaults.buttonText||queryButtonText(internal_common_BASE_OPTION_DEFAULTS)||viewDef.type,buttonTitleOverride:queryButtonTitle(dynamicOptionOverrides)||queryButtonTitle(optionOverrides)||viewDef.overrides.buttonHint,buttonTitleDefault:queryButtonTitle(localeDefaults)||viewDef.defaults.buttonHint||queryButtonTitle(internal_common_BASE_OPTION_DEFAULTS)}}let durationInputMap={};function createDurationCached(durationInput){let json=JSON.stringify(durationInput);let res=durationInputMap[json];if(void 0===res){res=createDuration(durationInput);durationInputMap[json]=res}return res}function reduceViewType(viewType,action){switch(action.type){case"CHANGE_VIEW_TYPE":viewType=action.viewType}return viewType}function reduceDynamicOptionOverrides(dynamicOptionOverrides,action){switch(action.type){case"SET_OPTION":return Object.assign(Object.assign({},dynamicOptionOverrides),{[action.optionName]:action.rawOptionValue});default:return dynamicOptionOverrides}}function reduceDateProfile(currentDateProfile,action,currentDate,dateProfileGenerator){let dp;switch(action.type){case"CHANGE_VIEW_TYPE":return dateProfileGenerator.build(action.dateMarker||currentDate);case"CHANGE_DATE":return dateProfileGenerator.build(action.dateMarker);case"PREV":dp=dateProfileGenerator.buildPrev(currentDateProfile,currentDate);if(dp.isValid)return dp;break;case"NEXT":dp=dateProfileGenerator.buildNext(currentDateProfile,currentDate);if(dp.isValid)return dp;break}return currentDateProfile}function initEventSources(calendarOptions,dateProfile,context){let activeRange=dateProfile?dateProfile.activeRange:null;return addSources({},parseInitialSources(calendarOptions,context),activeRange,context)}function reduceEventSources(eventSources,action,dateProfile,context){let activeRange=dateProfile?dateProfile.activeRange:null;switch(action.type){case"ADD_EVENT_SOURCES":return addSources(eventSources,action.sources,activeRange,context);case"REMOVE_EVENT_SOURCE":return removeSource(eventSources,action.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(dateProfile)return fetchDirtySources(eventSources,activeRange,context);return eventSources;case"FETCH_EVENT_SOURCES":return fetchSourcesByIds(eventSources,action.sourceIds?arrayToHash(action.sourceIds):excludeStaticSources(eventSources,context),activeRange,action.isRefetch||false,context);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return receiveResponse(eventSources,action.sourceId,action.fetchId,action.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return eventSources}}function reduceEventSourcesNewTimeZone(eventSources,dateProfile,context){let activeRange=dateProfile?dateProfile.activeRange:null;return fetchSourcesByIds(eventSources,excludeStaticSources(eventSources,context),activeRange,true,context)}function computeEventSourcesLoading(eventSources){for(let sourceId in eventSources)if(eventSources[sourceId].isFetching)return true;return false}function addSources(eventSourceHash,sources,fetchRange,context){let hash={};for(let source of sources)hash[source.sourceId]=source;if(fetchRange)hash=fetchDirtySources(hash,fetchRange,context);return Object.assign(Object.assign({},eventSourceHash),hash)}function removeSource(eventSourceHash,sourceId){return filterHash(eventSourceHash,eventSource=>eventSource.sourceId!==sourceId)}function fetchDirtySources(sourceHash,fetchRange,context){return fetchSourcesByIds(sourceHash,filterHash(sourceHash,eventSource=>isSourceDirty(eventSource,fetchRange,context)),fetchRange,false,context)}function isSourceDirty(eventSource,fetchRange,context){if(!doesSourceNeedRange(eventSource,context))return!eventSource.latestFetchId;return!context.options.lazyFetching||!eventSource.fetchRange||eventSource.isFetching||fetchRange.start<eventSource.fetchRange.start||fetchRange.end>eventSource.fetchRange.end}function fetchSourcesByIds(prevSources,sourceIdHash,fetchRange,isRefetch,context){let nextSources={};for(let sourceId in prevSources){let source=prevSources[sourceId];if(sourceIdHash[sourceId])nextSources[sourceId]=fetchSource(source,fetchRange,isRefetch,context);else nextSources[sourceId]=source}return nextSources}function fetchSource(eventSource,fetchRange,isRefetch,context){let{options,calendarApi}=context;let sourceDef=context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];let fetchId=guid();sourceDef.fetch({eventSource,range:fetchRange,isRefetch,context},res=>{let{rawEvents}=res;if(options.eventSourceSuccess)rawEvents=options.eventSourceSuccess.call(calendarApi,rawEvents,res.response)||rawEvents;if(eventSource.success)rawEvents=eventSource.success.call(calendarApi,rawEvents,res.response)||rawEvents;context.dispatch({type:"RECEIVE_EVENTS",sourceId:eventSource.sourceId,fetchId,fetchRange,rawEvents})},error=>{let errorHandled=false;if(options.eventSourceFailure){options.eventSourceFailure.call(calendarApi,error);errorHandled=true}if(eventSource.failure){eventSource.failure(error);errorHandled=true}if(!errorHandled)console.warn(error.message,error);context.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:eventSource.sourceId,fetchId,fetchRange,error})});return Object.assign(Object.assign({},eventSource),{isFetching:true,latestFetchId:fetchId})}function receiveResponse(sourceHash,sourceId,fetchId,fetchRange){let eventSource=sourceHash[sourceId];if(eventSource&&fetchId===eventSource.latestFetchId)return Object.assign(Object.assign({},sourceHash),{[sourceId]:Object.assign(Object.assign({},eventSource),{isFetching:false,fetchRange})});return sourceHash}function excludeStaticSources(eventSources,context){return filterHash(eventSources,eventSource=>doesSourceNeedRange(eventSource,context))}function parseInitialSources(rawOptions,context){let refiners=buildEventSourceRefiners(context);let rawSources=[].concat(rawOptions.eventSources||[]);let sources=[];if(rawOptions.initialEvents)rawSources.unshift(rawOptions.initialEvents);if(rawOptions.events)rawSources.unshift(rawOptions.events);for(let rawSource of rawSources){let source=parseEventSource(rawSource,context,refiners);if(source)sources.push(source)}return sources}function doesSourceNeedRange(eventSource,context){let defs=context.pluginHooks.eventSourceDefs;return!defs[eventSource.sourceDefId].ignoreRange}function reduceDateSelection(currentSelection,action){switch(action.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return action.selection;default:return currentSelection}}function reduceSelectedEvent(currentInstanceId,action){switch(action.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return action.eventInstanceId;default:return currentInstanceId}}function reduceEventDrag(currentDrag,action){let newDrag;switch(action.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":newDrag=action.state;return{affectedEvents:newDrag.affectedEvents,mutatedEvents:newDrag.mutatedEvents,isEvent:newDrag.isEvent};default:return currentDrag}}function reduceEventResize(currentResize,action){let newResize;switch(action.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":newResize=action.state;return{affectedEvents:newResize.affectedEvents,mutatedEvents:newResize.mutatedEvents,isEvent:newResize.isEvent};default:return currentResize}}function parseToolbars(calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){let header=calendarOptions.headerToolbar?parseToolbar(calendarOptions.headerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi):null;let footer=calendarOptions.footerToolbar?parseToolbar(calendarOptions.footerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi):null;return{header,footer}}function parseToolbar(sectionStrHash,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){let sectionWidgets={};let viewsWithButtons=[];let hasTitle=false;for(let sectionName in sectionStrHash){let sectionStr=sectionStrHash[sectionName];let sectionRes=parseSection(sectionStr,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi);sectionWidgets[sectionName]=sectionRes.widgets;viewsWithButtons.push(...sectionRes.viewsWithButtons);hasTitle=hasTitle||sectionRes.hasTitle}return{sectionWidgets,viewsWithButtons,hasTitle}}function parseSection(sectionStr,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){let isRtl="rtl"===calendarOptions.direction;let calendarCustomButtons=calendarOptions.customButtons||{};let calendarButtonTextOverrides=calendarOptionOverrides.buttonText||{};let calendarButtonText=calendarOptions.buttonText||{};let calendarButtonHintOverrides=calendarOptionOverrides.buttonHints||{};let calendarButtonHints=calendarOptions.buttonHints||{};let sectionSubstrs=sectionStr?sectionStr.split(" "):[];let viewsWithButtons=[];let hasTitle=false;let widgets=sectionSubstrs.map(buttonGroupStr=>buttonGroupStr.split(",").map(buttonName=>{if("title"===buttonName){hasTitle=true;return{buttonName}}let customButtonProps;let viewSpec;let buttonClick;let buttonIcon;let buttonText;let buttonHint;if(customButtonProps=calendarCustomButtons[buttonName]){buttonClick=ev=>{if(customButtonProps.click)customButtonProps.click.call(ev.target,ev,ev.target)};(buttonIcon=theme.getCustomButtonIconClass(customButtonProps))||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=customButtonProps.text);buttonHint=customButtonProps.hint||customButtonProps.text}else if(viewSpec=viewSpecs[buttonName]){viewsWithButtons.push(buttonName);buttonClick=()=>{calendarApi.changeView(buttonName)};(buttonText=viewSpec.buttonTextOverride)||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=viewSpec.buttonTextDefault);let textFallback=viewSpec.buttonTextOverride||viewSpec.buttonTextDefault;buttonHint=formatWithOrdinals(viewSpec.buttonTitleOverride||viewSpec.buttonTitleDefault||calendarOptions.viewHint,[textFallback,buttonName],textFallback)}else if(calendarApi[buttonName]){buttonClick=()=>{calendarApi[buttonName]()};(buttonText=calendarButtonTextOverrides[buttonName])||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=calendarButtonText[buttonName]);if("prevYear"===buttonName||"nextYear"===buttonName){let prevOrNext="prevYear"===buttonName?"prev":"next";buttonHint=formatWithOrdinals(calendarButtonHintOverrides[prevOrNext]||calendarButtonHints[prevOrNext],[calendarButtonText.year||"year","year"],calendarButtonText[buttonName])}else buttonHint=navUnit=>formatWithOrdinals(calendarButtonHintOverrides[buttonName]||calendarButtonHints[buttonName],[calendarButtonText[navUnit]||navUnit,navUnit],calendarButtonText[buttonName])}return{buttonName,buttonClick,buttonIcon,buttonText,buttonHint}}));return{widgets,viewsWithButtons,hasTitle}}class ViewImpl{constructor(type,getCurrentData,dateEnv){this.type=type;this.getCurrentData=getCurrentData;this.dateEnv=dateEnv}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(name){return this.getCurrentData().options[name]}}let eventSourceDef$2={ignoreRange:true,parseMeta(refined){if(Array.isArray(refined.events))return refined.events;return null},fetch(arg,successCallback){successCallback({rawEvents:arg.eventSource.meta})}};const arrayEventSourcePlugin=createPlugin({name:"array-event-source",eventSourceDefs:[eventSourceDef$2]});let eventSourceDef$1={parseMeta(refined){if("function"==typeof refined.events)return refined.events;return null},fetch(arg,successCallback,errorCallback){const{dateEnv}=arg.context;const func=arg.eventSource.meta;unpromisify(func.bind(null,buildRangeApiWithTimeZone(arg.range,dateEnv)),rawEvents=>successCallback({rawEvents}),errorCallback)}};const funcEventSourcePlugin=createPlugin({name:"func-event-source",eventSourceDefs:[eventSourceDef$1]});const JSON_FEED_EVENT_SOURCE_REFINERS={method:String,extraParams:internal_common_identity,startParam:String,endParam:String,timeZoneParam:String};let eventSourceDef={parseMeta(refined){if(refined.url&&("json"===refined.format||!refined.format))return{url:refined.url,format:"json",method:(refined.method||"GET").toUpperCase(),extraParams:refined.extraParams,startParam:refined.startParam,endParam:refined.endParam,timeZoneParam:refined.timeZoneParam};return null},fetch(arg,successCallback,errorCallback){const{meta}=arg.eventSource;const requestParams=buildRequestParams(meta,arg.range,arg.context);requestJson(meta.method,meta.url,requestParams).then(([rawEvents,response])=>{successCallback({rawEvents,response})},errorCallback)}};const jsonFeedEventSourcePlugin=createPlugin({name:"json-event-source",eventSourceRefiners:JSON_FEED_EVENT_SOURCE_REFINERS,eventSourceDefs:[eventSourceDef]});function buildRequestParams(meta,range,context){let{dateEnv,options}=context;let startParam;let endParam;let timeZoneParam;let customRequestParams;let params={};startParam=meta.startParam;if(null==startParam)startParam=options.startParam;endParam=meta.endParam;if(null==endParam)endParam=options.endParam;timeZoneParam=meta.timeZoneParam;if(null==timeZoneParam)timeZoneParam=options.timeZoneParam;customRequestParams="function"==typeof meta.extraParams?meta.extraParams():meta.extraParams||{};Object.assign(params,customRequestParams);params[startParam]=dateEnv.formatIso(range.start);params[endParam]=dateEnv.formatIso(range.end);if("local"!==dateEnv.timeZone)params[timeZoneParam]=dateEnv.timeZone;return params}const SIMPLE_RECURRING_REFINERS={daysOfWeek:internal_common_identity,startTime:createDuration,endTime:createDuration,duration:createDuration,startRecur:internal_common_identity,endRecur:internal_common_identity};let recurring={parse(refined,dateEnv){if(refined.daysOfWeek||refined.startTime||refined.endTime||refined.startRecur||refined.endRecur){let recurringData={daysOfWeek:refined.daysOfWeek||null,startTime:refined.startTime||null,endTime:refined.endTime||null,startRecur:refined.startRecur?dateEnv.createMarker(refined.startRecur):null,endRecur:refined.endRecur?dateEnv.createMarker(refined.endRecur):null};let duration;if(refined.duration)duration=refined.duration;if(!duration&&refined.startTime&&refined.endTime)duration=subtractDurations(refined.endTime,refined.startTime);return{allDayGuess:Boolean(!refined.startTime&&!refined.endTime),duration,typeData:recurringData}}return null},expand(typeData,framingRange,dateEnv){let clippedFramingRange=intersectRanges(framingRange,{start:typeData.startRecur,end:typeData.endRecur});if(clippedFramingRange)return expandRanges(typeData.daysOfWeek,typeData.startTime,clippedFramingRange,dateEnv);return[]}};const simpleRecurringEventsPlugin=createPlugin({name:"simple-recurring-event",recurringTypes:[recurring],eventRefiners:SIMPLE_RECURRING_REFINERS});function expandRanges(daysOfWeek,startTime,framingRange,dateEnv){let dowHash=daysOfWeek?arrayToHash(daysOfWeek):null;let dayMarker=startOfDay(framingRange.start);let endMarker=framingRange.end;let instanceStarts=[];while(dayMarker<endMarker){let instanceStart;if(!dowHash||dowHash[dayMarker.getUTCDay()]){instanceStart=startTime?dateEnv.add(dayMarker,startTime):dayMarker;instanceStarts.push(instanceStart)}dayMarker=addDays(dayMarker,1)}return instanceStarts}const changeHandlerPlugin=createPlugin({name:"change-handler",optionChangeHandlers:{events(events,context){handleEventSources([events],context)},eventSources:handleEventSources}});function handleEventSources(inputs,context){let unfoundSources=hashValuesToArray(context.getCurrentData().eventSources);if(1===unfoundSources.length&&1===inputs.length&&Array.isArray(unfoundSources[0]._raw)&&Array.isArray(inputs[0])){context.dispatch({type:"RESET_RAW_EVENTS",sourceId:unfoundSources[0].sourceId,rawEvents:inputs[0]});return}let newInputs=[];for(let input of inputs){let inputFound=false;for(let i=0;i<unfoundSources.length;i+=1)if(unfoundSources[i]._raw===input){unfoundSources.splice(i,1);inputFound=true;break}if(!inputFound)newInputs.push(input)}for(let unfoundSource of unfoundSources)context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:unfoundSource.sourceId});for(let newInput of newInputs)context.calendarApi.addEventSource(newInput)}function handleDateProfile(dateProfile,context){context.emitter.trigger("datesSet",Object.assign(Object.assign({},buildRangeApiWithTimeZone(dateProfile.activeRange,context.dateEnv)),{view:context.viewApi}))}function handleEventStore(eventStore,context){let{emitter}=context;if(emitter.hasHandlers("eventsSet"))emitter.trigger("eventsSet",buildEventApis(eventStore,context))}const globalPlugins=[arrayEventSourcePlugin,funcEventSourcePlugin,jsonFeedEventSourcePlugin,simpleRecurringEventsPlugin,changeHandlerPlugin,createPlugin({name:"misc",isLoadingFuncs:[state=>computeEventSourcesLoading(state.eventSources)],propSetHandlers:{dateProfile:handleDateProfile,eventStore:handleEventStore}})];class TaskRunner{constructor(runTaskOption,drainedOption){this.runTaskOption=runTaskOption;this.drainedOption=drainedOption;this.queue=[];this.delayedRunner=new DelayedRunner(this.drain.bind(this))}request(task,delay){this.queue.push(task);this.delayedRunner.request(delay)}pause(scope){this.delayedRunner.pause(scope)}resume(scope,force){this.delayedRunner.resume(scope,force)}drain(){let{queue}=this;while(queue.length){let completedTasks=[];let task;while(task=queue.shift()){this.runTask(task);completedTasks.push(task)}this.drained(completedTasks)}}runTask(task){if(this.runTaskOption)this.runTaskOption(task)}drained(completedTasks){if(this.drainedOption)this.drainedOption(completedTasks)}}function buildTitle(dateProfile,viewOptions,dateEnv){let range;range=/^(year|month)$/.test(dateProfile.currentRangeUnit)?dateProfile.currentRange:dateProfile.activeRange;return dateEnv.formatRange(range.start,range.end,internal_common_createFormatter(viewOptions.titleFormat||buildTitleFormat(dateProfile)),{isEndExclusive:dateProfile.isRangeAllDay,defaultSeparator:viewOptions.titleRangeSeparator})}function buildTitleFormat(dateProfile){let{currentRangeUnit}=dateProfile;if("year"===currentRangeUnit)return{year:"numeric"};if("month"===currentRangeUnit)return{year:"numeric",month:"long"};let days=diffWholeDays(dateProfile.currentRange.start,dateProfile.currentRange.end);if(null!==days&&days>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}class CalendarDataManager{constructor(props){this.computeCurrentViewData=memoize(this._computeCurrentViewData);this.organizeRawLocales=memoize(organizeRawLocales);this.buildLocale=memoize(buildLocale);this.buildPluginHooks=buildBuildPluginHooks();this.buildDateEnv=memoize(buildDateEnv$1);this.buildTheme=memoize(buildTheme);this.parseToolbars=memoize(parseToolbars);this.buildViewSpecs=memoize(buildViewSpecs);this.buildDateProfileGenerator=memoizeObjArg(buildDateProfileGenerator);this.buildViewApi=memoize(buildViewApi);this.buildViewUiProps=memoizeObjArg(buildViewUiProps);this.buildEventUiBySource=memoize(buildEventUiBySource,isPropsEqual);this.buildEventUiBases=memoize(buildEventUiBases);this.parseContextBusinessHours=memoizeObjArg(parseContextBusinessHours);this.buildTitle=memoize(buildTitle);this.emitter=new Emitter;this.actionRunner=new TaskRunner(this._handleAction.bind(this),this.updateData.bind(this));this.currentCalendarOptionsInput={};this.currentCalendarOptionsRefined={};this.currentViewOptionsInput={};this.currentViewOptionsRefined={};this.currentCalendarOptionsRefiners={};this.optionsForRefining=[];this.optionsForHandling=[];this.getCurrentData=()=>this.data;this.dispatch=action=>{this.actionRunner.request(action)};this.props=props;this.actionRunner.pause();let dynamicOptionOverrides={};let optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi);let currentViewType=optionsData.calendarOptions.initialView||optionsData.pluginHooks.initialView;let currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this;this.emitter.setThisContext(props.calendarApi);this.emitter.setOptions(currentViewData.options);let currentDate=getInitialDate(optionsData.calendarOptions,optionsData.dateEnv);let dateProfile=currentViewData.dateProfileGenerator.build(currentDate);if(!rangeContainsMarker(dateProfile.activeRange,currentDate))currentDate=dateProfile.currentRange.start;let calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let callback of optionsData.pluginHooks.contextInit)callback(calendarContext);let eventSources=initEventSources(optionsData.calendarOptions,dateProfile,calendarContext);let initialState={dynamicOptionOverrides,currentViewType,currentDate,dateProfile,businessHours:this.parseContextBusinessHours(calendarContext),eventSources,eventUiBases:{},eventStore:createEmptyEventStore(),renderableEventStore:createEmptyEventStore(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(calendarContext).selectionConfig};let contextAndState=Object.assign(Object.assign({},calendarContext),initialState);for(let reducer of optionsData.pluginHooks.reducers)Object.assign(initialState,reducer(null,null,contextAndState));if(computeIsLoading(initialState,calendarContext))this.emitter.trigger("loading",true);this.state=initialState;this.updateData();this.actionRunner.resume()}resetOptions(optionOverrides,changedOptionNames){let{props}=this;if(void 0===changedOptionNames)props.optionOverrides=optionOverrides;else{props.optionOverrides=Object.assign(Object.assign({},props.optionOverrides||{}),optionOverrides);this.optionsForRefining.push(...changedOptionNames)}if(void 0===changedOptionNames||changedOptionNames.length)this.actionRunner.request({type:"NOTHING"})}_handleAction(action){let{props,state,emitter}=this;let dynamicOptionOverrides=reduceDynamicOptionOverrides(state.dynamicOptionOverrides,action);let optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi);let currentViewType=reduceViewType(state.currentViewType,action);let currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this;emitter.setThisContext(props.calendarApi);emitter.setOptions(currentViewData.options);let calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter,getCurrentData:this.getCurrentData};let{currentDate,dateProfile}=state;if(this.data&&this.data.dateProfileGenerator!==currentViewData.dateProfileGenerator)dateProfile=currentViewData.dateProfileGenerator.build(currentDate);currentDate=reduceCurrentDate(currentDate,action);dateProfile=reduceDateProfile(dateProfile,action,currentDate,currentViewData.dateProfileGenerator);if("PREV"===action.type||"NEXT"===action.type||!rangeContainsMarker(dateProfile.currentRange,currentDate))currentDate=dateProfile.currentRange.start;let eventSources=reduceEventSources(state.eventSources,action,dateProfile,calendarContext);let eventStore=reduceEventStore(state.eventStore,action,eventSources,dateProfile,calendarContext);let isEventsLoading=computeEventSourcesLoading(eventSources);let renderableEventStore=isEventsLoading&&!currentViewData.options.progressiveEventRendering?state.renderableEventStore||eventStore:eventStore;let{eventUiSingleBase,selectionConfig}=this.buildViewUiProps(calendarContext);let eventUiBySource=this.buildEventUiBySource(eventSources);let eventUiBases=this.buildEventUiBases(renderableEventStore.defs,eventUiSingleBase,eventUiBySource);let newState={dynamicOptionOverrides,currentViewType,currentDate,dateProfile,eventSources,eventStore,renderableEventStore,selectionConfig,eventUiBases,businessHours:this.parseContextBusinessHours(calendarContext),dateSelection:reduceDateSelection(state.dateSelection,action),eventSelection:reduceSelectedEvent(state.eventSelection,action),eventDrag:reduceEventDrag(state.eventDrag,action),eventResize:reduceEventResize(state.eventResize,action)};let contextAndState=Object.assign(Object.assign({},calendarContext),newState);for(let reducer of optionsData.pluginHooks.reducers)Object.assign(newState,reducer(state,action,contextAndState));let wasLoading=computeIsLoading(state,calendarContext);let isLoading=computeIsLoading(newState,calendarContext);if(!wasLoading&&isLoading)emitter.trigger("loading",true);else if(wasLoading&&!isLoading)emitter.trigger("loading",false);this.state=newState;if(props.onAction)props.onAction(action)}updateData(){let{props,state}=this;let oldData=this.data;let optionsData=this.computeOptionsData(props.optionOverrides,state.dynamicOptionOverrides,props.calendarApi);let currentViewData=this.computeCurrentViewData(state.currentViewType,optionsData,props.optionOverrides,state.dynamicOptionOverrides);let data=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(state.dateProfile,currentViewData.options,optionsData.dateEnv),calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},optionsData),currentViewData),state);let changeHandlers=optionsData.pluginHooks.optionChangeHandlers;let oldCalendarOptions=oldData&&oldData.calendarOptions;let newCalendarOptions=optionsData.calendarOptions;if(oldCalendarOptions&&oldCalendarOptions!==newCalendarOptions){if(oldCalendarOptions.timeZone!==newCalendarOptions.timeZone){state.eventSources=data.eventSources=reduceEventSourcesNewTimeZone(data.eventSources,state.dateProfile,data);state.eventStore=data.eventStore=rezoneEventStoreDates(data.eventStore,oldData.dateEnv,data.dateEnv);state.renderableEventStore=data.renderableEventStore=rezoneEventStoreDates(data.renderableEventStore,oldData.dateEnv,data.dateEnv)}for(let optionName in changeHandlers)if(-1!==this.optionsForHandling.indexOf(optionName)||oldCalendarOptions[optionName]!==newCalendarOptions[optionName])changeHandlers[optionName](newCalendarOptions[optionName],data)}this.optionsForHandling=[];if(props.onData)props.onData(data)}computeOptionsData(optionOverrides,dynamicOptionOverrides,calendarApi){if(!this.optionsForRefining.length&&optionOverrides===this.stableOptionOverrides&&dynamicOptionOverrides===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions,pluginHooks,localeDefaults,availableLocaleData,extra}=this.processRawCalendarOptions(optionOverrides,dynamicOptionOverrides);warnUnknownOptions(extra);let dateEnv=this.buildDateEnv(refinedOptions.timeZone,refinedOptions.locale,refinedOptions.weekNumberCalculation,refinedOptions.firstDay,refinedOptions.weekText,pluginHooks,availableLocaleData,refinedOptions.defaultRangeSeparator);let viewSpecs=this.buildViewSpecs(pluginHooks.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,localeDefaults);let theme=this.buildTheme(refinedOptions,pluginHooks);let toolbarConfig=this.parseToolbars(refinedOptions,this.stableOptionOverrides,theme,viewSpecs,calendarApi);return this.stableCalendarOptionsData={calendarOptions:refinedOptions,pluginHooks,dateEnv,viewSpecs,theme,toolbarConfig,localeDefaults,availableRawLocales:availableLocaleData.map}}processRawCalendarOptions(optionOverrides,dynamicOptionOverrides){let{locales,locale}=mergeRawOptions([internal_common_BASE_OPTION_DEFAULTS,optionOverrides,dynamicOptionOverrides]);let availableLocaleData=this.organizeRawLocales(locales);let availableRawLocales=availableLocaleData.map;let localeDefaults=this.buildLocale(locale||availableLocaleData.defaultCode,availableRawLocales).options;let pluginHooks=this.buildPluginHooks(optionOverrides.plugins||[],globalPlugins);let refiners=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),pluginHooks.listenerRefiners),pluginHooks.optionRefiners);let extra={};let raw=mergeRawOptions([internal_common_BASE_OPTION_DEFAULTS,localeDefaults,optionOverrides,dynamicOptionOverrides]);let refined={};let currentRaw=this.currentCalendarOptionsInput;let currentRefined=this.currentCalendarOptionsRefined;let anyChanges=false;for(let optionName in raw)if(-1===this.optionsForRefining.indexOf(optionName)&&(raw[optionName]===currentRaw[optionName]||COMPLEX_OPTION_COMPARATORS[optionName]&&optionName in currentRaw&&COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName],raw[optionName])))refined[optionName]=currentRefined[optionName];else if(refiners[optionName]){refined[optionName]=refiners[optionName](raw[optionName]);anyChanges=true}else extra[optionName]=currentRaw[optionName];if(anyChanges){this.currentCalendarOptionsInput=raw;this.currentCalendarOptionsRefined=refined;this.stableOptionOverrides=optionOverrides;this.stableDynamicOptionOverrides=dynamicOptionOverrides}this.optionsForHandling.push(...this.optionsForRefining);this.optionsForRefining=[];return{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks,availableLocaleData,localeDefaults,extra}}_computeCurrentViewData(viewType,optionsData,optionOverrides,dynamicOptionOverrides){let viewSpec=optionsData.viewSpecs[viewType];if(!viewSpec)throw new Error(`viewType "${viewType}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions,extra}=this.processRawViewOptions(viewSpec,optionsData.pluginHooks,optionsData.localeDefaults,optionOverrides,dynamicOptionOverrides);warnUnknownOptions(extra);let dateProfileGenerator=this.buildDateProfileGenerator({dateProfileGeneratorClass:viewSpec.optionDefaults.dateProfileGeneratorClass,duration:viewSpec.duration,durationUnit:viewSpec.durationUnit,usesMinMaxTime:viewSpec.optionDefaults.usesMinMaxTime,dateEnv:optionsData.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:refinedOptions.slotMinTime,slotMaxTime:refinedOptions.slotMaxTime,showNonCurrentDates:refinedOptions.showNonCurrentDates,dayCount:refinedOptions.dayCount,dateAlignment:refinedOptions.dateAlignment,dateIncrement:refinedOptions.dateIncrement,hiddenDays:refinedOptions.hiddenDays,weekends:refinedOptions.weekends,nowInput:refinedOptions.now,validRangeInput:refinedOptions.validRange,visibleRangeInput:refinedOptions.visibleRange,fixedWeekCount:refinedOptions.fixedWeekCount});let viewApi=this.buildViewApi(viewType,this.getCurrentData,optionsData.dateEnv);return{viewSpec,options:refinedOptions,dateProfileGenerator,viewApi}}processRawViewOptions(viewSpec,pluginHooks,localeDefaults,optionOverrides,dynamicOptionOverrides){let raw=mergeRawOptions([internal_common_BASE_OPTION_DEFAULTS,viewSpec.optionDefaults,localeDefaults,optionOverrides,viewSpec.optionOverrides,dynamicOptionOverrides]);let refiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),VIEW_OPTION_REFINERS),pluginHooks.listenerRefiners),pluginHooks.optionRefiners);let refined={};let currentRaw=this.currentViewOptionsInput;let currentRefined=this.currentViewOptionsRefined;let anyChanges=false;let extra={};for(let optionName in raw)if(raw[optionName]===currentRaw[optionName]||COMPLEX_OPTION_COMPARATORS[optionName]&&COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName],currentRaw[optionName]))refined[optionName]=currentRefined[optionName];else{if(raw[optionName]===this.currentCalendarOptionsInput[optionName]||COMPLEX_OPTION_COMPARATORS[optionName]&&COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName],this.currentCalendarOptionsInput[optionName])){if(optionName in this.currentCalendarOptionsRefined)refined[optionName]=this.currentCalendarOptionsRefined[optionName]}else if(refiners[optionName])refined[optionName]=refiners[optionName](raw[optionName]);else extra[optionName]=raw[optionName];anyChanges=true}if(anyChanges){this.currentViewOptionsInput=raw;this.currentViewOptionsRefined=refined}return{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra}}}function buildDateEnv$1(timeZone,explicitLocale,weekNumberCalculation,firstDay,weekText,pluginHooks,availableLocaleData,defaultSeparator){let locale=buildLocale(explicitLocale||availableLocaleData.defaultCode,availableLocaleData.map);return new internal_common_DateEnv({calendarSystem:"gregory",timeZone,namedTimeZoneImpl:pluginHooks.namedTimeZonedImpl,locale,weekNumberCalculation,firstDay,weekText,cmdFormatter:pluginHooks.cmdFormatter,defaultSeparator})}function buildTheme(options,pluginHooks){let ThemeClass=pluginHooks.themeClasses[options.themeSystem]||StandardTheme;return new ThemeClass(options)}function buildDateProfileGenerator(props){let DateProfileGeneratorClass=props.dateProfileGeneratorClass||DateProfileGenerator;return new DateProfileGeneratorClass(props)}function buildViewApi(type,getCurrentData,dateEnv){return new ViewImpl(type,getCurrentData,dateEnv)}function buildEventUiBySource(eventSources){return mapHash(eventSources,eventSource=>eventSource.ui)}function buildEventUiBases(eventDefs,eventUiSingleBase,eventUiBySource){let eventUiBases={"":eventUiSingleBase};for(let defId in eventDefs){let def=eventDefs[defId];if(def.sourceId&&eventUiBySource[def.sourceId])eventUiBases[defId]=eventUiBySource[def.sourceId]}return eventUiBases}function buildViewUiProps(calendarContext){let{options}=calendarContext;return{eventUiSingleBase:createEventUi({display:options.eventDisplay,editable:options.editable,startEditable:options.eventStartEditable,durationEditable:options.eventDurationEditable,constraint:options.eventConstraint,overlap:"boolean"==typeof options.eventOverlap?options.eventOverlap:void 0,allow:options.eventAllow,backgroundColor:options.eventBackgroundColor,borderColor:options.eventBorderColor,textColor:options.eventTextColor,color:options.eventColor},calendarContext),selectionConfig:createEventUi({constraint:options.selectConstraint,overlap:"boolean"==typeof options.selectOverlap?options.selectOverlap:void 0,allow:options.selectAllow},calendarContext)}}function computeIsLoading(state,context){for(let isLoadingFunc of context.pluginHooks.isLoadingFuncs)if(isLoadingFunc(state))return true;return false}function parseContextBusinessHours(calendarContext){return parseBusinessHours(calendarContext.options.businessHours,calendarContext)}function warnUnknownOptions(options,viewName){for(let optionName in options)console.warn(`Unknown option '${optionName}'`+(viewName?` for view '${viewName}'`:""))}class ToolbarSection extends BaseComponent{render(){let children=this.props.widgetGroups.map(widgetGroup=>this.renderWidgetGroup(widgetGroup));return preact_module_y("div",{className:"fc-toolbar-chunk"},...children)}renderWidgetGroup(widgetGroup){let{props}=this;let{theme}=this.context;let children=[];let isOnlyButtons=true;for(let widget of widgetGroup){let{buttonName,buttonClick,buttonText,buttonIcon,buttonHint}=widget;if("title"===buttonName){isOnlyButtons=false;children.push(preact_module_y("h2",{className:"fc-toolbar-title",id:props.titleId},props.title))}else{let isPressed=buttonName===props.activeButton;let isDisabled=!props.isTodayEnabled&&"today"===buttonName||!props.isPrevEnabled&&"prev"===buttonName||!props.isNextEnabled&&"next"===buttonName;let buttonClasses=[`fc-${buttonName}-button`,theme.getClass("button")];if(isPressed)buttonClasses.push(theme.getClass("buttonActive"));children.push(preact_module_y("button",{type:"button",title:"function"==typeof buttonHint?buttonHint(props.navUnit):buttonHint,disabled:isDisabled,"aria-pressed":isPressed,className:buttonClasses.join(" "),onClick:buttonClick},buttonText||(buttonIcon?preact_module_y("span",{className:buttonIcon,role:"img"}):"")))}}if(children.length>1){let groupClassName=isOnlyButtons&&theme.getClass("buttonGroup")||"";return preact_module_y("div",{className:groupClassName},...children)}return children[0]}}class Toolbar extends BaseComponent{render(){let{model,extraClassName}=this.props;let forceLtr=false;let startContent;let endContent;let sectionWidgets=model.sectionWidgets;let centerContent=sectionWidgets.center;if(sectionWidgets.left){forceLtr=true;startContent=sectionWidgets.left}else startContent=sectionWidgets.start;if(sectionWidgets.right){forceLtr=true;endContent=sectionWidgets.right}else endContent=sectionWidgets.end;let classNames=[extraClassName||"","fc-toolbar",forceLtr?"fc-toolbar-ltr":""];return preact_module_y("div",{className:classNames.join(" ")},this.renderSection("start",startContent||[]),this.renderSection("center",centerContent||[]),this.renderSection("end",endContent||[]))}renderSection(key,widgetGroups){let{props}=this;return preact_module_y(ToolbarSection,{key:key,widgetGroups:widgetGroups,title:props.title,navUnit:props.navUnit,activeButton:props.activeButton,isTodayEnabled:props.isTodayEnabled,isPrevEnabled:props.isPrevEnabled,isNextEnabled:props.isNextEnabled,titleId:props.titleId})}}class ViewHarness extends BaseComponent{constructor(){super(...arguments);this.state={availableWidth:null};this.handleEl=el=>{this.el=el;setRef(this.props.elRef,el);this.updateAvailableWidth()};this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props,state}=this;let{aspectRatio}=props;let classNames=["fc-view-harness",aspectRatio||props.liquid||props.height?"fc-view-harness-active":"fc-view-harness-passive"];let height="";let paddingBottom="";if(aspectRatio){if(null!==state.availableWidth)height=state.availableWidth/aspectRatio;else paddingBottom=`${1/aspectRatio*100}%`}else height=props.height||"";return preact_module_y("div",{"aria-labelledby":props.labeledById,ref:this.handleEl,className:classNames.join(" "),style:{height,paddingBottom}},props.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){if(this.el&&this.props.aspectRatio)this.setState({availableWidth:this.el.offsetWidth})}}class EventClicking extends Interaction{constructor(settings){super(settings);this.handleSegClick=(ev,segEl)=>{let{component}=this;let{context}=component;let seg=getElSeg(segEl);if(seg&&component.isValidSegDownEl(ev.target)){let hasUrlContainer=elementClosest(ev.target,".fc-event-forced-url");let url=hasUrlContainer?hasUrlContainer.querySelector("a[href]").href:"";context.emitter.trigger("eventClick",{el:segEl,event:new EventImpl(component.context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi});if(url&&!ev.defaultPrevented)window.location.href=url}};this.destroy=listenBySelector(settings.el,"click",".fc-event",this.handleSegClick)}}class EventHovering extends Interaction{constructor(settings){super(settings);this.handleEventElRemove=el=>{if(el===this.currentSegEl)this.handleSegLeave(null,this.currentSegEl)};this.handleSegEnter=(ev,segEl)=>{if(getElSeg(segEl)){this.currentSegEl=segEl;this.triggerEvent("eventMouseEnter",ev,segEl)}};this.handleSegLeave=(ev,segEl)=>{if(this.currentSegEl){this.currentSegEl=null;this.triggerEvent("eventMouseLeave",ev,segEl)}};this.removeHoverListeners=listenToHoverBySelector(settings.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(publicEvName,ev,segEl){let{component}=this;let{context}=component;let seg=getElSeg(segEl);if(!ev||component.isValidSegDownEl(ev.target))context.emitter.trigger(publicEvName,{el:segEl,event:new EventImpl(context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi})}}class CalendarContent extends PureComponent{constructor(){super(...arguments);this.buildViewContext=memoize(buildViewContext);this.buildViewPropTransformers=memoize(buildViewPropTransformers);this.buildToolbarProps=memoize(buildToolbarProps);this.headerRef=preact_module_d();this.footerRef=preact_module_d();this.interactionsStore={};this.state={viewLabelId:getUniqueDomId()};this.registerInteractiveComponent=(component,settingsInput)=>{let settings=parseInteractionSettings(component,settingsInput);let DEFAULT_INTERACTIONS=[EventClicking,EventHovering];let interactionClasses=DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);let interactions=interactionClasses.map(TheInteractionClass=>new TheInteractionClass(settings));this.interactionsStore[component.uid]=interactions;interactionSettingsStore[component.uid]=settings};this.unregisterInteractiveComponent=component=>{let listeners=this.interactionsStore[component.uid];if(listeners){for(let listener of listeners)listener.destroy();delete this.interactionsStore[component.uid]}delete interactionSettingsStore[component.uid]};this.resizeRunner=new DelayedRunner(()=>{this.props.emitter.trigger("_resize",true);this.props.emitter.trigger("windowResize",{view:this.props.viewApi})});this.handleWindowResize=ev=>{let{options}=this.props;if(options.handleWindowResize&&ev.target===window)this.resizeRunner.request(options.windowResizeDelay)}}render(){let{props}=this;let{toolbarConfig,options}=props;let toolbarProps=this.buildToolbarProps(props.viewSpec,props.dateProfile,props.dateProfileGenerator,props.currentDate,getNow(props.options.now,props.dateEnv),props.viewTitle);let viewVGrow=false;let viewHeight="";let viewAspectRatio;if(props.isHeightAuto||props.forPrint)viewHeight="";else if(null!=options.height)viewVGrow=true;else if(null!=options.contentHeight)viewHeight=options.contentHeight;else viewAspectRatio=Math.max(options.aspectRatio,.5);let viewContext=this.buildViewContext(props.viewSpec,props.viewApi,props.options,props.dateProfileGenerator,props.dateEnv,props.theme,props.pluginHooks,props.dispatch,props.getCurrentData,props.emitter,props.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);let viewLabelId=toolbarConfig.header&&toolbarConfig.header.hasTitle?this.state.viewLabelId:void 0;return preact_module_y(ViewContextType.Provider,{value:viewContext},toolbarConfig.header&&preact_module_y(Toolbar,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:toolbarConfig.header,titleId:viewLabelId},toolbarProps)),preact_module_y(ViewHarness,{liquid:viewVGrow,height:viewHeight,aspectRatio:viewAspectRatio,labeledById:viewLabelId},this.renderView(props),this.buildAppendContent()),toolbarConfig.footer&&preact_module_y(Toolbar,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:toolbarConfig.footer,titleId:""},toolbarProps)))}componentDidMount(){let{props}=this;this.calendarInteractions=props.pluginHooks.calendarInteractions.map(CalendarInteractionClass=>new CalendarInteractionClass(props));window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers}=props.pluginHooks;for(let propName in propSetHandlers)propSetHandlers[propName](props[propName],props)}componentDidUpdate(prevProps){let{props}=this;let{propSetHandlers}=props.pluginHooks;for(let propName in propSetHandlers)if(props[propName]!==prevProps[propName])propSetHandlers[propName](props[propName],props)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize);this.resizeRunner.clear();for(let interaction of this.calendarInteractions)interaction.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props}=this;let children=props.pluginHooks.viewContainerAppends.map(buildAppendContent=>buildAppendContent(props));return preact_module_y(preact_module_,{},...children)}renderView(props){let{pluginHooks}=props;let{viewSpec}=props;let viewProps={dateProfile:props.dateProfile,businessHours:props.businessHours,eventStore:props.renderableEventStore,eventUiBases:props.eventUiBases,dateSelection:props.dateSelection,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,isHeightAuto:props.isHeightAuto,forPrint:props.forPrint};let transformers=this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);for(let transformer of transformers)Object.assign(viewProps,transformer.transform(viewProps,props));let ViewComponent=viewSpec.component;return preact_module_y(ViewComponent,Object.assign({},viewProps))}}function buildToolbarProps(viewSpec,dateProfile,dateProfileGenerator,currentDate,now,title){let todayInfo=dateProfileGenerator.build(now,void 0,false);let prevInfo=dateProfileGenerator.buildPrev(dateProfile,currentDate,false);let nextInfo=dateProfileGenerator.buildNext(dateProfile,currentDate,false);return{title,activeButton:viewSpec.type,navUnit:viewSpec.singleUnit,isTodayEnabled:todayInfo.isValid&&!rangeContainsMarker(dateProfile.currentRange,now),isPrevEnabled:prevInfo.isValid,isNextEnabled:nextInfo.isValid}}function buildViewPropTransformers(theClasses){return theClasses.map(TheClass=>new TheClass)}class Calendar extends CalendarImpl{constructor(el,optionOverrides={}){super();this.isRendering=false;this.isRendered=false;this.currentClassNames=[];this.customContentRenderId=0;this.handleAction=action=>{switch(action.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}};this.handleData=data=>{this.currentData=data;this.renderRunner.request(data.calendarOptions.rerenderDelay)};this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=true;let{currentData}=this;flushSync(()=>{preact_module_D(preact_module_y(CalendarRoot,{options:currentData.calendarOptions,theme:currentData.theme,emitter:currentData.emitter},(classNames,height,isHeightAuto,forPrint)=>{this.setClassNames(classNames);this.setHeight(height);return preact_module_y(RenderId.Provider,{value:this.customContentRenderId},preact_module_y(CalendarContent,Object.assign({isHeightAuto:isHeightAuto,forPrint:forPrint},currentData)))}),this.el)})}else if(this.isRendered){this.isRendered=false;preact_module_D(null,this.el);this.setClassNames([]);this.setHeight("")}};ensureElHasStyles(el);this.el=el;this.renderRunner=new DelayedRunner(this.handleRenderRequest);new CalendarDataManager({optionOverrides,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let wasRendering=this.isRendering;if(wasRendering)this.customContentRenderId+=1;else this.isRendering=true;this.renderRunner.request();if(wasRendering)this.updateSize()}destroy(){if(this.isRendering){this.isRendering=false;this.renderRunner.request()}}updateSize(){flushSync(()=>{super.updateSize()})}batchRendering(func){this.renderRunner.pause("batchRendering");func();this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",true)}resetOptions(optionOverrides,changedOptionNames){this.currentDataManager.resetOptions(optionOverrides,changedOptionNames)}setClassNames(classNames){if(!isArraysEqual(classNames,this.currentClassNames)){let{classList}=this.el;for(let className of this.currentClassNames)classList.remove(className);for(let className of classNames)classList.add(className);this.currentClassNames=classNames}}setHeight(height){applyStyleProp(this.el,"height",height)}}const reactMajorVersion=parseInt(String(dev_hakit_component_test_node_modules_react_index_js_eager_.version).split(".")[0]);const syncRenderingByDefault=reactMajorVersion<18;class FullCalendar extends dev_hakit_component_test_node_modules_react_index_js_eager_.Component{constructor(){super(...arguments);this.elRef=(0,dev_hakit_component_test_node_modules_react_index_js_eager_.createRef)();this.isUpdating=false;this.isUnmounting=false;this.state={customRenderingMap:new Map};this.requestResize=()=>{if(!this.isUnmounting){this.cancelResize();this.resizeId=requestAnimationFrame(()=>{this.doResize()})}}}render(){const customRenderingNodes=[];for(const customRendering of this.state.customRenderingMap.values())customRenderingNodes.push(dev_hakit_component_test_node_modules_react_index_js_eager_.createElement(CustomRenderingComponent,{key:customRendering.id,customRendering:customRendering}));return dev_hakit_component_test_node_modules_react_index_js_eager_.createElement("div",{ref:this.elRef},customRenderingNodes)}componentDidMount(){this.isUnmounting=false;const customRenderingStore=new CustomRenderingStore;this.handleCustomRendering=customRenderingStore.handle.bind(customRenderingStore);this.calendar=new Calendar(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering}));this.calendar.render();this.calendar.on("_beforeprint",()=>{(0,node_modules_react_dom_index_js_eager_.flushSync)(()=>{})});let lastRequestTimestamp;customRenderingStore.subscribe(customRenderingMap=>{const requestTimestamp=Date.now();const isMounting=!lastRequestTimestamp;const runFunc=syncRenderingByDefault||isMounting||this.isUpdating||this.isUnmounting||requestTimestamp-lastRequestTimestamp<100?runNow:node_modules_react_dom_index_js_eager_.flushSync;runFunc(()=>{this.setState({customRenderingMap},()=>{lastRequestTimestamp=requestTimestamp;if(isMounting)this.doResize();else this.requestResize()})})})}componentDidUpdate(){this.isUpdating=true;this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering}));this.isUpdating=false}componentWillUnmount(){this.isUnmounting=true;this.cancelResize();this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){if(void 0!==this.resizeId){cancelAnimationFrame(this.resizeId);this.resizeId=void 0}}getApi(){return this.calendar}}FullCalendar.act=runNow;class CustomRenderingComponent extends dev_hakit_component_test_node_modules_react_index_js_eager_.PureComponent{render(){const{customRendering}=this.props;const{generatorMeta}=customRendering;const vnode="function"==typeof generatorMeta?generatorMeta(customRendering.renderProps):generatorMeta;return(0,node_modules_react_dom_index_js_eager_.createPortal)(vnode,customRendering.containerEl)}}function runNow(f){f()}class TableView extends DateComponent{constructor(){super(...arguments);this.headerElRef=preact_module_d()}renderSimpleLayout(headerRowContent,bodyContent){let{props,context}=this;let sections=[];let stickyHeaderDates=getStickyHeaderDates(context.options);if(headerRowContent)sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}});sections.push({type:"body",key:"body",liquid:true,chunk:{content:bodyContent}});return preact_module_y(ViewContainer,{elClasses:["fc-daygrid"],viewSpec:context.viewSpec},preact_module_y(SimpleScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,collapsibleWidth:props.forPrint,cols:[],sections:sections}))}renderHScrollLayout(headerRowContent,bodyContent,colCnt,dayMinWidth){let ScrollGrid=this.context.pluginHooks.scrollGridImpl;if(!ScrollGrid)throw new Error("No ScrollGrid implementation");let{props,context}=this;let stickyHeaderDates=!props.forPrint&&getStickyHeaderDates(context.options);let stickyFooterScrollbar=!props.forPrint&&getStickyFooterScrollbar(context.options);let sections=[];if(headerRowContent)sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}]});sections.push({type:"body",key:"body",liquid:true,chunks:[{key:"main",content:bodyContent}]});if(stickyFooterScrollbar)sections.push({type:"footer",key:"footer",isSticky:true,chunks:[{key:"main",content:renderScrollShim}]});return preact_module_y(ViewContainer,{elClasses:["fc-daygrid"],viewSpec:context.viewSpec},preact_module_y(ScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,forPrint:props.forPrint,collapsibleWidth:props.forPrint,colGroups:[{cols:[{span:colCnt,minWidth:dayMinWidth}]}],sections:sections}))}}function splitSegsByRow(segs,rowCnt){let byRow=[];for(let i=0;i<rowCnt;i+=1)byRow[i]=[];for(let seg of segs)byRow[seg.row].push(seg);return byRow}function splitSegsByFirstCol(segs,colCnt){let byCol=[];for(let i=0;i<colCnt;i+=1)byCol[i]=[];for(let seg of segs)byCol[seg.firstCol].push(seg);return byCol}function splitInteractionByRow(ui,rowCnt){let byRow=[];if(ui){for(let i=0;i<rowCnt;i+=1)byRow[i]={affectedInstances:ui.affectedInstances,isEvent:ui.isEvent,segs:[]};for(let seg of ui.segs)byRow[seg.row].segs.push(seg)}else for(let i=0;i<rowCnt;i+=1)byRow[i]=null;return byRow}const DEFAULT_TABLE_EVENT_TIME_FORMAT=internal_common_createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:true,meridiem:"narrow"});function hasListItemDisplay(seg){let{display}=seg.eventRange.ui;return"list-item"===display||"auto"===display&&!seg.eventRange.def.allDay&&seg.firstCol===seg.lastCol&&seg.isStart&&seg.isEnd}class TableBlockEvent extends BaseComponent{render(){let{props}=this;return preact_module_y(StandardEvent,Object.assign({},props,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:DEFAULT_TABLE_EVENT_TIME_FORMAT,defaultDisplayEventEnd:props.defaultDisplayEventEnd,disableResizing:!props.seg.eventRange.def.allDay}))}}class TableListItemEvent extends BaseComponent{render(){let{props,context}=this;let{options}=context;let{seg}=props;let timeFormat=options.eventTimeFormat||DEFAULT_TABLE_EVENT_TIME_FORMAT;let timeText=buildSegTimeText(seg,timeFormat,context,true,props.defaultDisplayEventEnd);return preact_module_y(EventContainer,Object.assign({},props,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:getSegAnchorAttrs(props.seg,context),defaultGenerator:internal_renderInnerContent,timeText:timeText,isResizing:false,isDateSelecting:false}))}}function internal_renderInnerContent(renderProps){return preact_module_y(preact_module_,null,preact_module_y("div",{className:"fc-daygrid-event-dot",style:{borderColor:renderProps.borderColor||renderProps.backgroundColor}}),renderProps.timeText&&preact_module_y("div",{className:"fc-event-time"},renderProps.timeText),preact_module_y("div",{className:"fc-event-title"},renderProps.event.title||preact_module_y(preact_module_,null,"\xa0")))}class TableCellMoreLink extends BaseComponent{constructor(){super(...arguments);this.compileSegs=memoize(compileSegs)}render(){let{props}=this;let{allSegs,invisibleSegs}=this.compileSegs(props.singlePlacements);return preact_module_y(MoreLinkContainer,{elClasses:["fc-daygrid-more-link"],dateProfile:props.dateProfile,todayRange:props.todayRange,allDayDate:props.allDayDate,moreCnt:props.moreCnt,allSegs:allSegs,hiddenSegs:invisibleSegs,alignmentElRef:props.alignmentElRef,alignGridTop:props.alignGridTop,extraDateSpan:props.extraDateSpan,popoverContent:()=>{let isForcedInvisible=(props.eventDrag?props.eventDrag.affectedInstances:null)||(props.eventResize?props.eventResize.affectedInstances:null)||{};return preact_module_y(preact_module_,null,allSegs.map(seg=>{let instanceId=seg.eventRange.instance.instanceId;return preact_module_y("div",{className:"fc-daygrid-event-harness",key:instanceId,style:{visibility:isForcedInvisible[instanceId]?"hidden":""}},hasListItemDisplay(seg)?preact_module_y(TableListItemEvent,Object.assign({seg:seg,isDragging:false,isSelected:instanceId===props.eventSelection,defaultDisplayEventEnd:false},getSegMeta(seg,props.todayRange))):preact_module_y(TableBlockEvent,Object.assign({seg:seg,isDragging:false,isResizing:false,isDateSelecting:false,isSelected:instanceId===props.eventSelection,defaultDisplayEventEnd:false},getSegMeta(seg,props.todayRange))))}))}})}}function compileSegs(singlePlacements){let allSegs=[];let invisibleSegs=[];for(let placement of singlePlacements){allSegs.push(placement.seg);if(!placement.isVisible)invisibleSegs.push(placement.seg)}return{allSegs,invisibleSegs}}const DEFAULT_WEEK_NUM_FORMAT=internal_common_createFormatter({week:"narrow"});class TableCell extends DateComponent{constructor(){super(...arguments);this.rootElRef=preact_module_d();this.state={dayNumberId:getUniqueDomId()};this.handleRootEl=el=>{setRef(this.rootElRef,el);setRef(this.props.elRef,el)}}render(){let{context,props,state,rootElRef}=this;let{options,dateEnv}=context;let{date,dateProfile}=props;const isMonthStart=props.showDayNumber&&shouldDisplayMonthStart(date,dateProfile.currentRange,dateEnv);return preact_module_y(DayCellContainer,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...props.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},props.extraDataAttrs),props.showDayNumber?{"aria-labelledby":state.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:renderTopInner,date:date,dateProfile:dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,isMonthStart:isMonthStart,extraRenderProps:props.extraRenderProps},(InnerContent,renderProps)=>preact_module_y("div",{ref:props.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:props.minHeight}},props.showWeekNumber&&preact_module_y(WeekNumberContainer,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:buildNavLinkAttrs(context,date,"week"),date:date,defaultFormat:DEFAULT_WEEK_NUM_FORMAT}),!renderProps.isDisabled&&(props.showDayNumber||hasCustomDayCellContent(options)||props.forceDayTop)?preact_module_y("div",{className:"fc-daygrid-day-top"},preact_module_y(InnerContent,{elTag:"a",elClasses:["fc-daygrid-day-number",isMonthStart&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},buildNavLinkAttrs(context,date)),{id:state.dayNumberId})})):props.showDayNumber?preact_module_y("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},preact_module_y("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,preact_module_y("div",{className:"fc-daygrid-day-events",ref:props.fgContentElRef},props.fgContent,preact_module_y("div",{className:"fc-daygrid-day-bottom",style:{marginTop:props.moreMarginTop}},preact_module_y(TableCellMoreLink,{allDayDate:date,singlePlacements:props.singlePlacements,moreCnt:props.moreCnt,alignmentElRef:rootElRef,alignGridTop:!props.showDayNumber,extraDateSpan:props.extraDateSpan,dateProfile:props.dateProfile,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,todayRange:props.todayRange}))),preact_module_y("div",{className:"fc-daygrid-day-bg"},props.bgContent)))}}function renderTopInner(props){return props.dayNumberText||preact_module_y(preact_module_,null,"\xa0")}function shouldDisplayMonthStart(date,currentRange,dateEnv){const{start:currentStart,end:currentEnd}=currentRange;const currentEndIncl=addMs(currentEnd,-1);const currentFirstYear=dateEnv.getYear(currentStart);const currentFirstMonth=dateEnv.getMonth(currentStart);const currentLastYear=dateEnv.getYear(currentEndIncl);const currentLastMonth=dateEnv.getMonth(currentEndIncl);return!(currentFirstYear===currentLastYear&&currentFirstMonth===currentLastMonth)&&Boolean(date.valueOf()===currentStart.valueOf()||1===dateEnv.getDay(date)&&date.valueOf()<currentEnd.valueOf())}function generateSegKey(seg){return seg.eventRange.instance.instanceId+":"+seg.firstCol}function generateSegUid(seg){return generateSegKey(seg)+":"+seg.lastCol}function computeFgSegPlacement(segs,dayMaxEvents,dayMaxEventRows,strictOrder,segHeights,maxContentHeight,cells){let hierarchy=new DayGridSegHierarchy(segEntry=>{let segUid=segs[segEntry.index].eventRange.instance.instanceId+":"+segEntry.span.start+":"+(segEntry.span.end-1);return segHeights[segUid]||1});hierarchy.allowReslicing=true;hierarchy.strictOrder=strictOrder;if(true===dayMaxEvents||true===dayMaxEventRows){hierarchy.maxCoord=maxContentHeight;hierarchy.hiddenConsumes=true}else if("number"==typeof dayMaxEvents)hierarchy.maxStackCnt=dayMaxEvents;else if("number"==typeof dayMaxEventRows){hierarchy.maxStackCnt=dayMaxEventRows;hierarchy.hiddenConsumes=true}let segInputs=[];let unknownHeightSegs=[];for(let i=0;i<segs.length;i+=1){let seg=segs[i];let segUid=generateSegUid(seg);let eventHeight=segHeights[segUid];if(null!=eventHeight)segInputs.push({index:i,span:{start:seg.firstCol,end:seg.lastCol+1}});else unknownHeightSegs.push(seg)}let hiddenEntries=hierarchy.addSegs(segInputs);let segRects=hierarchy.toRects();let{singleColPlacements,multiColPlacements,leftoverMargins}=placeRects(segRects,segs,cells);let moreCnts=[];let moreMarginTops=[];for(let seg of unknownHeightSegs){multiColPlacements[seg.firstCol].push({seg,isVisible:false,isAbsolute:true,absoluteTop:0,marginTop:0});for(let col=seg.firstCol;col<=seg.lastCol;col+=1)singleColPlacements[col].push({seg:resliceSeg(seg,col,col+1,cells),isVisible:false,isAbsolute:false,absoluteTop:0,marginTop:0})}for(let col=0;col<cells.length;col+=1)moreCnts.push(0);for(let hiddenEntry of hiddenEntries){let seg=segs[hiddenEntry.index];let hiddenSpan=hiddenEntry.span;multiColPlacements[hiddenSpan.start].push({seg:resliceSeg(seg,hiddenSpan.start,hiddenSpan.end,cells),isVisible:false,isAbsolute:true,absoluteTop:0,marginTop:0});for(let col=hiddenSpan.start;col<hiddenSpan.end;col+=1){moreCnts[col]+=1;singleColPlacements[col].push({seg:resliceSeg(seg,col,col+1,cells),isVisible:false,isAbsolute:false,absoluteTop:0,marginTop:0})}}for(let col=0;col<cells.length;col+=1)moreMarginTops.push(leftoverMargins[col]);return{singleColPlacements,multiColPlacements,moreCnts,moreMarginTops}}function placeRects(allRects,segs,cells){let rectsByEachCol=groupRectsByEachCol(allRects,cells.length);let singleColPlacements=[];let multiColPlacements=[];let leftoverMargins=[];for(let col=0;col<cells.length;col+=1){let rects=rectsByEachCol[col];let singlePlacements=[];let currentHeight=0;let currentMarginTop=0;for(let rect of rects){let seg=segs[rect.index];singlePlacements.push({seg:resliceSeg(seg,col,col+1,cells),isVisible:true,isAbsolute:false,absoluteTop:rect.levelCoord,marginTop:rect.levelCoord-currentHeight});currentHeight=rect.levelCoord+rect.thickness}let multiPlacements=[];currentHeight=0;currentMarginTop=0;for(let rect of rects){let seg=segs[rect.index];let isAbsolute=rect.span.end-rect.span.start>1;let isFirstCol=rect.span.start===col;currentMarginTop+=rect.levelCoord-currentHeight;currentHeight=rect.levelCoord+rect.thickness;if(isAbsolute){currentMarginTop+=rect.thickness;if(isFirstCol)multiPlacements.push({seg:resliceSeg(seg,rect.span.start,rect.span.end,cells),isVisible:true,isAbsolute:true,absoluteTop:rect.levelCoord,marginTop:0})}else if(isFirstCol){multiPlacements.push({seg:resliceSeg(seg,rect.span.start,rect.span.end,cells),isVisible:true,isAbsolute:false,absoluteTop:rect.levelCoord,marginTop:currentMarginTop});currentMarginTop=0}}singleColPlacements.push(singlePlacements);multiColPlacements.push(multiPlacements);leftoverMargins.push(currentMarginTop)}return{singleColPlacements,multiColPlacements,leftoverMargins}}function groupRectsByEachCol(rects,colCnt){let rectsByEachCol=[];for(let col=0;col<colCnt;col+=1)rectsByEachCol.push([]);for(let rect of rects)for(let col=rect.span.start;col<rect.span.end;col+=1)rectsByEachCol[col].push(rect);return rectsByEachCol}function resliceSeg(seg,spanStart,spanEnd,cells){if(seg.firstCol===spanStart&&seg.lastCol===spanEnd-1)return seg;let eventRange=seg.eventRange;let origRange=eventRange.range;let slicedRange=intersectRanges(origRange,{start:cells[spanStart].date,end:addDays(cells[spanEnd-1].date,1)});return Object.assign(Object.assign({},seg),{firstCol:spanStart,lastCol:spanEnd-1,eventRange:{def:eventRange.def,ui:Object.assign(Object.assign({},eventRange.ui),{durationEditable:false}),instance:eventRange.instance,range:slicedRange},isStart:seg.isStart&&slicedRange.start.valueOf()===origRange.start.valueOf(),isEnd:seg.isEnd&&slicedRange.end.valueOf()===origRange.end.valueOf()})}class DayGridSegHierarchy extends SegHierarchy{constructor(){super(...arguments);this.hiddenConsumes=false;this.forceHidden={}}addSegs(segInputs){const hiddenSegs=super.addSegs(segInputs);const{entriesByLevel}=this;const excludeHidden=entry=>!this.forceHidden[buildEntryKey(entry)];for(let level=0;level<entriesByLevel.length;level+=1)entriesByLevel[level]=entriesByLevel[level].filter(excludeHidden);return hiddenSegs}handleInvalidInsertion(insertion,entry,hiddenEntries){const{entriesByLevel,forceHidden}=this;const{touchingEntry,touchingLevel,touchingLateral}=insertion;if(this.hiddenConsumes&&touchingEntry){const touchingEntryId=buildEntryKey(touchingEntry);if(!forceHidden[touchingEntryId]){if(this.allowReslicing){const hiddenEntry=Object.assign(Object.assign({},touchingEntry),{span:intersectSpans(touchingEntry.span,entry.span)});const hiddenEntryId=buildEntryKey(hiddenEntry);forceHidden[hiddenEntryId]=true;entriesByLevel[touchingLevel][touchingLateral]=hiddenEntry;hiddenEntries.push(hiddenEntry);this.splitEntry(touchingEntry,entry,hiddenEntries)}else{forceHidden[touchingEntryId]=true;hiddenEntries.push(touchingEntry)}}}super.handleInvalidInsertion(insertion,entry,hiddenEntries)}}class TableRow extends DateComponent{constructor(){super(...arguments);this.cellElRefs=new RefMap;this.frameElRefs=new RefMap;this.fgElRefs=new RefMap;this.segHarnessRefs=new RefMap;this.rootElRef=preact_module_d();this.state={framePositions:null,maxContentHeight:null,segHeights:{}};this.handleResize=isForced=>{if(isForced)this.updateSizing(true)}}render(){let{props,state,context}=this;let{options}=context;let colCnt=props.cells.length;let businessHoursByCol=splitSegsByFirstCol(props.businessHourSegs,colCnt);let bgEventSegsByCol=splitSegsByFirstCol(props.bgEventSegs,colCnt);let highlightSegsByCol=splitSegsByFirstCol(this.getHighlightSegs(),colCnt);let mirrorSegsByCol=splitSegsByFirstCol(this.getMirrorSegs(),colCnt);let{singleColPlacements,multiColPlacements,moreCnts,moreMarginTops}=computeFgSegPlacement(sortEventSegs(props.fgEventSegs,options.eventOrder),props.dayMaxEvents,props.dayMaxEventRows,options.eventOrderStrict,state.segHeights,state.maxContentHeight,props.cells);let isForcedInvisible=props.eventDrag&&props.eventDrag.affectedInstances||props.eventResize&&props.eventResize.affectedInstances||{};return preact_module_y("tr",{ref:this.rootElRef,role:"row"},props.renderIntro&&props.renderIntro(),props.cells.map((cell,col)=>{let normalFgNodes=this.renderFgSegs(col,props.forPrint?singleColPlacements[col]:multiColPlacements[col],props.todayRange,isForcedInvisible);let mirrorFgNodes=this.renderFgSegs(col,buildMirrorPlacements(mirrorSegsByCol[col],multiColPlacements),props.todayRange,{},Boolean(props.eventDrag),Boolean(props.eventResize),false);return preact_module_y(TableCell,{key:cell.key,elRef:this.cellElRefs.createRef(cell.key),innerElRef:this.frameElRefs.createRef(cell.key),dateProfile:props.dateProfile,date:cell.date,showDayNumber:props.showDayNumbers,showWeekNumber:props.showWeekNumbers&&0===col,forceDayTop:props.showWeekNumbers,todayRange:props.todayRange,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,extraRenderProps:cell.extraRenderProps,extraDataAttrs:cell.extraDataAttrs,extraClassNames:cell.extraClassNames,extraDateSpan:cell.extraDateSpan,moreCnt:moreCnts[col],moreMarginTop:moreMarginTops[col],singlePlacements:singleColPlacements[col],fgContentElRef:this.fgElRefs.createRef(cell.key),fgContent:preact_module_y(preact_module_,null,preact_module_y(preact_module_,null,normalFgNodes),preact_module_y(preact_module_,null,mirrorFgNodes)),bgContent:preact_module_y(preact_module_,null,this.renderFillSegs(highlightSegsByCol[col],"highlight"),this.renderFillSegs(businessHoursByCol[col],"non-business"),this.renderFillSegs(bgEventSegsByCol[col],"bg-event")),minHeight:props.cellMinHeight})}))}componentDidMount(){this.updateSizing(true);this.context.addResizeHandler(this.handleResize)}componentDidUpdate(prevProps,prevState){let currentProps=this.props;this.updateSizing(!isPropsEqual(prevProps,currentProps))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props}=this;if(props.eventDrag&&props.eventDrag.segs.length)return props.eventDrag.segs;if(props.eventResize&&props.eventResize.segs.length)return props.eventResize.segs;return props.dateSelectionSegs}getMirrorSegs(){let{props}=this;if(props.eventResize&&props.eventResize.segs.length)return props.eventResize.segs;return[]}renderFgSegs(col,segPlacements,todayRange,isForcedInvisible,isDragging,isResizing,isDateSelecting){let{context}=this;let{eventSelection}=this.props;let{framePositions}=this.state;let defaultDisplayEventEnd=1===this.props.cells.length;let isMirror=isDragging||isResizing||isDateSelecting;let nodes=[];if(framePositions)for(let placement of segPlacements){let{seg}=placement;let{instanceId}=seg.eventRange.instance;let isVisible=placement.isVisible&&!isForcedInvisible[instanceId];let isAbsolute=placement.isAbsolute;let left="";let right="";if(isAbsolute){if(context.isRtl){right=0;left=framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]}else{left=0;right=framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol]}}nodes.push(preact_module_y("div",{className:"fc-daygrid-event-harness"+(isAbsolute?" fc-daygrid-event-harness-abs":""),key:generateSegKey(seg),ref:isMirror?null:this.segHarnessRefs.createRef(generateSegUid(seg)),style:{visibility:isVisible?"":"hidden",marginTop:isAbsolute?"":placement.marginTop,top:isAbsolute?placement.absoluteTop:"",left,right}},hasListItemDisplay(seg)?preact_module_y(TableListItemEvent,Object.assign({seg:seg,isDragging:isDragging,isSelected:instanceId===eventSelection,defaultDisplayEventEnd:defaultDisplayEventEnd},getSegMeta(seg,todayRange))):preact_module_y(TableBlockEvent,Object.assign({seg:seg,isDragging:isDragging,isResizing:isResizing,isDateSelecting:isDateSelecting,isSelected:instanceId===eventSelection,defaultDisplayEventEnd:defaultDisplayEventEnd},getSegMeta(seg,todayRange)))))}return nodes}renderFillSegs(segs,fillType){let{isRtl}=this.context;let{todayRange}=this.props;let{framePositions}=this.state;let nodes=[];if(framePositions)for(let seg of segs){let leftRightCss=isRtl?{right:0,left:framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]}:{left:0,right:framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol]};nodes.push(preact_module_y("div",{key:buildEventRangeKey(seg.eventRange),className:"fc-daygrid-bg-harness",style:leftRightCss},"bg-event"===fillType?preact_module_y(BgEvent,Object.assign({seg:seg},getSegMeta(seg,todayRange))):renderFill(fillType)))}return preact_module_y(preact_module_,{},...nodes)}updateSizing(isExternalSizingChange){let{props,state,frameElRefs}=this;if(!props.forPrint&&null!==props.clientWidth){if(isExternalSizingChange){let frameEls=props.cells.map(cell=>frameElRefs.currentMap[cell.key]);if(frameEls.length){let originEl=this.rootElRef.current;let newPositionCache=new PositionCache(originEl,frameEls,true,false);if(!state.framePositions||!state.framePositions.similarTo(newPositionCache))this.setState({framePositions:new PositionCache(originEl,frameEls,true,false)})}}const oldSegHeights=this.state.segHeights;const newSegHeights=this.querySegHeights();const limitByContentHeight=true===props.dayMaxEvents||true===props.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},oldSegHeights),newSegHeights),maxContentHeight:limitByContentHeight?this.computeMaxContentHeight():null})}}querySegHeights(){let segElMap=this.segHarnessRefs.currentMap;let segHeights={};for(let segUid in segElMap){let height=Math.round(segElMap[segUid].getBoundingClientRect().height);segHeights[segUid]=Math.max(segHeights[segUid]||0,height)}return segHeights}computeMaxContentHeight(){let firstKey=this.props.cells[0].key;let cellEl=this.cellElRefs.currentMap[firstKey];let fcContainerEl=this.fgElRefs.currentMap[firstKey];return cellEl.getBoundingClientRect().bottom-fcContainerEl.getBoundingClientRect().top}getCellEls(){let elMap=this.cellElRefs.currentMap;return this.props.cells.map(cell=>elMap[cell.key])}}TableRow.addStateEquality({segHeights:isPropsEqual});function buildMirrorPlacements(mirrorSegs,colPlacements){if(!mirrorSegs.length)return[];let topsByInstanceId=buildAbsoluteTopHash(colPlacements);return mirrorSegs.map(seg=>({seg,isVisible:true,isAbsolute:true,absoluteTop:topsByInstanceId[seg.eventRange.instance.instanceId],marginTop:0}))}function buildAbsoluteTopHash(colPlacements){let topsByInstanceId={};for(let placements of colPlacements)for(let placement of placements)topsByInstanceId[placement.seg.eventRange.instance.instanceId]=placement.absoluteTop;return topsByInstanceId}class TableRows extends DateComponent{constructor(){super(...arguments);this.splitBusinessHourSegs=memoize(splitSegsByRow);this.splitBgEventSegs=memoize(splitSegsByRow);this.splitFgEventSegs=memoize(splitSegsByRow);this.splitDateSelectionSegs=memoize(splitSegsByRow);this.splitEventDrag=memoize(splitInteractionByRow);this.splitEventResize=memoize(splitInteractionByRow);this.rowRefs=new RefMap}render(){let{props,context}=this;let rowCnt=props.cells.length;let businessHourSegsByRow=this.splitBusinessHourSegs(props.businessHourSegs,rowCnt);let bgEventSegsByRow=this.splitBgEventSegs(props.bgEventSegs,rowCnt);let fgEventSegsByRow=this.splitFgEventSegs(props.fgEventSegs,rowCnt);let dateSelectionSegsByRow=this.splitDateSelectionSegs(props.dateSelectionSegs,rowCnt);let eventDragByRow=this.splitEventDrag(props.eventDrag,rowCnt);let eventResizeByRow=this.splitEventResize(props.eventResize,rowCnt);let cellMinHeight=rowCnt>=7&&props.clientWidth?props.clientWidth/context.options.aspectRatio/6:null;return preact_module_y(NowTimer,{unit:"day"},(nowDate,todayRange)=>preact_module_y(preact_module_,null,props.cells.map((cells,row)=>preact_module_y(TableRow,{ref:this.rowRefs.createRef(row),key:cells.length?cells[0].date.toISOString():row,showDayNumbers:rowCnt>1,showWeekNumbers:props.showWeekNumbers,todayRange:todayRange,dateProfile:props.dateProfile,cells:cells,renderIntro:props.renderRowIntro,businessHourSegs:businessHourSegsByRow[row],eventSelection:props.eventSelection,bgEventSegs:bgEventSegsByRow[row].filter(isSegAllDay),fgEventSegs:fgEventSegsByRow[row],dateSelectionSegs:dateSelectionSegsByRow[row],eventDrag:eventDragByRow[row],eventResize:eventResizeByRow[row],dayMaxEvents:props.dayMaxEvents,dayMaxEventRows:props.dayMaxEventRows,clientWidth:props.clientWidth,clientHeight:props.clientHeight,cellMinHeight:cellMinHeight,forPrint:props.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const firstCellEl=this.rowRefs.currentMap[0].getCellEls()[0];const rootEl=firstCellEl?firstCellEl.closest(".fc-daygrid-body"):null;if(rootEl){this.rootEl=rootEl;this.context.registerInteractiveComponent(this,{el:rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}}}componentWillUnmount(){if(this.rootEl){this.context.unregisterInteractiveComponent(this);this.rootEl=null}}prepareHits(){this.rowPositions=new PositionCache(this.rootEl,this.rowRefs.collect().map(rowObj=>rowObj.getCellEls()[0]),false,true);this.colPositions=new PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),true,false)}queryHit(positionLeft,positionTop){let{colPositions,rowPositions}=this;let col=colPositions.leftToIndex(positionLeft);let row=rowPositions.topToIndex(positionTop);if(null!=row&&null!=col){let cell=this.props.cells[row][col];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(row,col),allDay:true},cell.extraDateSpan),dayEl:this.getCellEl(row,col),rect:{left:colPositions.lefts[col],right:colPositions.rights[col],top:rowPositions.tops[row],bottom:rowPositions.bottoms[row]},layer:0}}return null}getCellEl(row,col){return this.rowRefs.currentMap[row].getCellEls()[col]}getCellRange(row,col){let start=this.props.cells[row][col].date;let end=addDays(start,1);return{start,end}}}function isSegAllDay(seg){return seg.eventRange.def.allDay}class Table extends DateComponent{constructor(){super(...arguments);this.elRef=preact_module_d();this.needsScrollReset=false}render(){let{props}=this;let{dayMaxEventRows,dayMaxEvents,expandRows}=props;let limitViaBalanced=true===dayMaxEvents||true===dayMaxEventRows;if(limitViaBalanced&&!expandRows){limitViaBalanced=false;dayMaxEventRows=null;dayMaxEvents=null}let classNames=["fc-daygrid-body",limitViaBalanced?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",expandRows?"":"fc-daygrid-body-natural"];return preact_module_y("div",{ref:this.elRef,className:classNames.join(" "),style:{width:props.clientWidth,minWidth:props.tableMinWidth}},preact_module_y("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:props.clientWidth,minWidth:props.tableMinWidth,height:expandRows?props.clientHeight:""}},props.colGroupNode,preact_module_y("tbody",{role:"presentation"},preact_module_y(TableRows,{dateProfile:props.dateProfile,cells:props.cells,renderRowIntro:props.renderRowIntro,showWeekNumbers:props.showWeekNumbers,clientWidth:props.clientWidth,clientHeight:props.clientHeight,businessHourSegs:props.businessHourSegs,bgEventSegs:props.bgEventSegs,fgEventSegs:props.fgEventSegs,dateSelectionSegs:props.dateSelectionSegs,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,dayMaxEvents:dayMaxEvents,dayMaxEventRows:dayMaxEventRows,forPrint:props.forPrint,isHitComboAllowed:props.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(prevProps){if(prevProps.dateProfile!==this.props.dateProfile)this.requestScrollReset();else this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=true;this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const subjectEl=getScrollSubjectEl(this.elRef.current,this.props.dateProfile);if(subjectEl){const originEl=subjectEl.closest(".fc-daygrid-body");const scrollEl=originEl.closest(".fc-scroller");const scrollTop=subjectEl.getBoundingClientRect().top-originEl.getBoundingClientRect().top;scrollEl.scrollTop=scrollTop?scrollTop+1:0}this.needsScrollReset=false}}}function getScrollSubjectEl(containerEl,dateProfile){let el;if(dateProfile.currentRangeUnit.match(/year|month/))el=containerEl.querySelector(`[data-date="${formatIsoMonthStr(dateProfile.currentDate)}-01"]`);if(!el)el=containerEl.querySelector(`[data-date="${formatDayString(dateProfile.currentDate)}"]`);return el}class DayTableSlicer extends Slicer{constructor(){super(...arguments);this.forceDayIfListItem=true}sliceRange(dateRange,dayTableModel){return dayTableModel.sliceRange(dateRange)}}class DayTable extends DateComponent{constructor(){super(...arguments);this.slicer=new DayTableSlicer;this.tableRef=preact_module_d()}render(){let{props,context}=this;return preact_module_y(Table,Object.assign({ref:this.tableRef},this.slicer.sliceProps(props,props.dateProfile,props.nextDayThreshold,context,props.dayTableModel),{dateProfile:props.dateProfile,cells:props.dayTableModel.cells,colGroupNode:props.colGroupNode,tableMinWidth:props.tableMinWidth,renderRowIntro:props.renderRowIntro,dayMaxEvents:props.dayMaxEvents,dayMaxEventRows:props.dayMaxEventRows,showWeekNumbers:props.showWeekNumbers,expandRows:props.expandRows,headerAlignElRef:props.headerAlignElRef,clientWidth:props.clientWidth,clientHeight:props.clientHeight,forPrint:props.forPrint}))}}class DayTableView extends TableView{constructor(){super(...arguments);this.buildDayTableModel=memoize(buildDayTableModel);this.headerRef=preact_module_d();this.tableRef=preact_module_d()}render(){let{options,dateProfileGenerator}=this.context;let{props}=this;let dayTableModel=this.buildDayTableModel(props.dateProfile,dateProfileGenerator);let headerContent=options.dayHeaders&&preact_module_y(DayHeader,{ref:this.headerRef,dateProfile:props.dateProfile,dates:dayTableModel.headerDates,datesRepDistinctDays:1===dayTableModel.rowCnt});let bodyContent=contentArg=>preact_module_y(DayTable,{ref:this.tableRef,dateProfile:props.dateProfile,dayTableModel:dayTableModel,businessHours:props.businessHours,dateSelection:props.dateSelection,eventStore:props.eventStore,eventUiBases:props.eventUiBases,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,nextDayThreshold:options.nextDayThreshold,colGroupNode:contentArg.tableColGroupNode,tableMinWidth:contentArg.tableMinWidth,dayMaxEvents:options.dayMaxEvents,dayMaxEventRows:options.dayMaxEventRows,showWeekNumbers:options.weekNumbers,expandRows:!props.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,forPrint:props.forPrint});return options.dayMinWidth?this.renderHScrollLayout(headerContent,bodyContent,dayTableModel.colCnt,options.dayMinWidth):this.renderSimpleLayout(headerContent,bodyContent)}}function buildDayTableModel(dateProfile,dateProfileGenerator){let daySeries=new DaySeriesModel(dateProfile.renderRange,dateProfileGenerator);return new DayTableModel(daySeries,/year|month|week/.test(dateProfile.currentRangeUnit))}class TableDateProfileGenerator extends DateProfileGenerator{buildRenderRange(currentRange,currentRangeUnit,isRangeAllDay){let renderRange=super.buildRenderRange(currentRange,currentRangeUnit,isRangeAllDay);let{props}=this;return buildDayTableRenderRange({currentRange:renderRange,snapToWeek:/^(year|month)$/.test(currentRangeUnit),fixedWeekCount:props.fixedWeekCount,dateEnv:props.dateEnv})}}function buildDayTableRenderRange(props){let{dateEnv,currentRange}=props;let{start,end}=currentRange;let endOfWeek;if(props.snapToWeek){start=dateEnv.startOfWeek(start);endOfWeek=dateEnv.startOfWeek(end);if(endOfWeek.valueOf()!==end.valueOf())end=addWeeks(endOfWeek,1)}if(props.fixedWeekCount){let lastMonthRenderStart=dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end,-1)));let rowCnt=Math.ceil(diffWeeks(lastMonthRenderStart,end));end=addWeeks(end,6-rowCnt)}return{start,end}}var internal_css_248z=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';injectStyles(internal_css_248z);var daygrid_index=createPlugin({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:DayTableView,dateProfileGeneratorClass:TableDateProfileGenerator},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:true},dayGridYear:{type:"dayGrid",duration:{years:1}}}});internal_common_config.touchMouseIgnoreWait=500;let ignoreMouseDepth=0;let listenerCnt=0;let isWindowTouchMoveCancelled=false;class PointerDragging{constructor(containerEl){this.subjectEl=null;this.selector="";this.handleSelector="";this.shouldIgnoreMove=false;this.shouldWatchScroll=true;this.isDragging=false;this.isTouchDragging=false;this.wasTouchScroll=false;this.handleMouseDown=ev=>{if(!this.shouldIgnoreMouse()&&isPrimaryMouseButton(ev)&&this.tryStart(ev)){let pev=this.createEventFromMouse(ev,true);this.emitter.trigger("pointerdown",pev);this.initScrollWatch(pev);if(!this.shouldIgnoreMove)document.addEventListener("mousemove",this.handleMouseMove);document.addEventListener("mouseup",this.handleMouseUp)}};this.handleMouseMove=ev=>{let pev=this.createEventFromMouse(ev);this.recordCoords(pev);this.emitter.trigger("pointermove",pev)};this.handleMouseUp=ev=>{document.removeEventListener("mousemove",this.handleMouseMove);document.removeEventListener("mouseup",this.handleMouseUp);this.emitter.trigger("pointerup",this.createEventFromMouse(ev));this.cleanup()};this.handleTouchStart=ev=>{if(this.tryStart(ev)){this.isTouchDragging=true;let pev=this.createEventFromTouch(ev,true);this.emitter.trigger("pointerdown",pev);this.initScrollWatch(pev);let targetEl=ev.target;if(!this.shouldIgnoreMove)targetEl.addEventListener("touchmove",this.handleTouchMove);targetEl.addEventListener("touchend",this.handleTouchEnd);targetEl.addEventListener("touchcancel",this.handleTouchEnd);window.addEventListener("scroll",this.handleTouchScroll,true)}};this.handleTouchMove=ev=>{let pev=this.createEventFromTouch(ev);this.recordCoords(pev);this.emitter.trigger("pointermove",pev)};this.handleTouchEnd=ev=>{if(this.isDragging){let targetEl=ev.target;targetEl.removeEventListener("touchmove",this.handleTouchMove);targetEl.removeEventListener("touchend",this.handleTouchEnd);targetEl.removeEventListener("touchcancel",this.handleTouchEnd);window.removeEventListener("scroll",this.handleTouchScroll,true);this.emitter.trigger("pointerup",this.createEventFromTouch(ev));this.cleanup();this.isTouchDragging=false;startIgnoringMouse()}};this.handleTouchScroll=()=>{this.wasTouchScroll=true};this.handleScroll=ev=>{if(!this.shouldIgnoreMove){let pageX=window.scrollX-this.prevScrollX+this.prevPageX;let pageY=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:ev,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX,pageY,deltaX:pageX-this.origPageX,deltaY:pageY-this.origPageY})}};this.containerEl=containerEl;this.emitter=new Emitter;containerEl.addEventListener("mousedown",this.handleMouseDown);containerEl.addEventListener("touchstart",this.handleTouchStart,{passive:true});listenerCreated()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown);this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:true});listenerDestroyed()}tryStart(ev){let subjectEl=this.querySubjectEl(ev);let downEl=ev.target;if(subjectEl&&(!this.handleSelector||elementClosest(downEl,this.handleSelector))){this.subjectEl=subjectEl;this.isDragging=true;this.wasTouchScroll=false;return true}return false}cleanup(){isWindowTouchMoveCancelled=false;this.isDragging=false;this.subjectEl=null;this.destroyScrollWatch()}querySubjectEl(ev){if(this.selector)return elementClosest(ev.target,this.selector);return this.containerEl}shouldIgnoreMouse(){return ignoreMouseDepth||this.isTouchDragging}cancelTouchScroll(){if(this.isDragging)isWindowTouchMoveCancelled=true}initScrollWatch(ev){if(this.shouldWatchScroll){this.recordCoords(ev);window.addEventListener("scroll",this.handleScroll,true)}}recordCoords(ev){if(this.shouldWatchScroll){this.prevPageX=ev.pageX;this.prevPageY=ev.pageY;this.prevScrollX=window.scrollX;this.prevScrollY=window.scrollY}}destroyScrollWatch(){if(this.shouldWatchScroll)window.removeEventListener("scroll",this.handleScroll,true)}createEventFromMouse(ev,isFirst){let deltaX=0;let deltaY=0;if(isFirst){this.origPageX=ev.pageX;this.origPageY=ev.pageY}else{deltaX=ev.pageX-this.origPageX;deltaY=ev.pageY-this.origPageY}return{origEvent:ev,isTouch:false,subjectEl:this.subjectEl,pageX:ev.pageX,pageY:ev.pageY,deltaX,deltaY}}createEventFromTouch(ev,isFirst){let touches=ev.touches;let pageX;let pageY;let deltaX=0;let deltaY=0;if(touches&&touches.length){pageX=touches[0].pageX;pageY=touches[0].pageY}else{pageX=ev.pageX;pageY=ev.pageY}if(isFirst){this.origPageX=pageX;this.origPageY=pageY}else{deltaX=pageX-this.origPageX;deltaY=pageY-this.origPageY}return{origEvent:ev,isTouch:true,subjectEl:this.subjectEl,pageX,pageY,deltaX,deltaY}}}function isPrimaryMouseButton(ev){return 0===ev.button&&!ev.ctrlKey}function startIgnoringMouse(){ignoreMouseDepth+=1;setTimeout(()=>{ignoreMouseDepth-=1},internal_common_config.touchMouseIgnoreWait)}function listenerCreated(){listenerCnt+=1;if(1===listenerCnt)window.addEventListener("touchmove",onWindowTouchMove,{passive:false})}function listenerDestroyed(){listenerCnt-=1;if(!listenerCnt)window.removeEventListener("touchmove",onWindowTouchMove,{passive:false})}function onWindowTouchMove(ev){if(isWindowTouchMoveCancelled)ev.preventDefault()}class ElementMirror{constructor(){this.isVisible=false;this.sourceEl=null;this.mirrorEl=null;this.sourceElRect=null;this.parentNode=document.body;this.zIndex=9999;this.revertDuration=0}start(sourceEl,pageX,pageY){this.sourceEl=sourceEl;this.sourceElRect=this.sourceEl.getBoundingClientRect();this.origScreenX=pageX-window.scrollX;this.origScreenY=pageY-window.scrollY;this.deltaX=0;this.deltaY=0;this.updateElPosition()}handleMove(pageX,pageY){this.deltaX=pageX-window.scrollX-this.origScreenX;this.deltaY=pageY-window.scrollY-this.origScreenY;this.updateElPosition()}setIsVisible(bool){if(bool){if(!this.isVisible){if(this.mirrorEl)this.mirrorEl.style.display="";this.isVisible=bool;this.updateElPosition()}}else if(this.isVisible){if(this.mirrorEl)this.mirrorEl.style.display="none";this.isVisible=bool}}stop(needsRevertAnimation,callback){let done=()=>{this.cleanup();callback()};if(needsRevertAnimation&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY))this.doRevertAnimation(done,this.revertDuration);else setTimeout(done,0)}doRevertAnimation(callback,revertDuration){let mirrorEl=this.mirrorEl;let finalSourceElRect=this.sourceEl.getBoundingClientRect();mirrorEl.style.transition="top "+revertDuration+"ms,left "+revertDuration+"ms";applyStyle(mirrorEl,{left:finalSourceElRect.left,top:finalSourceElRect.top});whenTransitionDone(mirrorEl,()=>{mirrorEl.style.transition="";callback()})}cleanup(){if(this.mirrorEl){removeElement(this.mirrorEl);this.mirrorEl=null}this.sourceEl=null}updateElPosition(){if(this.sourceEl&&this.isVisible)applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let sourceElRect=this.sourceElRect;let mirrorEl=this.mirrorEl;if(!mirrorEl){mirrorEl=this.mirrorEl=this.sourceEl.cloneNode(true);mirrorEl.style.userSelect="none";mirrorEl.style.webkitUserSelect="none";mirrorEl.style.pointerEvents="none";mirrorEl.classList.add("fc-event-dragging");applyStyle(mirrorEl,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:sourceElRect.right-sourceElRect.left,height:sourceElRect.bottom-sourceElRect.top,right:"auto",bottom:"auto",margin:0});this.parentNode.appendChild(mirrorEl)}return mirrorEl}}class ScrollGeomCache extends ScrollController{constructor(scrollController,doesListening){super();this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop();this.scrollLeft=this.scrollController.getScrollLeft();this.handleScrollChange()};this.scrollController=scrollController;this.doesListening=doesListening;this.scrollTop=this.origScrollTop=scrollController.getScrollTop();this.scrollLeft=this.origScrollLeft=scrollController.getScrollLeft();this.scrollWidth=scrollController.getScrollWidth();this.scrollHeight=scrollController.getScrollHeight();this.clientWidth=scrollController.getClientWidth();this.clientHeight=scrollController.getClientHeight();this.clientRect=this.computeClientRect();if(this.doesListening)this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){if(this.doesListening)this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(top){this.scrollController.setScrollTop(top);if(!this.doesListening){this.scrollTop=Math.max(Math.min(top,this.getMaxScrollTop()),0);this.handleScrollChange()}}setScrollLeft(top){this.scrollController.setScrollLeft(top);if(!this.doesListening){this.scrollLeft=Math.max(Math.min(top,this.getMaxScrollLeft()),0);this.handleScrollChange()}}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ElementScrollGeomCache extends ScrollGeomCache{constructor(el,doesListening){super(new ElementScrollController(el),doesListening)}getEventTarget(){return this.scrollController.el}computeClientRect(){return computeInnerRect(this.scrollController.el)}}class WindowScrollGeomCache extends ScrollGeomCache{constructor(doesListening){super(new WindowScrollController,doesListening)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const getTime="function"==typeof performance?performance.now:Date.now;class AutoScroller{constructor(){this.isEnabled=true;this.scrollQuery=[window,".fc-scroller"];this.edgeThreshold=50;this.maxVelocity=300;this.pointerScreenX=null;this.pointerScreenY=null;this.isAnimating=false;this.scrollCaches=null;this.everMovedUp=false;this.everMovedDown=false;this.everMovedLeft=false;this.everMovedRight=false;this.animate=()=>{if(this.isAnimating){let edge=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(edge){let now=getTime();this.handleSide(edge,(now-this.msSinceRequest)/1e3);this.requestAnimation(now)}else this.isAnimating=false}}}start(pageX,pageY,scrollStartEl){if(this.isEnabled){this.scrollCaches=this.buildCaches(scrollStartEl);this.pointerScreenX=null;this.pointerScreenY=null;this.everMovedUp=false;this.everMovedDown=false;this.everMovedLeft=false;this.everMovedRight=false;this.handleMove(pageX,pageY)}}handleMove(pageX,pageY){if(this.isEnabled){let pointerScreenX=pageX-window.scrollX;let pointerScreenY=pageY-window.scrollY;let yDelta=null===this.pointerScreenY?0:pointerScreenY-this.pointerScreenY;let xDelta=null===this.pointerScreenX?0:pointerScreenX-this.pointerScreenX;if(yDelta<0)this.everMovedUp=true;else if(yDelta>0)this.everMovedDown=true;if(xDelta<0)this.everMovedLeft=true;else if(xDelta>0)this.everMovedRight=true;this.pointerScreenX=pointerScreenX;this.pointerScreenY=pointerScreenY;if(!this.isAnimating){this.isAnimating=true;this.requestAnimation(getTime())}}}stop(){if(this.isEnabled){this.isAnimating=false;for(let scrollCache of this.scrollCaches)scrollCache.destroy();this.scrollCaches=null}}requestAnimation(now){this.msSinceRequest=now;requestAnimationFrame(this.animate)}handleSide(edge,seconds){let{scrollCache}=edge;let{edgeThreshold}=this;let invDistance=edgeThreshold-edge.distance;let velocity=invDistance*invDistance/(edgeThreshold*edgeThreshold)*this.maxVelocity*seconds;let sign=1;switch(edge.name){case"left":sign=-1;case"right":scrollCache.setScrollLeft(scrollCache.getScrollLeft()+velocity*sign);break;case"top":sign=-1;case"bottom":scrollCache.setScrollTop(scrollCache.getScrollTop()+velocity*sign);break}}computeBestEdge(left,top){let{edgeThreshold}=this;let bestSide=null;let scrollCaches=this.scrollCaches||[];for(let scrollCache of scrollCaches){let rect=scrollCache.clientRect;let leftDist=left-rect.left;let rightDist=rect.right-left;let topDist=top-rect.top;let bottomDist=rect.bottom-top;if(leftDist>=0&&rightDist>=0&&topDist>=0&&bottomDist>=0){if(topDist<=edgeThreshold&&this.everMovedUp&&scrollCache.canScrollUp()&&(!bestSide||bestSide.distance>topDist))bestSide={scrollCache,name:"top",distance:topDist};if(bottomDist<=edgeThreshold&&this.everMovedDown&&scrollCache.canScrollDown()&&(!bestSide||bestSide.distance>bottomDist))bestSide={scrollCache,name:"bottom",distance:bottomDist};if(leftDist<=edgeThreshold&&this.everMovedLeft&&scrollCache.canScrollLeft()&&(!bestSide||bestSide.distance>leftDist))bestSide={scrollCache,name:"left",distance:leftDist};if(rightDist<=edgeThreshold&&this.everMovedRight&&scrollCache.canScrollRight()&&(!bestSide||bestSide.distance>rightDist))bestSide={scrollCache,name:"right",distance:rightDist}}}return bestSide}buildCaches(scrollStartEl){return this.queryScrollEls(scrollStartEl).map(el=>{if(el===window)return new WindowScrollGeomCache(false);return new ElementScrollGeomCache(el,false)})}queryScrollEls(scrollStartEl){let els=[];for(let query of this.scrollQuery)if("object"==typeof query)els.push(query);else els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));return els}}class FeaturefulElementDragging extends ElementDragging{constructor(containerEl,selector){super(containerEl);this.containerEl=containerEl;this.delay=null;this.minDistance=0;this.touchScrollAllowed=true;this.mirrorNeedsRevert=false;this.isInteracting=false;this.isDragging=false;this.isDelayEnded=false;this.isDistanceSurpassed=false;this.delayTimeoutId=null;this.onPointerDown=ev=>{if(!this.isDragging){this.isInteracting=true;this.isDelayEnded=false;this.isDistanceSurpassed=false;preventSelection(document.body);preventContextMenu(document.body);if(!ev.isTouch)ev.origEvent.preventDefault();this.emitter.trigger("pointerdown",ev);if(this.isInteracting&&!this.pointer.shouldIgnoreMove){this.mirror.setIsVisible(false);this.mirror.start(ev.subjectEl,ev.pageX,ev.pageY);this.startDelay(ev);if(!this.minDistance)this.handleDistanceSurpassed(ev)}}};this.onPointerMove=ev=>{if(this.isInteracting){this.emitter.trigger("pointermove",ev);if(!this.isDistanceSurpassed){let minDistance=this.minDistance;let distanceSq;let{deltaX,deltaY}=ev;distanceSq=deltaX*deltaX+deltaY*deltaY;if(distanceSq>=minDistance*minDistance)this.handleDistanceSurpassed(ev)}if(this.isDragging){if("scroll"!==ev.origEvent.type){this.mirror.handleMove(ev.pageX,ev.pageY);this.autoScroller.handleMove(ev.pageX,ev.pageY)}this.emitter.trigger("dragmove",ev)}}};this.onPointerUp=ev=>{if(this.isInteracting){this.isInteracting=false;allowSelection(document.body);allowContextMenu(document.body);this.emitter.trigger("pointerup",ev);if(this.isDragging){this.autoScroller.stop();this.tryStopDrag(ev)}if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}}};let pointer=this.pointer=new PointerDragging(containerEl);pointer.emitter.on("pointerdown",this.onPointerDown);pointer.emitter.on("pointermove",this.onPointerMove);pointer.emitter.on("pointerup",this.onPointerUp);if(selector)pointer.selector=selector;this.mirror=new ElementMirror;this.autoScroller=new AutoScroller}destroy(){this.pointer.destroy();this.onPointerUp({})}startDelay(ev){if("number"==typeof this.delay)this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null;this.handleDelayEnd(ev)},this.delay);else this.handleDelayEnd(ev)}handleDelayEnd(ev){this.isDelayEnded=true;this.tryStartDrag(ev)}handleDistanceSurpassed(ev){this.isDistanceSurpassed=true;this.tryStartDrag(ev)}tryStartDrag(ev){if(this.isDelayEnded&&this.isDistanceSurpassed){if(!this.pointer.wasTouchScroll||this.touchScrollAllowed){this.isDragging=true;this.mirrorNeedsRevert=false;this.autoScroller.start(ev.pageX,ev.pageY,this.containerEl);this.emitter.trigger("dragstart",ev);if(false===this.touchScrollAllowed)this.pointer.cancelTouchScroll()}}}tryStopDrag(ev){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,ev))}stopDrag(ev){this.isDragging=false;this.emitter.trigger("dragend",ev)}setIgnoreMove(bool){this.pointer.shouldIgnoreMove=bool}setMirrorIsVisible(bool){this.mirror.setIsVisible(bool)}setMirrorNeedsRevert(bool){this.mirrorNeedsRevert=bool}setAutoScrollEnabled(bool){this.autoScroller.isEnabled=bool}}class OffsetTracker{constructor(el){this.el=el;this.origRect=computeRect(el);this.scrollCaches=getClippingParents(el).map(scrollEl=>new ElementScrollGeomCache(scrollEl,true))}destroy(){for(let scrollCache of this.scrollCaches)scrollCache.destroy()}computeLeft(){let left=this.origRect.left;for(let scrollCache of this.scrollCaches)left+=scrollCache.origScrollLeft-scrollCache.getScrollLeft();return left}computeTop(){let top=this.origRect.top;for(let scrollCache of this.scrollCaches)top+=scrollCache.origScrollTop-scrollCache.getScrollTop();return top}isWithinClipping(pageX,pageY){let point={left:pageX,top:pageY};for(let scrollCache of this.scrollCaches)if(!isIgnoredClipping(scrollCache.getEventTarget())&&!pointInsideRect(point,scrollCache.clientRect))return false;return true}}function isIgnoredClipping(node){let tagName=node.tagName;return"HTML"===tagName||"BODY"===tagName}class HitDragging{constructor(dragging,droppableStore){this.useSubjectCenter=false;this.requireInitial=true;this.disablePointCheck=false;this.initialHit=null;this.movingHit=null;this.finalHit=null;this.handlePointerDown=ev=>{let{dragging}=this;this.initialHit=null;this.movingHit=null;this.finalHit=null;this.prepareHits();this.processFirstCoord(ev);if(this.initialHit||!this.requireInitial){dragging.setIgnoreMove(false);this.emitter.trigger("pointerdown",ev)}else dragging.setIgnoreMove(true)};this.handleDragStart=ev=>{this.emitter.trigger("dragstart",ev);this.handleMove(ev,true)};this.handleDragMove=ev=>{this.emitter.trigger("dragmove",ev);this.handleMove(ev)};this.handlePointerUp=ev=>{this.releaseHits();this.emitter.trigger("pointerup",ev)};this.handleDragEnd=ev=>{if(this.movingHit)this.emitter.trigger("hitupdate",null,true,ev);this.finalHit=this.movingHit;this.movingHit=null;this.emitter.trigger("dragend",ev)};this.droppableStore=droppableStore;dragging.emitter.on("pointerdown",this.handlePointerDown);dragging.emitter.on("dragstart",this.handleDragStart);dragging.emitter.on("dragmove",this.handleDragMove);dragging.emitter.on("pointerup",this.handlePointerUp);dragging.emitter.on("dragend",this.handleDragEnd);this.dragging=dragging;this.emitter=new Emitter}processFirstCoord(ev){let origPoint={left:ev.pageX,top:ev.pageY};let adjustedPoint=origPoint;let subjectEl=ev.subjectEl;let subjectRect;if(subjectEl instanceof HTMLElement){subjectRect=computeRect(subjectEl);adjustedPoint=constrainPoint(adjustedPoint,subjectRect)}let initialHit=this.initialHit=this.queryHitForOffset(adjustedPoint.left,adjustedPoint.top);if(initialHit){if(this.useSubjectCenter&&subjectRect){let slicedSubjectRect=intersectRects(subjectRect,initialHit.rect);if(slicedSubjectRect)adjustedPoint=getRectCenter(slicedSubjectRect)}this.coordAdjust=diffPoints(adjustedPoint,origPoint)}else this.coordAdjust={left:0,top:0}}handleMove(ev,forceHandle){let hit=this.queryHitForOffset(ev.pageX+this.coordAdjust.left,ev.pageY+this.coordAdjust.top);if(forceHandle||!isHitsEqual(this.movingHit,hit)){this.movingHit=hit;this.emitter.trigger("hitupdate",hit,false,ev)}}prepareHits(){this.offsetTrackers=mapHash(this.droppableStore,interactionSettings=>{interactionSettings.component.prepareHits();return new OffsetTracker(interactionSettings.el)})}releaseHits(){let{offsetTrackers}=this;for(let id in offsetTrackers)offsetTrackers[id].destroy();this.offsetTrackers={}}queryHitForOffset(offsetLeft,offsetTop){let{droppableStore,offsetTrackers}=this;let bestHit=null;for(let id in droppableStore){let component=droppableStore[id].component;let offsetTracker=offsetTrackers[id];if(offsetTracker&&offsetTracker.isWithinClipping(offsetLeft,offsetTop)){let originLeft=offsetTracker.computeLeft();let originTop=offsetTracker.computeTop();let positionLeft=offsetLeft-originLeft;let positionTop=offsetTop-originTop;let{origRect}=offsetTracker;let width=origRect.right-origRect.left;let height=origRect.bottom-origRect.top;if(positionLeft>=0&&positionLeft<width&&positionTop>=0&&positionTop<height){let hit=component.queryHit(positionLeft,positionTop,width,height);if(hit&&rangeContainsRange(hit.dateProfile.activeRange,hit.dateSpan.range)&&(this.disablePointCheck||offsetTracker.el.contains(offsetTracker.el.getRootNode().elementFromPoint(positionLeft+originLeft-window.scrollX,positionTop+originTop-window.scrollY)))&&(!bestHit||hit.layer>bestHit.layer)){hit.componentId=id;hit.context=component.context;hit.rect.left+=originLeft;hit.rect.right+=originLeft;hit.rect.top+=originTop;hit.rect.bottom+=originTop;bestHit=hit}}}}return bestHit}}function isHitsEqual(hit0,hit1){if(!hit0&&!hit1)return true;if(Boolean(hit0)!==Boolean(hit1))return false;return isDateSpansEqual(hit0.dateSpan,hit1.dateSpan)}function buildDatePointApiWithContext(dateSpan,context){let props={};for(let transform of context.pluginHooks.datePointTransforms)Object.assign(props,transform(dateSpan,context));Object.assign(props,buildDatePointApi(dateSpan,context.dateEnv));return props}function buildDatePointApi(span,dateEnv){return{date:dateEnv.toDate(span.range.start),dateStr:dateEnv.formatIso(span.range.start,{omitTime:span.allDay}),allDay:span.allDay}}class DateClicking extends Interaction{constructor(settings){super(settings);this.handlePointerDown=pev=>{let{dragging}=this;let downEl=pev.origEvent.target;dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl))};this.handleDragEnd=ev=>{let{component}=this;let{pointer}=this.dragging;if(!pointer.wasTouchScroll){let{initialHit,finalHit}=this.hitDragging;if(initialHit&&finalHit&&isHitsEqual(initialHit,finalHit)){let{context}=component;let arg=Object.assign(Object.assign({},buildDatePointApiWithContext(initialHit.dateSpan,context)),{dayEl:initialHit.dayEl,jsEvent:ev.origEvent,view:context.viewApi||context.calendarApi.view});context.emitter.trigger("dateClick",arg)}}};this.dragging=new FeaturefulElementDragging(settings.el);this.dragging.autoScroller.isEnabled=false;let hitDragging=this.hitDragging=new HitDragging(this.dragging,interactionSettingsToStore(settings));hitDragging.emitter.on("pointerdown",this.handlePointerDown);hitDragging.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class DateSelecting extends Interaction{constructor(settings){super(settings);this.dragSelection=null;this.handlePointerDown=ev=>{let{component,dragging}=this;let{options}=component.context;let canSelect=options.selectable&&component.isValidDateDownEl(ev.origEvent.target);dragging.setIgnoreMove(!canSelect);dragging.delay=ev.isTouch?getComponentTouchDelay$1(component):null};this.handleDragStart=ev=>{this.component.context.calendarApi.unselect(ev)};this.handleHitUpdate=(hit,isFinal)=>{let{context}=this.component;let dragSelection=null;let isInvalid=false;if(hit){let initialHit=this.hitDragging.initialHit;let disallowed=hit.componentId===initialHit.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(initialHit,hit);if(!disallowed)dragSelection=joinHitsIntoSelection(initialHit,hit,context.pluginHooks.dateSelectionTransformers);if(!dragSelection||!isDateSelectionValid(dragSelection,hit.dateProfile,context)){isInvalid=true;dragSelection=null}}if(dragSelection)context.dispatch({type:"SELECT_DATES",selection:dragSelection});else if(!isFinal)context.dispatch({type:"UNSELECT_DATES"});if(isInvalid)disableCursor();else enableCursor();if(!isFinal)this.dragSelection=dragSelection};this.handlePointerUp=pev=>{if(this.dragSelection){triggerDateSelect(this.dragSelection,pev,this.component.context);this.dragSelection=null}};let{component}=settings;let{options}=component.context;let dragging=this.dragging=new FeaturefulElementDragging(settings.el);dragging.touchScrollAllowed=false;dragging.minDistance=options.selectMinDistance||0;dragging.autoScroller.isEnabled=options.dragScroll;let hitDragging=this.hitDragging=new HitDragging(this.dragging,interactionSettingsToStore(settings));hitDragging.emitter.on("pointerdown",this.handlePointerDown);hitDragging.emitter.on("dragstart",this.handleDragStart);hitDragging.emitter.on("hitupdate",this.handleHitUpdate);hitDragging.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function getComponentTouchDelay$1(component){let{options}=component.context;let delay=options.selectLongPressDelay;if(null==delay)delay=options.longPressDelay;return delay}function joinHitsIntoSelection(hit0,hit1,dateSelectionTransformers){let dateSpan0=hit0.dateSpan;let dateSpan1=hit1.dateSpan;let ms=[dateSpan0.range.start,dateSpan0.range.end,dateSpan1.range.start,dateSpan1.range.end];ms.sort(compareNumbers);let props={};for(let transformer of dateSelectionTransformers){let res=transformer(hit0,hit1);if(false===res)return null;if(res)Object.assign(props,res)}props.range={start:ms[0],end:ms[3]};props.allDay=dateSpan0.allDay;return props}class EventDragging extends Interaction{constructor(settings){super(settings);this.subjectEl=null;this.subjectSeg=null;this.isDragging=false;this.eventRange=null;this.relevantEvents=null;this.receivingContext=null;this.validMutation=null;this.mutatedRelevantEvents=null;this.handlePointerDown=ev=>{let origTarget=ev.origEvent.target;let{component,dragging}=this;let{mirror}=dragging;let{options}=component.context;let initialContext=component.context;this.subjectEl=ev.subjectEl;let subjectSeg=this.subjectSeg=getElSeg(ev.subjectEl);let eventRange=this.eventRange=subjectSeg.eventRange;let eventInstanceId=eventRange.instance.instanceId;this.relevantEvents=getRelevantEvents(initialContext.getCurrentData().eventStore,eventInstanceId);dragging.minDistance=ev.isTouch?0:options.eventDragMinDistance;dragging.delay=ev.isTouch&&eventInstanceId!==component.props.eventSelection?getComponentTouchDelay(component):null;if(options.fixedMirrorParent)mirror.parentNode=options.fixedMirrorParent;else mirror.parentNode=elementClosest(origTarget,".fc");mirror.revertDuration=options.dragRevertDuration;let isValid=component.isValidSegDownEl(origTarget)&&!elementClosest(origTarget,".fc-event-resizer");dragging.setIgnoreMove(!isValid);this.isDragging=isValid&&ev.subjectEl.classList.contains("fc-event-draggable")};this.handleDragStart=ev=>{let initialContext=this.component.context;let eventRange=this.eventRange;let eventInstanceId=eventRange.instance.instanceId;if(ev.isTouch){if(eventInstanceId!==this.component.props.eventSelection)initialContext.dispatch({type:"SELECT_EVENT",eventInstanceId})}else initialContext.dispatch({type:"UNSELECT_EVENT"});if(this.isDragging){initialContext.calendarApi.unselect(ev);initialContext.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new EventImpl(initialContext,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:initialContext.viewApi})}};this.handleHitUpdate=(hit,isFinal)=>{if(!this.isDragging)return;let relevantEvents=this.relevantEvents;let initialHit=this.hitDragging.initialHit;let initialContext=this.component.context;let receivingContext=null;let mutation=null;let mutatedRelevantEvents=null;let isInvalid=false;let interaction={affectedEvents:relevantEvents,mutatedEvents:createEmptyEventStore(),isEvent:true};if(hit){receivingContext=hit.context;let receivingOptions=receivingContext.options;if(initialContext===receivingContext||receivingOptions.editable&&receivingOptions.droppable){mutation=computeEventMutation(initialHit,hit,this.eventRange.instance.range.start,receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);if(mutation){mutatedRelevantEvents=applyMutationToEventStore(relevantEvents,receivingContext.getCurrentData().eventUiBases,mutation,receivingContext);interaction.mutatedEvents=mutatedRelevantEvents;if(!isInteractionValid(interaction,hit.dateProfile,receivingContext)){isInvalid=true;mutation=null;mutatedRelevantEvents=null;interaction.mutatedEvents=createEmptyEventStore()}}}else receivingContext=null}this.displayDrag(receivingContext,interaction);if(isInvalid)disableCursor();else enableCursor();if(!isFinal){if(initialContext===receivingContext&&isHitsEqual(initialHit,hit))mutation=null;this.dragging.setMirrorNeedsRevert(!mutation);this.dragging.setMirrorIsVisible(!hit||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror"));this.receivingContext=receivingContext;this.validMutation=mutation;this.mutatedRelevantEvents=mutatedRelevantEvents}};this.handlePointerUp=()=>{if(!this.isDragging)this.cleanup()};this.handleDragEnd=ev=>{if(this.isDragging){let initialContext=this.component.context;let initialView=initialContext.viewApi;let{receivingContext,validMutation}=this;let eventDef=this.eventRange.def;let eventInstance=this.eventRange.instance;let eventApi=new EventImpl(initialContext,eventDef,eventInstance);let relevantEvents=this.relevantEvents;let mutatedRelevantEvents=this.mutatedRelevantEvents;let{finalHit}=this.hitDragging;this.clearDrag();initialContext.emitter.trigger("eventDragStop",{el:this.subjectEl,event:eventApi,jsEvent:ev.origEvent,view:initialView});if(validMutation){if(receivingContext===initialContext){let updatedEventApi=new EventImpl(initialContext,mutatedRelevantEvents.defs[eventDef.defId],eventInstance?mutatedRelevantEvents.instances[eventInstance.instanceId]:null);initialContext.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});let eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents,initialContext,eventInstance),revert(){initialContext.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}};let transformed={};for(let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(transformed,transformer(validMutation,initialContext));initialContext.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},eventChangeArg),transformed),{el:ev.subjectEl,delta:validMutation.datesDelta,jsEvent:ev.origEvent,view:initialView}));initialContext.emitter.trigger("eventChange",eventChangeArg)}else if(receivingContext){let eventRemoveArg={event:eventApi,relatedEvents:buildEventApis(relevantEvents,initialContext,eventInstance),revert(){initialContext.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}};initialContext.emitter.trigger("eventLeave",Object.assign(Object.assign({},eventRemoveArg),{draggedEl:ev.subjectEl,view:initialView}));initialContext.dispatch({type:"REMOVE_EVENTS",eventStore:relevantEvents});initialContext.emitter.trigger("eventRemove",eventRemoveArg);let addedEventDef=mutatedRelevantEvents.defs[eventDef.defId];let addedEventInstance=mutatedRelevantEvents.instances[eventInstance.instanceId];let addedEventApi=new EventImpl(receivingContext,addedEventDef,addedEventInstance);receivingContext.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});let eventAddArg={event:addedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents,receivingContext,addedEventInstance),revert(){receivingContext.dispatch({type:"REMOVE_EVENTS",eventStore:mutatedRelevantEvents})}};receivingContext.emitter.trigger("eventAdd",eventAddArg);if(ev.isTouch)receivingContext.dispatch({type:"SELECT_EVENT",eventInstanceId:eventInstance.instanceId});receivingContext.emitter.trigger("drop",Object.assign(Object.assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext)),{draggedEl:ev.subjectEl,jsEvent:ev.origEvent,view:finalHit.context.viewApi}));receivingContext.emitter.trigger("eventReceive",Object.assign(Object.assign({},eventAddArg),{draggedEl:ev.subjectEl,view:finalHit.context.viewApi}))}}else initialContext.emitter.trigger("_noEventDrop")}this.cleanup()};let{component}=this;let{options}=component.context;let dragging=this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector=EventDragging.SELECTOR;dragging.touchScrollAllowed=false;dragging.autoScroller.isEnabled=options.dragScroll;let hitDragging=this.hitDragging=new HitDragging(this.dragging,interactionSettingsStore);hitDragging.useSubjectCenter=settings.useEventCenter;hitDragging.emitter.on("pointerdown",this.handlePointerDown);hitDragging.emitter.on("dragstart",this.handleDragStart);hitDragging.emitter.on("hitupdate",this.handleHitUpdate);hitDragging.emitter.on("pointerup",this.handlePointerUp);hitDragging.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(nextContext,state){let initialContext=this.component.context;let prevContext=this.receivingContext;if(prevContext&&prevContext!==nextContext){if(prevContext===initialContext)prevContext.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:state.affectedEvents,mutatedEvents:createEmptyEventStore(),isEvent:true}});else prevContext.dispatch({type:"UNSET_EVENT_DRAG"})}if(nextContext)nextContext.dispatch({type:"SET_EVENT_DRAG",state})}clearDrag(){let initialCalendar=this.component.context;let{receivingContext}=this;if(receivingContext)receivingContext.dispatch({type:"UNSET_EVENT_DRAG"});if(initialCalendar!==receivingContext)initialCalendar.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null;this.isDragging=false;this.eventRange=null;this.relevantEvents=null;this.receivingContext=null;this.validMutation=null;this.mutatedRelevantEvents=null}}EventDragging.SELECTOR=".fc-event-draggable, .fc-event-resizable";function computeEventMutation(hit0,hit1,eventInstanceStart,massagers){let dateSpan0=hit0.dateSpan;let dateSpan1=hit1.dateSpan;let date0=dateSpan0.range.start;let date1=dateSpan1.range.start;let standardProps={};if(dateSpan0.allDay!==dateSpan1.allDay){standardProps.allDay=dateSpan1.allDay;standardProps.hasEnd=hit1.context.options.allDayMaintainDuration;date0=dateSpan1.allDay?startOfDay(eventInstanceStart):eventInstanceStart}let delta=diffDates(date0,date1,hit0.context.dateEnv,hit0.componentId===hit1.componentId?hit0.largeUnit:null);if(delta.milliseconds)standardProps.allDay=false;let mutation={datesDelta:delta,standardProps};for(let massager of massagers)massager(mutation,hit0,hit1);return mutation}function getComponentTouchDelay(component){let{options}=component.context;let delay=options.eventLongPressDelay;if(null==delay)delay=options.longPressDelay;return delay}class EventResizing extends Interaction{constructor(settings){super(settings);this.draggingSegEl=null;this.draggingSeg=null;this.eventRange=null;this.relevantEvents=null;this.validMutation=null;this.mutatedRelevantEvents=null;this.handlePointerDown=ev=>{let{component}=this;let segEl=this.querySegEl(ev);let seg=getElSeg(segEl);let eventRange=this.eventRange=seg.eventRange;this.dragging.minDistance=component.context.options.eventDragMinDistance;this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target)||ev.isTouch&&this.component.props.eventSelection!==eventRange.instance.instanceId)};this.handleDragStart=ev=>{let{context}=this.component;let eventRange=this.eventRange;this.relevantEvents=getRelevantEvents(context.getCurrentData().eventStore,this.eventRange.instance.instanceId);let segEl=this.querySegEl(ev);this.draggingSegEl=segEl;this.draggingSeg=getElSeg(segEl);context.calendarApi.unselect();context.emitter.trigger("eventResizeStart",{el:segEl,event:new EventImpl(context,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:context.viewApi})};this.handleHitUpdate=(hit,isFinal,ev)=>{let{context}=this.component;let relevantEvents=this.relevantEvents;let initialHit=this.hitDragging.initialHit;let eventInstance=this.eventRange.instance;let mutation=null;let mutatedRelevantEvents=null;let isInvalid=false;let interaction={affectedEvents:relevantEvents,mutatedEvents:createEmptyEventStore(),isEvent:true};if(hit){let disallowed=hit.componentId===initialHit.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(initialHit,hit);if(!disallowed)mutation=computeMutation(initialHit,hit,ev.subjectEl.classList.contains("fc-event-resizer-start"),eventInstance.range)}if(mutation){mutatedRelevantEvents=applyMutationToEventStore(relevantEvents,context.getCurrentData().eventUiBases,mutation,context);interaction.mutatedEvents=mutatedRelevantEvents;if(!isInteractionValid(interaction,hit.dateProfile,context)){isInvalid=true;mutation=null;mutatedRelevantEvents=null;interaction.mutatedEvents=null}}if(mutatedRelevantEvents)context.dispatch({type:"SET_EVENT_RESIZE",state:interaction});else context.dispatch({type:"UNSET_EVENT_RESIZE"});if(isInvalid)disableCursor();else enableCursor();if(!isFinal){if(mutation&&isHitsEqual(initialHit,hit))mutation=null;this.validMutation=mutation;this.mutatedRelevantEvents=mutatedRelevantEvents}};this.handleDragEnd=ev=>{let{context}=this.component;let eventDef=this.eventRange.def;let eventInstance=this.eventRange.instance;let eventApi=new EventImpl(context,eventDef,eventInstance);let relevantEvents=this.relevantEvents;let mutatedRelevantEvents=this.mutatedRelevantEvents;context.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:eventApi,jsEvent:ev.origEvent,view:context.viewApi});if(this.validMutation){let updatedEventApi=new EventImpl(context,mutatedRelevantEvents.defs[eventDef.defId],eventInstance?mutatedRelevantEvents.instances[eventInstance.instanceId]:null);context.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});let eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents,context,eventInstance),revert(){context.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}};context.emitter.trigger("eventResize",Object.assign(Object.assign({},eventChangeArg),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||createDuration(0),endDelta:this.validMutation.endDelta||createDuration(0),jsEvent:ev.origEvent,view:context.viewApi}));context.emitter.trigger("eventChange",eventChangeArg)}else context.emitter.trigger("_noEventResize");this.draggingSeg=null;this.relevantEvents=null;this.validMutation=null};let{component}=settings;let dragging=this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector=".fc-event-resizer";dragging.touchScrollAllowed=false;dragging.autoScroller.isEnabled=component.context.options.dragScroll;let hitDragging=this.hitDragging=new HitDragging(this.dragging,interactionSettingsToStore(settings));hitDragging.emitter.on("pointerdown",this.handlePointerDown);hitDragging.emitter.on("dragstart",this.handleDragStart);hitDragging.emitter.on("hitupdate",this.handleHitUpdate);hitDragging.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(ev){return elementClosest(ev.subjectEl,".fc-event")}}function computeMutation(hit0,hit1,isFromStart,instanceRange){let dateEnv=hit0.context.dateEnv;let date0=hit0.dateSpan.range.start;let date1=hit1.dateSpan.range.start;let delta=diffDates(date0,date1,dateEnv,hit0.largeUnit);if(isFromStart){if(dateEnv.add(instanceRange.start,delta)<instanceRange.end)return{startDelta:delta}}else if(dateEnv.add(instanceRange.end,delta)>instanceRange.start)return{endDelta:delta};return null}class UnselectAuto{constructor(context){this.context=context;this.isRecentPointerDateSelect=false;this.matchesCancel=false;this.matchesEvent=false;this.onSelect=selectInfo=>{if(selectInfo.jsEvent)this.isRecentPointerDateSelect=true};this.onDocumentPointerDown=pev=>{let unselectCancel=this.context.options.unselectCancel;let downEl=getEventTargetViaRoot(pev.origEvent);this.matchesCancel=!!elementClosest(downEl,unselectCancel);this.matchesEvent=!!elementClosest(downEl,EventDragging.SELECTOR)};this.onDocumentPointerUp=pev=>{let{context}=this;let{documentPointer}=this;let calendarState=context.getCurrentData();if(!documentPointer.wasTouchScroll){if(calendarState.dateSelection&&!this.isRecentPointerDateSelect){let unselectAuto=context.options.unselectAuto;if(unselectAuto&&(!unselectAuto||!this.matchesCancel))context.calendarApi.unselect(pev)}if(calendarState.eventSelection&&!this.matchesEvent)context.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=false};let documentPointer=this.documentPointer=new PointerDragging(document);documentPointer.shouldIgnoreMove=true;documentPointer.shouldWatchScroll=false;documentPointer.emitter.on("pointerdown",this.onDocumentPointerDown);documentPointer.emitter.on("pointerup",this.onDocumentPointerUp);context.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect);this.documentPointer.destroy()}}const OPTION_REFINERS={fixedMirrorParent:internal_common_identity};const LISTENER_REFINERS={dateClick:internal_common_identity,eventDragStart:internal_common_identity,eventDragStop:internal_common_identity,eventDrop:internal_common_identity,eventResizeStart:internal_common_identity,eventResizeStop:internal_common_identity,eventResize:internal_common_identity,drop:internal_common_identity,eventReceive:internal_common_identity,eventLeave:internal_common_identity};internal_common_config.dataAttrPrefix="";var interaction_index=createPlugin({name:"@fullcalendar/interaction",componentInteractions:[DateClicking,DateSelecting,EventDragging,EventResizing],calendarInteractions:[UnselectAuto],elementDraggingImpl:FeaturefulElementDragging,optionRefiners:OPTION_REFINERS,listenerRefiners:LISTENER_REFINERS});class ListViewHeaderRow extends BaseComponent{constructor(){super(...arguments);this.state={textId:getUniqueDomId()}}render(){let{theme,dateEnv,options,viewApi}=this.context;let{cellId,dayDate,todayRange}=this.props;let{textId}=this.state;let dayMeta=getDateMeta(dayDate,todayRange);let text=options.listDayFormat?dateEnv.format(dayDate,options.listDayFormat):"";let sideText=options.listDaySideFormat?dateEnv.format(dayDate,options.listDaySideFormat):"";let renderProps=Object.assign({date:dateEnv.toDate(dayDate),view:viewApi,textId,text,sideText,navLinkAttrs:buildNavLinkAttrs(this.context,dayDate),sideNavLinkAttrs:buildNavLinkAttrs(this.context,dayDate,"day",false)},dayMeta);return preact_module_y(ContentContainer,{elTag:"tr",elClasses:["fc-list-day",...getDayClassNames(dayMeta,theme)],elAttrs:{"data-date":formatDayString(dayDate)},renderProps:renderProps,generatorName:"dayHeaderContent",customGenerator:options.dayHeaderContent,defaultGenerator:list_internal_renderInnerContent,classNameGenerator:options.dayHeaderClassNames,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},InnerContent=>preact_module_y("th",{scope:"colgroup",colSpan:3,id:cellId,"aria-labelledby":textId},preact_module_y(InnerContent,{elTag:"div",elClasses:["fc-list-day-cushion",theme.getClass("tableCellShaded")]})))}}function list_internal_renderInnerContent(props){return preact_module_y(preact_module_,null,props.text&&preact_module_y("a",Object.assign({id:props.textId,className:"fc-list-day-text"},props.navLinkAttrs),props.text),props.sideText&&preact_module_y("a",Object.assign({"aria-hidden":true,className:"fc-list-day-side-text"},props.sideNavLinkAttrs),props.sideText))}const DEFAULT_TIME_FORMAT=internal_common_createFormatter({hour:"numeric",minute:"2-digit",meridiem:"short"});class ListViewEventRow extends BaseComponent{render(){let{props,context}=this;let{options}=context;let{seg,timeHeaderId,eventHeaderId,dateHeaderId}=props;let timeFormat=options.eventTimeFormat||DEFAULT_TIME_FORMAT;return preact_module_y(EventContainer,Object.assign({},props,{elTag:"tr",elClasses:["fc-list-event",seg.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>renderEventInnerContent(seg,context),seg:seg,timeText:"",disableDragging:true,disableResizing:true}),(InnerContent,eventContentArg)=>preact_module_y(preact_module_,null,buildTimeContent(seg,timeFormat,context,timeHeaderId,dateHeaderId),preact_module_y("td",{"aria-hidden":true,className:"fc-list-event-graphic"},preact_module_y("span",{className:"fc-list-event-dot",style:{borderColor:eventContentArg.borderColor||eventContentArg.backgroundColor}})),preact_module_y(InnerContent,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${eventHeaderId} ${dateHeaderId}`}})))}}function renderEventInnerContent(seg,context){let interactiveAttrs=getSegAnchorAttrs(seg,context);return preact_module_y("a",Object.assign({},interactiveAttrs),seg.eventRange.def.title)}function buildTimeContent(seg,timeFormat,context,timeHeaderId,dateHeaderId){let{options}=context;if(false!==options.displayEventTime){let eventDef=seg.eventRange.def;let eventInstance=seg.eventRange.instance;let doAllDay=false;let timeText;if(eventDef.allDay)doAllDay=true;else if(isMultiDayRange(seg.eventRange.range)){if(seg.isStart)timeText=buildSegTimeText(seg,timeFormat,context,null,null,eventInstance.range.start,seg.end);else if(seg.isEnd)timeText=buildSegTimeText(seg,timeFormat,context,null,null,seg.start,eventInstance.range.end);else doAllDay=true}else timeText=buildSegTimeText(seg,timeFormat,context);if(doAllDay){let renderProps={text:context.options.allDayText,view:context.viewApi};return preact_module_y(ContentContainer,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${timeHeaderId} ${dateHeaderId}`},renderProps:renderProps,generatorName:"allDayContent",customGenerator:options.allDayContent,defaultGenerator:renderAllDayInner,classNameGenerator:options.allDayClassNames,didMount:options.allDayDidMount,willUnmount:options.allDayWillUnmount})}return preact_module_y("td",{className:"fc-list-event-time"},timeText)}return null}function renderAllDayInner(renderProps){return renderProps.text}class ListView extends DateComponent{constructor(){super(...arguments);this.computeDateVars=memoize(computeDateVars);this.eventStoreToSegs=memoize(this._eventStoreToSegs);this.state={timeHeaderId:getUniqueDomId(),eventHeaderId:getUniqueDomId(),dateHeaderIdRoot:getUniqueDomId()};this.setRootEl=rootEl=>{if(rootEl)this.context.registerInteractiveComponent(this,{el:rootEl});else this.context.unregisterInteractiveComponent(this)}}render(){let{props,context}=this;let{dayDates,dayRanges}=this.computeDateVars(props.dateProfile);let eventSegs=this.eventStoreToSegs(props.eventStore,props.eventUiBases,dayRanges);return preact_module_y(ViewContainer,{elRef:this.setRootEl,elClasses:["fc-list",context.theme.getClass("table"),false!==context.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:context.viewSpec},preact_module_y(Scroller,{liquid:!props.isHeightAuto,overflowX:props.isHeightAuto?"visible":"hidden",overflowY:props.isHeightAuto?"visible":"auto"},eventSegs.length>0?this.renderSegList(eventSegs,dayDates):this.renderEmptyMessage()))}renderEmptyMessage(){let{options,viewApi}=this.context;let renderProps={text:options.noEventsText,view:viewApi};return preact_module_y(ContentContainer,{elTag:"div",elClasses:["fc-list-empty"],renderProps:renderProps,generatorName:"noEventsContent",customGenerator:options.noEventsContent,defaultGenerator:renderNoEventsInner,classNameGenerator:options.noEventsClassNames,didMount:options.noEventsDidMount,willUnmount:options.noEventsWillUnmount},InnerContent=>preact_module_y(InnerContent,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(allSegs,dayDates){let{theme,options}=this.context;let{timeHeaderId,eventHeaderId,dateHeaderIdRoot}=this.state;let segsByDay=groupSegsByDay(allSegs);return preact_module_y(NowTimer,{unit:"day"},(nowDate,todayRange)=>{let innerNodes=[];for(let dayIndex=0;dayIndex<segsByDay.length;dayIndex+=1){let daySegs=segsByDay[dayIndex];if(daySegs){let dayStr=formatDayString(dayDates[dayIndex]);let dateHeaderId=dateHeaderIdRoot+"-"+dayStr;innerNodes.push(preact_module_y(ListViewHeaderRow,{key:dayStr,cellId:dateHeaderId,dayDate:dayDates[dayIndex],todayRange:todayRange}));daySegs=sortEventSegs(daySegs,options.eventOrder);for(let seg of daySegs)innerNodes.push(preact_module_y(ListViewEventRow,Object.assign({key:dayStr+":"+seg.eventRange.instance.instanceId,seg:seg,isDragging:false,isResizing:false,isDateSelecting:false,isSelected:false,timeHeaderId:timeHeaderId,eventHeaderId:eventHeaderId,dateHeaderId:dateHeaderId},getSegMeta(seg,todayRange,nowDate))))}}return preact_module_y("table",{className:"fc-list-table "+theme.getClass("table")},preact_module_y("thead",null,preact_module_y("tr",null,preact_module_y("th",{scope:"col",id:timeHeaderId},options.timeHint),preact_module_y("th",{scope:"col","aria-hidden":true}),preact_module_y("th",{scope:"col",id:eventHeaderId},options.eventHint))),preact_module_y("tbody",null,innerNodes))})}_eventStoreToSegs(eventStore,eventUiBases,dayRanges){return this.eventRangesToSegs(internal_common_sliceEventStore(eventStore,eventUiBases,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,dayRanges)}eventRangesToSegs(eventRanges,dayRanges){let segs=[];for(let eventRange of eventRanges)segs.push(...this.eventRangeToSegs(eventRange,dayRanges));return segs}eventRangeToSegs(eventRange,dayRanges){let{dateEnv}=this.context;let{nextDayThreshold}=this.context.options;let range=eventRange.range;let allDay=eventRange.def.allDay;let dayIndex;let segRange;let seg;let segs=[];for(dayIndex=0;dayIndex<dayRanges.length;dayIndex+=1){segRange=intersectRanges(range,dayRanges[dayIndex]);if(segRange){seg={component:this,eventRange,start:segRange.start,end:segRange.end,isStart:eventRange.isStart&&segRange.start.valueOf()===range.start.valueOf(),isEnd:eventRange.isEnd&&segRange.end.valueOf()===range.end.valueOf(),dayIndex};segs.push(seg);if(!seg.isEnd&&!allDay&&dayIndex+1<dayRanges.length&&range.end<dateEnv.add(dayRanges[dayIndex+1].start,nextDayThreshold)){seg.end=range.end;seg.isEnd=true;break}}}return segs}}function renderNoEventsInner(renderProps){return renderProps.text}function computeDateVars(dateProfile){let dayStart=startOfDay(dateProfile.renderRange.start);let viewEnd=dateProfile.renderRange.end;let dayDates=[];let dayRanges=[];while(dayStart<viewEnd){dayDates.push(dayStart);dayRanges.push({start:dayStart,end:addDays(dayStart,1)});dayStart=addDays(dayStart,1)}return{dayDates,dayRanges}}function groupSegsByDay(segs){let segsByDay=[];let i;let seg;for(i=0;i<segs.length;i+=1){seg=segs[i];(segsByDay[seg.dayIndex]||(segsByDay[seg.dayIndex]=[])).push(seg)}return segsByDay}var list_internal_css_248z=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';injectStyles(list_internal_css_248z);const list_OPTION_REFINERS={listDayFormat:createFalsableFormatter,listDaySideFormat:createFalsableFormatter,noEventsClassNames:internal_common_identity,noEventsContent:internal_common_identity,noEventsDidMount:internal_common_identity,noEventsWillUnmount:internal_common_identity};function createFalsableFormatter(input){return false===input?null:internal_common_createFormatter(input)}var list_index=createPlugin({name:"@fullcalendar/list",optionRefiners:list_OPTION_REFINERS,views:{list:{component:ListView,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});var useResizeDetector=__webpack_require__(5075);var version_version="4.1.0";function isUndefined(value){return void 0===value}function isBoolean(value){return"boolean"==typeof value}function defaults(dest,src){for(var prop in src)if(src.hasOwnProperty(prop)&&isUndefined(dest[prop]))dest[prop]=src[prop];return dest}function ellipsis(str,truncateLen,ellipsisChars){var ellipsisLength;if(str.length>truncateLen){if(null==ellipsisChars){ellipsisChars="&hellip;";ellipsisLength=3}else ellipsisLength=ellipsisChars.length;str=str.substring(0,truncateLen-ellipsisLength)+ellipsisChars}return str}function utils_remove(arr,item){for(var i=arr.length-1;i>=0;i--)if(arr[i]===item)arr.splice(i,1)}function removeWithPredicate(arr,fn){for(var i=arr.length-1;i>=0;i--)if(true===fn(arr[i]))arr.splice(i,1)}function assertNever(theValue){throw new Error("Unhandled case for value: '".concat(theValue,"'"))}var letterRe=/[A-Za-z]/;var digitRe=/[\d]/;var whitespaceRe=/\s/;var quoteRe=/['"]/;var controlCharsRe=/[\x00-\x1F\x7F]/;var alphaCharsStr=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source;var emojiStr=/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source;var marksStr=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source;var alphaCharsAndMarksStr=alphaCharsStr+emojiStr+marksStr;var decimalNumbersStr=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source;new RegExp("[".concat(alphaCharsStr+decimalNumbersStr,"]"));var alphaNumericAndMarksCharsStr=alphaCharsAndMarksStr+decimalNumbersStr;var regex_lib_alphaNumericAndMarksRe=new RegExp("[".concat(alphaNumericAndMarksCharsStr,"]"));var html_tag_HtmlTag=function(){function HtmlTag(cfg){if(void 0===cfg)cfg={};this.tagName="";this.attrs={};this.innerHTML="";this.tagName=cfg.tagName||"";this.attrs=cfg.attrs||{};this.innerHTML=cfg.innerHtml||cfg.innerHTML||""}HtmlTag.prototype.setTagName=function(tagName){this.tagName=tagName;return this};HtmlTag.prototype.getTagName=function(){return this.tagName||""};HtmlTag.prototype.setAttr=function(attrName,attrValue){var tagAttrs=this.getAttrs();tagAttrs[attrName]=attrValue;return this};HtmlTag.prototype.getAttr=function(attrName){return this.getAttrs()[attrName]};HtmlTag.prototype.setAttrs=function(attrs){Object.assign(this.getAttrs(),attrs);return this};HtmlTag.prototype.getAttrs=function(){return this.attrs||(this.attrs={})};HtmlTag.prototype.setClass=function(cssClass){return this.setAttr("class",cssClass)};HtmlTag.prototype.addClass=function(cssClass){var classAttr=this.getClass(),classes=classAttr?classAttr.split(whitespaceRe):[],newClasses=cssClass.split(whitespaceRe),newClass;while(newClass=newClasses.shift())if(-1===classes.indexOf(newClass))classes.push(newClass);this.getAttrs()["class"]=classes.join(" ");return this};HtmlTag.prototype.removeClass=function(cssClass){var classAttr=this.getClass(),classes=classAttr?classAttr.split(whitespaceRe):[],removeClasses=cssClass.split(whitespaceRe),removeClass;while(classes.length&&(removeClass=removeClasses.shift())){var idx=classes.indexOf(removeClass);if(-1!==idx)classes.splice(idx,1)}this.getAttrs()["class"]=classes.join(" ");return this};HtmlTag.prototype.getClass=function(){return this.getAttrs()["class"]||""};HtmlTag.prototype.hasClass=function(cssClass){return -1!==(" "+this.getClass()+" ").indexOf(" "+cssClass+" ")};HtmlTag.prototype.setInnerHTML=function(html){this.innerHTML=html;return this};HtmlTag.prototype.setInnerHtml=function(html){return this.setInnerHTML(html)};HtmlTag.prototype.getInnerHTML=function(){return this.innerHTML||""};HtmlTag.prototype.getInnerHtml=function(){return this.getInnerHTML()};HtmlTag.prototype.toAnchorString=function(){var tagName=this.getTagName(),attrsStr=this.buildAttrsStr();attrsStr=attrsStr?" "+attrsStr:"";return["<",tagName,attrsStr,">",this.getInnerHtml(),"</",tagName,">"].join("")};HtmlTag.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var attrs=this.getAttrs(),attrsArr=[];for(var prop in attrs)if(attrs.hasOwnProperty(prop))attrsArr.push(prop+'="'+attrs[prop]+'"');return attrsArr.join(" ")};return HtmlTag}();function truncateSmart(url,truncateLen,ellipsisChars){var ellipsisLengthBeforeParsing;var ellipsisLength;if(null==ellipsisChars){ellipsisChars="&hellip;";ellipsisLength=3;ellipsisLengthBeforeParsing=8}else{ellipsisLength=ellipsisChars.length;ellipsisLengthBeforeParsing=ellipsisChars.length}var parse_url=function(url){var urlObj={};var urlSub=url;var match=urlSub.match(/^([a-z]+):\/\//i);if(match){urlObj.scheme=match[1];urlSub=urlSub.substr(match[0].length)}match=urlSub.match(/^(.*?)(?=(\?|#|\/|$))/i);if(match){urlObj.host=match[1];urlSub=urlSub.substr(match[0].length)}match=urlSub.match(/^\/(.*?)(?=(\?|#|$))/i);if(match){urlObj.path=match[1];urlSub=urlSub.substr(match[0].length)}match=urlSub.match(/^\?(.*?)(?=(#|$))/i);if(match){urlObj.query=match[1];urlSub=urlSub.substr(match[0].length)}match=urlSub.match(/^#(.*?)$/i);if(match)urlObj.fragment=match[1];return urlObj};var buildUrl=function(urlObj){var url="";if(urlObj.scheme&&urlObj.host)url+=urlObj.scheme+"://";if(urlObj.host)url+=urlObj.host;if(urlObj.path)url+="/"+urlObj.path;if(urlObj.query)url+="?"+urlObj.query;if(urlObj.fragment)url+="#"+urlObj.fragment;return url};var buildSegment=function(segment,remainingAvailableLength){var remainingAvailableLengthHalf=remainingAvailableLength/2,startOffset=Math.ceil(remainingAvailableLengthHalf),endOffset=-1*Math.floor(remainingAvailableLengthHalf),end="";if(endOffset<0)end=segment.substr(endOffset);return segment.substr(0,startOffset)+ellipsisChars+end};if(url.length<=truncateLen)return url;var availableLength=truncateLen-ellipsisLength;var urlObj=parse_url(url);if(urlObj.query){var matchQuery=urlObj.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);if(matchQuery){urlObj.query=urlObj.query.substr(0,matchQuery[1].length);url=buildUrl(urlObj)}}if(url.length<=truncateLen)return url;if(urlObj.host){urlObj.host=urlObj.host.replace(/^www\./,"");url=buildUrl(urlObj)}if(url.length<=truncateLen)return url;var str="";if(urlObj.host)str+=urlObj.host;if(str.length>=availableLength){if(urlObj.host.length==truncateLen)return(urlObj.host.substr(0,truncateLen-ellipsisLength)+ellipsisChars).substr(0,availableLength+ellipsisLengthBeforeParsing);return buildSegment(str,availableLength).substr(0,availableLength+ellipsisLengthBeforeParsing)}var pathAndQuery="";if(urlObj.path)pathAndQuery+="/"+urlObj.path;if(urlObj.query)pathAndQuery+="?"+urlObj.query;if(pathAndQuery){if((str+pathAndQuery).length>=availableLength){if((str+pathAndQuery).length==truncateLen)return(str+pathAndQuery).substr(0,truncateLen);var remainingAvailableLength=availableLength-str.length;return(str+buildSegment(pathAndQuery,remainingAvailableLength)).substr(0,availableLength+ellipsisLengthBeforeParsing)}str+=pathAndQuery}if(urlObj.fragment){var fragment="#"+urlObj.fragment;if((str+fragment).length>=availableLength){if((str+fragment).length==truncateLen)return(str+fragment).substr(0,truncateLen);var remainingAvailableLength2=availableLength-str.length;return(str+buildSegment(fragment,remainingAvailableLength2)).substr(0,availableLength+ellipsisLengthBeforeParsing)}str+=fragment}if(urlObj.scheme&&urlObj.host){var scheme=urlObj.scheme+"://";if((str+scheme).length<availableLength)return(scheme+str).substr(0,truncateLen)}if(str.length<=truncateLen)return str;var end="";if(availableLength>0)end=str.substr(-1*Math.floor(availableLength/2));return(str.substr(0,Math.ceil(availableLength/2))+ellipsisChars+end).substr(0,availableLength+ellipsisLengthBeforeParsing)}function truncateMiddle(url,truncateLen,ellipsisChars){if(url.length<=truncateLen)return url;var ellipsisLengthBeforeParsing;var ellipsisLength;if(null==ellipsisChars){ellipsisChars="&hellip;";ellipsisLengthBeforeParsing=8;ellipsisLength=3}else{ellipsisLengthBeforeParsing=ellipsisChars.length;ellipsisLength=ellipsisChars.length}var availableLength=truncateLen-ellipsisLength;var end="";if(availableLength>0)end=url.substr(-1*Math.floor(availableLength/2));return(url.substr(0,Math.ceil(availableLength/2))+ellipsisChars+end).substr(0,availableLength+ellipsisLengthBeforeParsing)}function truncateEnd(anchorText,truncateLen,ellipsisChars){return ellipsis(anchorText,truncateLen,ellipsisChars)}var anchor_tag_builder_AnchorTagBuilder=function(){function AnchorTagBuilder(cfg){if(void 0===cfg)cfg={};this.newWindow=false;this.truncate={};this.className="";this.newWindow=cfg.newWindow||false;this.truncate=cfg.truncate||{};this.className=cfg.className||""}AnchorTagBuilder.prototype.build=function(match){return new html_tag_HtmlTag({tagName:"a",attrs:this.createAttrs(match),innerHtml:this.processAnchorText(match.getAnchorText())})};AnchorTagBuilder.prototype.createAttrs=function(match){var attrs={href:match.getAnchorHref()};var cssClass=this.createCssClass(match);if(cssClass)attrs["class"]=cssClass;if(this.newWindow){attrs["target"]="_blank";attrs["rel"]="noopener noreferrer"}if(this.truncate){if(this.truncate.length&&this.truncate.length<match.getAnchorText().length)attrs["title"]=match.getAnchorHref()}return attrs};AnchorTagBuilder.prototype.createCssClass=function(match){var className=this.className;if(!className)return"";var returnClasses=[className],cssClassSuffixes=match.getCssClassSuffixes();for(var i=0,len=cssClassSuffixes.length;i<len;i++)returnClasses.push(className+"-"+cssClassSuffixes[i]);return returnClasses.join(" ")};AnchorTagBuilder.prototype.processAnchorText=function(anchorText){anchorText=this.doTruncate(anchorText);return anchorText};AnchorTagBuilder.prototype.doTruncate=function(anchorText){var truncate=this.truncate;if(!truncate||!truncate.length)return anchorText;var truncateLength=truncate.length,truncateLocation=truncate.location;if("smart"===truncateLocation)return truncateSmart(anchorText,truncateLength);if("middle"===truncateLocation)return truncateMiddle(anchorText,truncateLength);return truncateEnd(anchorText,truncateLength)};return AnchorTagBuilder}();var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var tslib_es6_assign=function(){tslib_es6_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return tslib_es6_assign.apply(this,arguments)};var abstract_match_AbstractMatch=function(){function AbstractMatch(cfg){this._=null;this.matchedText="";this.offset=0;this.tagBuilder=cfg.tagBuilder;this.matchedText=cfg.matchedText;this.offset=cfg.offset}AbstractMatch.prototype.getMatchedText=function(){return this.matchedText};AbstractMatch.prototype.setOffset=function(offset){this.offset=offset};AbstractMatch.prototype.getOffset=function(){return this.offset};AbstractMatch.prototype.getCssClassSuffixes=function(){return[this.type]};AbstractMatch.prototype.buildTag=function(){return this.tagBuilder.build(this)};return AbstractMatch}();var tldRegexStr="(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|verm\xf6gensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|verm\xf6gensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|موريتانيا|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|banamex|bauhaus|bentley|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|yamaxun|youtube|zuerich|католик|البحرين|الجزائر|العليان|پاکستان|كاثوليك|இந்தியா|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|lipsy|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|ישראל|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|アマゾン|グーグル|クラウド|ポイント|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ລາວ|ストア|セール|みんな|中文网|亚马逊|天主教|我爱你|新加坡|淡马锡|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|ευ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|广东|微博|慈善|手机|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)";var tldRegex=new RegExp("^"+tldRegexStr+"$");var urlSuffixStartCharsRe=/[\/?#]/;var urlSuffixAllowedSpecialCharsRe=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/;var urlSuffixNotAllowedAsLastCharRe=/[?!:,.;^]/;var httpSchemeRe=/https?:\/\//i;var httpSchemePrefixRe=new RegExp("^"+httpSchemeRe.source,"i");var urlSuffixedCharsNotAllowedAtEndRe=new RegExp(urlSuffixNotAllowedAsLastCharRe.source+"$");var invalidSchemeRe=/^(javascript|vbscript):/i;var schemeUrlRe=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/;var tldUrlHostRe=/^(?:\/\/)?([^/#?:]+)/;function isSchemeStartChar(char){return letterRe.test(char)}function isSchemeChar(char){return letterRe.test(char)||digitRe.test(char)||"+"===char||"-"===char||"."===char}function isDomainLabelStartChar(char){return regex_lib_alphaNumericAndMarksRe.test(char)}function isDomainLabelChar(char){return"_"===char||isDomainLabelStartChar(char)}function isPathChar(char){return regex_lib_alphaNumericAndMarksRe.test(char)||urlSuffixAllowedSpecialCharsRe.test(char)||urlSuffixNotAllowedAsLastCharRe.test(char)}function isUrlSuffixStartChar(char){return urlSuffixStartCharsRe.test(char)}function isKnownTld(tld){return tldRegex.test(tld.toLowerCase())}function isValidSchemeUrl(url){if(invalidSchemeRe.test(url))return false;var schemeMatch=url.match(schemeUrlRe);if(!schemeMatch)return false;var isAuthorityMatch=!!schemeMatch[1];var host=schemeMatch[2];if(isAuthorityMatch)return true;if(-1===host.indexOf(".")||!letterRe.test(host))return false;return true}function isValidTldMatch(url){var tldUrlHostMatch=url.match(tldUrlHostRe);if(!tldUrlHostMatch)return false;var host=tldUrlHostMatch[0];var hostLabels=host.split(".");if(hostLabels.length<2)return false;var tld=hostLabels[hostLabels.length-1];if(!isKnownTld(tld))return false;return true}var ipV4Re=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;var ipV4PartRe=/[:/?#]/;function isValidIpV4Address(url){var ipV4Part=url.split(ipV4PartRe,1)[0];return ipV4Re.test(ipV4Part)}var wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i;var protocolRelativeRegex=/^\/\//;var url_match_UrlMatch=function(_super){__extends(UrlMatch,_super);function UrlMatch(cfg){var _this=_super.call(this,cfg)||this;_this.type="url";_this.url="";_this.urlMatchType="scheme";_this.protocolRelativeMatch=false;_this.stripPrefix={scheme:true,www:true};_this.stripTrailingSlash=true;_this.decodePercentEncoding=true;_this.protocolPrepended=false;_this.urlMatchType=cfg.urlMatchType;_this.url=cfg.url;_this.protocolRelativeMatch=cfg.protocolRelativeMatch;_this.stripPrefix=cfg.stripPrefix;_this.stripTrailingSlash=cfg.stripTrailingSlash;_this.decodePercentEncoding=cfg.decodePercentEncoding;return _this}UrlMatch.prototype.getType=function(){return"url"};UrlMatch.prototype.getUrlMatchType=function(){return this.urlMatchType};UrlMatch.prototype.getUrl=function(){var url=this.url;if(!this.protocolRelativeMatch&&"scheme"!==this.urlMatchType&&!this.protocolPrepended){url=this.url="http://"+url;this.protocolPrepended=true}return url};UrlMatch.prototype.getAnchorHref=function(){var url=this.getUrl();return url.replace(/&amp;/g,"&")};UrlMatch.prototype.getAnchorText=function(){var anchorText=this.getMatchedText();if(this.protocolRelativeMatch)anchorText=stripProtocolRelativePrefix(anchorText);if(this.stripPrefix.scheme)anchorText=stripSchemePrefix(anchorText);if(this.stripPrefix.www)anchorText=stripWwwPrefix(anchorText);if(this.stripTrailingSlash)anchorText=removeTrailingSlash(anchorText);if(this.decodePercentEncoding)anchorText=removePercentEncoding(anchorText);return anchorText};return UrlMatch}(abstract_match_AbstractMatch);function stripSchemePrefix(url){return url.replace(httpSchemePrefixRe,"")}function stripWwwPrefix(url){return url.replace(wwwPrefixRegex,"$1")}function stripProtocolRelativePrefix(text){return text.replace(protocolRelativeRegex,"")}function removeTrailingSlash(anchorText){if("/"===anchorText.charAt(anchorText.length-1))anchorText=anchorText.slice(0,-1);return anchorText}function removePercentEncoding(anchorText){var preProcessedEntityAnchorText=anchorText.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(preProcessedEntityAnchorText)}catch(e){return preProcessedEntityAnchorText}}var mailtoSchemePrefixRe=/^mailto:/i;var emailLocalPartCharRegex=new RegExp("[".concat(alphaNumericAndMarksCharsStr,"!#$%&'*+/=?^_`{|}~-]"));function isEmailLocalPartStartChar(char){return regex_lib_alphaNumericAndMarksRe.test(char)}function isEmailLocalPartChar(char){return emailLocalPartCharRegex.test(char)}function isValidEmail(emailAddress){var emailAddressTld=emailAddress.split(".").pop()||"";return isKnownTld(emailAddressTld)}var email_match_EmailMatch=function(_super){__extends(EmailMatch,_super);function EmailMatch(cfg){var _this=_super.call(this,cfg)||this;_this.type="email";_this.email="";_this.email=cfg.email;return _this}EmailMatch.prototype.getType=function(){return"email"};EmailMatch.prototype.getEmail=function(){return this.email};EmailMatch.prototype.getAnchorHref=function(){return"mailto:"+this.email};EmailMatch.prototype.getAnchorText=function(){return this.email};return EmailMatch}(abstract_match_AbstractMatch);function isHashtagTextChar(char){return"_"===char||regex_lib_alphaNumericAndMarksRe.test(char)}function isValidHashtag(hashtag){return hashtag.length<=140}var hashtagServices=["twitter","facebook","instagram","tiktok","youtube"];var hashtag_match_HashtagMatch=function(_super){__extends(HashtagMatch,_super);function HashtagMatch(cfg){var _this=_super.call(this,cfg)||this;_this.type="hashtag";_this.serviceName="twitter";_this.hashtag="";_this.serviceName=cfg.serviceName;_this.hashtag=cfg.hashtag;return _this}HashtagMatch.prototype.getType=function(){return"hashtag"};HashtagMatch.prototype.getServiceName=function(){return this.serviceName};HashtagMatch.prototype.getHashtag=function(){return this.hashtag};HashtagMatch.prototype.getAnchorHref=function(){var serviceName=this.serviceName,hashtag=this.hashtag;switch(serviceName){case"twitter":return"https://twitter.com/hashtag/"+hashtag;case"facebook":return"https://www.facebook.com/hashtag/"+hashtag;case"instagram":return"https://instagram.com/explore/tags/"+hashtag;case"tiktok":return"https://www.tiktok.com/tag/"+hashtag;case"youtube":return"https://youtube.com/hashtag/"+hashtag;default:assertNever(serviceName);throw new Error("Invalid hashtag service: ".concat(serviceName))}};HashtagMatch.prototype.getAnchorText=function(){return"#"+this.hashtag};HashtagMatch.prototype.getCssClassSuffixes=function(){var cssClassSuffixes=_super.prototype.getCssClassSuffixes.call(this),serviceName=this.getServiceName();if(serviceName)cssClassSuffixes.push(serviceName);return cssClassSuffixes};return HashtagMatch}(abstract_match_AbstractMatch);var mentionRegexes={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/,youtube:/^@[-.·\w]{3,30}$/};var mentionTextCharRe=/[-\w.]/;function isMentionTextChar(char){return mentionTextCharRe.test(char)}function isValidMention(mention,serviceName){var re=mentionRegexes[serviceName];return re.test(mention)}var mentionServices=["twitter","instagram","soundcloud","tiktok","youtube"];var mention_match_MentionMatch=function(_super){__extends(MentionMatch,_super);function MentionMatch(cfg){var _this=_super.call(this,cfg)||this;_this.type="mention";_this.serviceName="twitter";_this.mention="";_this.mention=cfg.mention;_this.serviceName=cfg.serviceName;return _this}MentionMatch.prototype.getType=function(){return"mention"};MentionMatch.prototype.getMention=function(){return this.mention};MentionMatch.prototype.getServiceName=function(){return this.serviceName};MentionMatch.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;case"youtube":return"https://youtube.com/@"+this.mention;default:assertNever(this.serviceName);throw new Error("Unknown service name to point mention to: "+this.serviceName)}};MentionMatch.prototype.getAnchorText=function(){return"@"+this.mention};MentionMatch.prototype.getCssClassSuffixes=function(){var cssClassSuffixes=_super.prototype.getCssClassSuffixes.call(this),serviceName=this.getServiceName();if(serviceName)cssClassSuffixes.push(serviceName);return cssClassSuffixes};return MentionMatch}(abstract_match_AbstractMatch);var separatorCharRe=/[-. ]/;var hasDelimCharsRe=/[-. ()]/;var controlCharRe=/[,;]/;var mostPhoneNumbers=/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/;var japanesePhoneRe=/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/;var validPhoneNumberRe=new RegExp("^".concat(mostPhoneNumbers.source,"|").concat(japanesePhoneRe.source,"$"));function isPhoneNumberSeparatorChar(char){return separatorCharRe.test(char)}function isPhoneNumberControlChar(char){return controlCharRe.test(char)}function isValidPhoneNumber(phoneNumberText){var hasDelimiters="+"===phoneNumberText.charAt(0)||hasDelimCharsRe.test(phoneNumberText);return hasDelimiters&&validPhoneNumberRe.test(phoneNumberText)}var phone_match_PhoneMatch=function(_super){__extends(PhoneMatch,_super);function PhoneMatch(cfg){var _this=_super.call(this,cfg)||this;_this.type="phone";_this.number="";_this.plusSign=false;_this.number=cfg.number;_this.plusSign=cfg.plusSign;return _this}PhoneMatch.prototype.getType=function(){return"phone"};PhoneMatch.prototype.getPhoneNumber=function(){return this.number};PhoneMatch.prototype.getNumber=function(){return this.getPhoneNumber()};PhoneMatch.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number};PhoneMatch.prototype.getAnchorText=function(){return this.matchedText};return PhoneMatch}(abstract_match_AbstractMatch);function parseMatches(text,args){var tagBuilder=args.tagBuilder;var stripPrefix=args.stripPrefix;var stripTrailingSlash=args.stripTrailingSlash;var decodePercentEncoding=args.decodePercentEncoding;var hashtagServiceName=args.hashtagServiceName;var mentionServiceName=args.mentionServiceName;var matches=[];var textLen=text.length;var stateMachines=[];var charIdx=0;for(;charIdx<textLen;charIdx++){var char=text.charAt(charIdx);if(0===stateMachines.length)stateNoMatch(char);else{for(var stateIdx=stateMachines.length-1;stateIdx>=0;stateIdx--){var stateMachine=stateMachines[stateIdx];switch(stateMachine.state){case 11:stateProtocolRelativeSlash1(stateMachine,char);break;case 12:stateProtocolRelativeSlash2(stateMachine,char);break;case 0:stateSchemeChar(stateMachine,char);break;case 1:stateSchemeHyphen(stateMachine,char);break;case 2:stateSchemeColon(stateMachine,char);break;case 3:stateSchemeSlash1(stateMachine,char);break;case 4:stateSchemeSlash2(stateMachine,char);break;case 5:stateDomainLabelChar(stateMachine,char);break;case 6:stateDomainHyphen(stateMachine,char);break;case 7:stateDomainDot(stateMachine,char);break;case 13:stateIpV4Digit(stateMachine,char);break;case 14:stateIPv4Dot(stateMachine,char);break;case 8:statePortColon(stateMachine,char);break;case 9:statePortNumber(stateMachine,char);break;case 10:statePath(stateMachine,char);break;case 15:stateEmailMailto_M(stateMachine,char);break;case 16:stateEmailMailto_A(stateMachine,char);break;case 17:stateEmailMailto_I(stateMachine,char);break;case 18:stateEmailMailto_L(stateMachine,char);break;case 19:stateEmailMailto_T(stateMachine,char);break;case 20:stateEmailMailto_O(stateMachine,char);break;case 21:stateEmailMailtoColon(stateMachine,char);break;case 22:stateEmailLocalPart(stateMachine,char);break;case 23:stateEmailLocalPartDot(stateMachine,char);break;case 24:stateEmailAtSign(stateMachine,char);break;case 25:stateEmailDomainChar(stateMachine,char);break;case 26:stateEmailDomainHyphen(stateMachine,char);break;case 27:stateEmailDomainDot(stateMachine,char);break;case 28:stateHashtagHashChar(stateMachine,char);break;case 29:stateHashtagTextChar(stateMachine,char);break;case 30:stateMentionAtChar(stateMachine,char);break;case 31:stateMentionTextChar(stateMachine,char);break;case 32:statePhoneNumberOpenParen(stateMachine,char);break;case 33:statePhoneNumberAreaCodeDigit1(stateMachine,char);break;case 34:statePhoneNumberAreaCodeDigit2(stateMachine,char);break;case 35:statePhoneNumberAreaCodeDigit3(stateMachine,char);break;case 36:statePhoneNumberCloseParen(stateMachine,char);break;case 37:statePhoneNumberPlus(stateMachine,char);break;case 38:statePhoneNumberDigit(stateMachine,char);break;case 39:statePhoneNumberSeparator(stateMachine,char);break;case 40:statePhoneNumberControlChar(stateMachine,char);break;case 41:statePhoneNumberPoundChar(stateMachine,char);break;default:assertNever(stateMachine.state)}}if(charIdx>0&&isSchemeStartChar(char)){var prevChar=text.charAt(charIdx-1);if(!isSchemeStartChar(prevChar)&&!stateMachines.some(isSchemeUrlStateMachine))stateMachines.push(createSchemeUrlStateMachine(charIdx,0))}}}for(var i=stateMachines.length-1;i>=0;i--)stateMachines.forEach(function(stateMachine){return captureMatchIfValidAndRemove(stateMachine)});return matches;function stateNoMatch(char){if("#"===char)stateMachines.push(createHashtagStateMachine(charIdx,28));else if("@"===char)stateMachines.push(createMentionStateMachine(charIdx,30));else if("/"===char)stateMachines.push(createTldUrlStateMachine(charIdx,11));else if("+"===char)stateMachines.push(createPhoneNumberStateMachine(charIdx,37));else if("("===char)stateMachines.push(createPhoneNumberStateMachine(charIdx,32));else{if(digitRe.test(char)){stateMachines.push(createPhoneNumberStateMachine(charIdx,38));stateMachines.push(createIpV4UrlStateMachine(charIdx,13))}if(isEmailLocalPartStartChar(char)){var startState="m"===char.toLowerCase()?15:22;stateMachines.push(createEmailStateMachine(charIdx,startState))}if(isSchemeStartChar(char))stateMachines.push(createSchemeUrlStateMachine(charIdx,0));if(regex_lib_alphaNumericAndMarksRe.test(char))stateMachines.push(createTldUrlStateMachine(charIdx,5))}}function stateSchemeChar(stateMachine,char){if(":"===char)stateMachine.state=2;else if("-"===char)stateMachine.state=1;else isSchemeChar(char)||utils_remove(stateMachines,stateMachine)}function stateSchemeHyphen(stateMachine,char){if("-"===char);else if("/"===char){utils_remove(stateMachines,stateMachine);stateMachines.push(createTldUrlStateMachine(charIdx,11))}else if(isSchemeChar(char))stateMachine.state=0;else utils_remove(stateMachines,stateMachine)}function stateSchemeColon(stateMachine,char){if("/"===char)stateMachine.state=3;else if("."===char)utils_remove(stateMachines,stateMachine);else if(isDomainLabelStartChar(char)){stateMachine.state=5;if(isSchemeStartChar(char))stateMachines.push(createSchemeUrlStateMachine(charIdx,0))}else utils_remove(stateMachines,stateMachine)}function stateSchemeSlash1(stateMachine,char){if("/"===char)stateMachine.state=4;else if(isPathChar(char)){stateMachine.state=10;stateMachine.acceptStateReached=true}else captureMatchIfValidAndRemove(stateMachine)}function stateSchemeSlash2(stateMachine,char){if("/"===char)stateMachine.state=10;else if(isDomainLabelStartChar(char)){stateMachine.state=5;stateMachine.acceptStateReached=true}else utils_remove(stateMachines,stateMachine)}function stateProtocolRelativeSlash1(stateMachine,char){if("/"===char)stateMachine.state=12;else utils_remove(stateMachines,stateMachine)}function stateProtocolRelativeSlash2(stateMachine,char){if(isDomainLabelStartChar(char))stateMachine.state=5;else utils_remove(stateMachines,stateMachine)}function stateDomainLabelChar(stateMachine,char){if("."===char)stateMachine.state=7;else if("-"===char)stateMachine.state=6;else if(":"===char)stateMachine.state=8;else if(isUrlSuffixStartChar(char))stateMachine.state=10;else isDomainLabelChar(char)||captureMatchIfValidAndRemove(stateMachine)}function stateDomainHyphen(stateMachine,char){if("-"===char);else if("."===char)captureMatchIfValidAndRemove(stateMachine);else if(isDomainLabelStartChar(char))stateMachine.state=5;else captureMatchIfValidAndRemove(stateMachine)}function stateDomainDot(stateMachine,char){if("."===char)captureMatchIfValidAndRemove(stateMachine);else if(isDomainLabelStartChar(char)){stateMachine.state=5;stateMachine.acceptStateReached=true}else captureMatchIfValidAndRemove(stateMachine)}function stateIpV4Digit(stateMachine,char){if("."===char)stateMachine.state=14;else if(":"===char)stateMachine.state=8;else if(digitRe.test(char));else if(isUrlSuffixStartChar(char))stateMachine.state=10;else if(regex_lib_alphaNumericAndMarksRe.test(char))utils_remove(stateMachines,stateMachine);else captureMatchIfValidAndRemove(stateMachine)}function stateIPv4Dot(stateMachine,char){if(digitRe.test(char)){stateMachine.octetsEncountered++;if(4===stateMachine.octetsEncountered)stateMachine.acceptStateReached=true;stateMachine.state=13}else captureMatchIfValidAndRemove(stateMachine)}function statePortColon(stateMachine,char){if(digitRe.test(char))stateMachine.state=9;else captureMatchIfValidAndRemove(stateMachine)}function statePortNumber(stateMachine,char){if(digitRe.test(char));else if(isUrlSuffixStartChar(char))stateMachine.state=10;else captureMatchIfValidAndRemove(stateMachine)}function statePath(stateMachine,char){isPathChar(char)||captureMatchIfValidAndRemove(stateMachine)}function stateEmailMailto_M(stateMachine,char){if("a"===char.toLowerCase())stateMachine.state=16;else stateEmailLocalPart(stateMachine,char)}function stateEmailMailto_A(stateMachine,char){if("i"===char.toLowerCase())stateMachine.state=17;else stateEmailLocalPart(stateMachine,char)}function stateEmailMailto_I(stateMachine,char){if("l"===char.toLowerCase())stateMachine.state=18;else stateEmailLocalPart(stateMachine,char)}function stateEmailMailto_L(stateMachine,char){if("t"===char.toLowerCase())stateMachine.state=19;else stateEmailLocalPart(stateMachine,char)}function stateEmailMailto_T(stateMachine,char){if("o"===char.toLowerCase())stateMachine.state=20;else stateEmailLocalPart(stateMachine,char)}function stateEmailMailto_O(stateMachine,char){if(":"===char.toLowerCase())stateMachine.state=21;else stateEmailLocalPart(stateMachine,char)}function stateEmailMailtoColon(stateMachine,char){if(isEmailLocalPartChar(char))stateMachine.state=22;else utils_remove(stateMachines,stateMachine)}function stateEmailLocalPart(stateMachine,char){if("."===char)stateMachine.state=23;else if("@"===char)stateMachine.state=24;else if(isEmailLocalPartChar(char))stateMachine.state=22;else utils_remove(stateMachines,stateMachine)}function stateEmailLocalPartDot(stateMachine,char){if("."===char)utils_remove(stateMachines,stateMachine);else if("@"===char)utils_remove(stateMachines,stateMachine);else if(isEmailLocalPartChar(char))stateMachine.state=22;else utils_remove(stateMachines,stateMachine)}function stateEmailAtSign(stateMachine,char){if(isDomainLabelStartChar(char))stateMachine.state=25;else utils_remove(stateMachines,stateMachine)}function stateEmailDomainChar(stateMachine,char){if("."===char)stateMachine.state=27;else if("-"===char)stateMachine.state=26;else isDomainLabelChar(char)||captureMatchIfValidAndRemove(stateMachine)}function stateEmailDomainHyphen(stateMachine,char){if("-"===char||"."===char)captureMatchIfValidAndRemove(stateMachine);else if(isDomainLabelChar(char))stateMachine.state=25;else captureMatchIfValidAndRemove(stateMachine)}function stateEmailDomainDot(stateMachine,char){if("."===char||"-"===char)captureMatchIfValidAndRemove(stateMachine);else if(isDomainLabelStartChar(char)){stateMachine.state=25;stateMachine.acceptStateReached=true}else captureMatchIfValidAndRemove(stateMachine)}function stateHashtagHashChar(stateMachine,char){if(isHashtagTextChar(char)){stateMachine.state=29;stateMachine.acceptStateReached=true}else utils_remove(stateMachines,stateMachine)}function stateHashtagTextChar(stateMachine,char){isHashtagTextChar(char)||captureMatchIfValidAndRemove(stateMachine)}function stateMentionAtChar(stateMachine,char){if(isMentionTextChar(char)){stateMachine.state=31;stateMachine.acceptStateReached=true}else utils_remove(stateMachines,stateMachine)}function stateMentionTextChar(stateMachine,char){if(isMentionTextChar(char));else if(regex_lib_alphaNumericAndMarksRe.test(char))utils_remove(stateMachines,stateMachine);else captureMatchIfValidAndRemove(stateMachine)}function statePhoneNumberPlus(stateMachine,char){if(digitRe.test(char))stateMachine.state=38;else{utils_remove(stateMachines,stateMachine);stateNoMatch(char)}}function statePhoneNumberOpenParen(stateMachine,char){if(digitRe.test(char))stateMachine.state=33;else utils_remove(stateMachines,stateMachine);stateNoMatch(char)}function statePhoneNumberAreaCodeDigit1(stateMachine,char){if(digitRe.test(char))stateMachine.state=34;else utils_remove(stateMachines,stateMachine)}function statePhoneNumberAreaCodeDigit2(stateMachine,char){if(digitRe.test(char))stateMachine.state=35;else utils_remove(stateMachines,stateMachine)}function statePhoneNumberAreaCodeDigit3(stateMachine,char){if(")"===char)stateMachine.state=36;else utils_remove(stateMachines,stateMachine)}function statePhoneNumberCloseParen(stateMachine,char){if(digitRe.test(char))stateMachine.state=38;else if(isPhoneNumberSeparatorChar(char))stateMachine.state=39;else utils_remove(stateMachines,stateMachine)}function statePhoneNumberDigit(stateMachine,char){stateMachine.acceptStateReached=true;if(isPhoneNumberControlChar(char))stateMachine.state=40;else if("#"===char)stateMachine.state=41;else if(digitRe.test(char));else if("("===char)stateMachine.state=32;else if(isPhoneNumberSeparatorChar(char))stateMachine.state=39;else{captureMatchIfValidAndRemove(stateMachine);if(isSchemeStartChar(char))stateMachines.push(createSchemeUrlStateMachine(charIdx,0))}}function statePhoneNumberSeparator(stateMachine,char){if(digitRe.test(char))stateMachine.state=38;else if("("===char)stateMachine.state=32;else{captureMatchIfValidAndRemove(stateMachine);stateNoMatch(char)}}function statePhoneNumberControlChar(stateMachine,char){if(isPhoneNumberControlChar(char));else if("#"===char)stateMachine.state=41;else if(digitRe.test(char))stateMachine.state=38;else captureMatchIfValidAndRemove(stateMachine)}function statePhoneNumberPoundChar(stateMachine,char){if(isPhoneNumberControlChar(char))stateMachine.state=40;else if(digitRe.test(char))utils_remove(stateMachines,stateMachine);else captureMatchIfValidAndRemove(stateMachine)}function captureMatchIfValidAndRemove(stateMachine){utils_remove(stateMachines,stateMachine);if(!stateMachine.acceptStateReached)return;var startIdx=stateMachine.startIdx;var matchedText=text.slice(stateMachine.startIdx,charIdx);matchedText=excludeUnbalancedTrailingBracesAndPunctuation(matchedText);if("url"===stateMachine.type){var charBeforeUrlMatch=text.charAt(stateMachine.startIdx-1);if("@"===charBeforeUrlMatch)return;var urlMatchType=stateMachine.matchType;if("scheme"===urlMatchType){var httpSchemeMatch=httpSchemeRe.exec(matchedText);if(httpSchemeMatch){startIdx+=httpSchemeMatch.index;matchedText=matchedText.slice(httpSchemeMatch.index)}if(!isValidSchemeUrl(matchedText))return}else if("tld"===urlMatchType){if(!isValidTldMatch(matchedText))return}else if("ipV4"===urlMatchType){if(!isValidIpV4Address(matchedText))return}else assertNever(urlMatchType);matches.push(new url_match_UrlMatch({tagBuilder:tagBuilder,matchedText:matchedText,offset:startIdx,urlMatchType:urlMatchType,url:matchedText,protocolRelativeMatch:"//"===matchedText.slice(0,2),stripPrefix:stripPrefix,stripTrailingSlash:stripTrailingSlash,decodePercentEncoding:decodePercentEncoding}))}else if("email"===stateMachine.type){if(isValidEmail(matchedText))matches.push(new email_match_EmailMatch({tagBuilder:tagBuilder,matchedText:matchedText,offset:startIdx,email:matchedText.replace(mailtoSchemePrefixRe,"")}))}else if("hashtag"===stateMachine.type){if(isValidHashtag(matchedText))matches.push(new hashtag_match_HashtagMatch({tagBuilder:tagBuilder,matchedText:matchedText,offset:startIdx,serviceName:hashtagServiceName,hashtag:matchedText.slice(1)}))}else if("mention"===stateMachine.type){if(isValidMention(matchedText,mentionServiceName))matches.push(new mention_match_MentionMatch({tagBuilder:tagBuilder,matchedText:matchedText,offset:startIdx,serviceName:mentionServiceName,mention:matchedText.slice(1)}))}else if("phone"===stateMachine.type){matchedText=matchedText.replace(/ +$/g,"");if(isValidPhoneNumber(matchedText)){var cleanNumber=matchedText.replace(/[^0-9,;#]/g,"");matches.push(new phone_match_PhoneMatch({tagBuilder:tagBuilder,matchedText:matchedText,offset:startIdx,number:cleanNumber,plusSign:"+"===matchedText.charAt(0)}))}}else assertNever(stateMachine)}}var openBraceRe=/[\(\{\[]/;var closeBraceRe=/[\)\}\]]/;var oppositeBrace={")":"(","}":"{","]":"["};function excludeUnbalancedTrailingBracesAndPunctuation(matchedText){var braceCounts={"(":0,"{":0,"[":0};for(var i=0;i<matchedText.length;i++){var char_1=matchedText.charAt(i);if(openBraceRe.test(char_1))braceCounts[char_1]++;else if(closeBraceRe.test(char_1))braceCounts[oppositeBrace[char_1]]--}var endIdx=matchedText.length-1;var char;while(endIdx>=0){char=matchedText.charAt(endIdx);if(closeBraceRe.test(char)){var oppositeBraceChar=oppositeBrace[char];if(braceCounts[oppositeBraceChar]<0){braceCounts[oppositeBraceChar]++;endIdx--}else break}else if(urlSuffixedCharsNotAllowedAtEndRe.test(char))endIdx--;else break}return matchedText.slice(0,endIdx+1)}function createSchemeUrlStateMachine(startIdx,state){return{type:"url",startIdx:startIdx,state:state,acceptStateReached:false,matchType:"scheme"}}function createTldUrlStateMachine(startIdx,state){return{type:"url",startIdx:startIdx,state:state,acceptStateReached:false,matchType:"tld"}}function createIpV4UrlStateMachine(startIdx,state){return{type:"url",startIdx:startIdx,state:state,acceptStateReached:false,matchType:"ipV4",octetsEncountered:1}}function createEmailStateMachine(startIdx,state){return{type:"email",startIdx:startIdx,state:state,acceptStateReached:false}}function createHashtagStateMachine(startIdx,state){return{type:"hashtag",startIdx:startIdx,state:state,acceptStateReached:false}}function createMentionStateMachine(startIdx,state){return{type:"mention",startIdx:startIdx,state:state,acceptStateReached:false}}function createPhoneNumberStateMachine(startIdx,state){return{type:"phone",startIdx:startIdx,state:state,acceptStateReached:false}}function isSchemeUrlStateMachine(machine){return"url"===machine.type&&"scheme"===machine.matchType}function parseHtml(html,_a){var onOpenTag=_a.onOpenTag,onCloseTag=_a.onCloseTag,onText=_a.onText,onComment=_a.onComment,onDoctype=_a.onDoctype;var noCurrentTag=new parse_html_CurrentTag;var charIdx=0,len=html.length,state=0,currentDataIdx=0,currentTag=noCurrentTag;while(charIdx<len){var char=html.charAt(charIdx);switch(state){case 0:stateData(char);break;case 1:stateTagOpen(char);break;case 2:stateEndTagOpen(char);break;case 3:stateTagName(char);break;case 4:stateBeforeAttributeName(char);break;case 5:stateAttributeName(char);break;case 6:stateAfterAttributeName(char);break;case 7:stateBeforeAttributeValue(char);break;case 8:stateAttributeValueDoubleQuoted(char);break;case 9:stateAttributeValueSingleQuoted(char);break;case 10:stateAttributeValueUnquoted(char);break;case 11:stateAfterAttributeValueQuoted(char);break;case 12:stateSelfClosingStartTag(char);break;case 13:stateMarkupDeclarationOpen(char);break;case 14:stateCommentStart(char);break;case 15:stateCommentStartDash(char);break;case 16:stateComment(char);break;case 17:stateCommentEndDash(char);break;case 18:stateCommentEnd(char);break;case 19:stateCommentEndBang(char);break;case 20:stateDoctype(char);break;default:assertNever(state)}charIdx++}if(currentDataIdx<charIdx)emitText();function stateData(char){if("<"===char)startNewTag()}function stateTagOpen(char){if("!"===char)state=13;else if("/"===char){state=2;currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{isClosing:true}))}else if("<"===char)startNewTag();else if(letterRe.test(char)){state=3;currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{isOpening:true}))}else{state=0;currentTag=noCurrentTag}}function stateTagName(char){if(whitespaceRe.test(char)){currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{name:captureTagName()}));state=4}else if("<"===char)startNewTag();else if("/"===char){currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{name:captureTagName()}));state=12}else if(">"===char){currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{name:captureTagName()}));emitTagAndPreviousTextNode()}else if(!letterRe.test(char)&&!digitRe.test(char)&&":"!==char)resetToDataState()}function stateEndTagOpen(char){if(">"===char)resetToDataState();else if(letterRe.test(char))state=3;else resetToDataState()}function stateBeforeAttributeName(char){if(whitespaceRe.test(char));else if("/"===char)state=12;else if(">"===char)emitTagAndPreviousTextNode();else if("<"===char)startNewTag();else if("="===char||quoteRe.test(char)||controlCharsRe.test(char))resetToDataState();else state=5}function stateAttributeName(char){if(whitespaceRe.test(char))state=6;else if("/"===char)state=12;else if("="===char)state=7;else if(">"===char)emitTagAndPreviousTextNode();else if("<"===char)startNewTag();else if(quoteRe.test(char))resetToDataState()}function stateAfterAttributeName(char){if(whitespaceRe.test(char));else if("/"===char)state=12;else if("="===char)state=7;else if(">"===char)emitTagAndPreviousTextNode();else if("<"===char)startNewTag();else if(quoteRe.test(char))resetToDataState();else state=5}function stateBeforeAttributeValue(char){if(whitespaceRe.test(char));else if('"'===char)state=8;else if("'"===char)state=9;else if(/[>=`]/.test(char))resetToDataState();else if("<"===char)startNewTag();else state=10}function stateAttributeValueDoubleQuoted(char){if('"'===char)state=11}function stateAttributeValueSingleQuoted(char){if("'"===char)state=11}function stateAttributeValueUnquoted(char){if(whitespaceRe.test(char))state=4;else if(">"===char)emitTagAndPreviousTextNode();else if("<"===char)startNewTag()}function stateAfterAttributeValueQuoted(char){if(whitespaceRe.test(char))state=4;else if("/"===char)state=12;else if(">"===char)emitTagAndPreviousTextNode();else if("<"===char)startNewTag();else{state=4;reconsumeCurrentCharacter()}}function stateSelfClosingStartTag(char){if(">"===char){currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{isClosing:true}));emitTagAndPreviousTextNode()}else state=4}function stateMarkupDeclarationOpen(char){if("--"===html.substr(charIdx,2)){charIdx+=2;currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{type:"comment"}));state=14}else if("DOCTYPE"===html.substr(charIdx,7).toUpperCase()){charIdx+=7;currentTag=new parse_html_CurrentTag(tslib_es6_assign(tslib_es6_assign({},currentTag),{type:"doctype"}));state=20}else resetToDataState()}function stateCommentStart(char){if("-"===char)state=15;else if(">"===char)resetToDataState();else state=16}function stateCommentStartDash(char){if("-"===char)state=18;else if(">"===char)resetToDataState();else state=16}function stateComment(char){if("-"===char)state=17}function stateCommentEndDash(char){state="-"===char?18:16}function stateCommentEnd(char){if(">"===char)emitTagAndPreviousTextNode();else if("!"===char)state=19;else"-"===char||(state=16)}function stateCommentEndBang(char){if("-"===char)state=17;else if(">"===char)emitTagAndPreviousTextNode();else state=16}function stateDoctype(char){if(">"===char)emitTagAndPreviousTextNode();else if("<"===char)startNewTag()}function resetToDataState(){state=0;currentTag=noCurrentTag}function startNewTag(){state=1;currentTag=new parse_html_CurrentTag({idx:charIdx})}function emitTagAndPreviousTextNode(){var textBeforeTag=html.slice(currentDataIdx,currentTag.idx);if(textBeforeTag)onText(textBeforeTag,currentDataIdx);if("comment"===currentTag.type)onComment(currentTag.idx);else if("doctype"===currentTag.type)onDoctype(currentTag.idx);else{if(currentTag.isOpening)onOpenTag(currentTag.name,currentTag.idx);if(currentTag.isClosing)onCloseTag(currentTag.name,currentTag.idx)}resetToDataState();currentDataIdx=charIdx+1}function emitText(){var text=html.slice(currentDataIdx,charIdx);onText(text,currentDataIdx);currentDataIdx=charIdx+1}function captureTagName(){var startIdx=currentTag.idx+(currentTag.isClosing?2:1);return html.slice(startIdx,charIdx).toLowerCase()}function reconsumeCurrentCharacter(){charIdx--}}var parse_html_CurrentTag=function(){function CurrentTag(cfg){if(void 0===cfg)cfg={};this.idx=void 0!==cfg.idx?cfg.idx:-1;this.type=cfg.type||"tag";this.name=cfg.name||"";this.isOpening=!!cfg.isOpening;this.isClosing=!!cfg.isClosing}return CurrentTag}();var autolinker_Autolinker=function(){function Autolinker(cfg){if(void 0===cfg)cfg={};this.version=Autolinker.version;this.urls={};this.email=true;this.phone=true;this.hashtag=false;this.mention=false;this.newWindow=true;this.stripPrefix={scheme:true,www:true};this.stripTrailingSlash=true;this.decodePercentEncoding=true;this.truncate={length:0,location:"end"};this.className="";this.replaceFn=null;this.context=void 0;this.sanitizeHtml=false;this.tagBuilder=null;this.urls=normalizeUrlsCfg(cfg.urls);this.email=isBoolean(cfg.email)?cfg.email:this.email;this.phone=isBoolean(cfg.phone)?cfg.phone:this.phone;this.hashtag=cfg.hashtag||this.hashtag;this.mention=cfg.mention||this.mention;this.newWindow=isBoolean(cfg.newWindow)?cfg.newWindow:this.newWindow;this.stripPrefix=normalizeStripPrefixCfg(cfg.stripPrefix);this.stripTrailingSlash=isBoolean(cfg.stripTrailingSlash)?cfg.stripTrailingSlash:this.stripTrailingSlash;this.decodePercentEncoding=isBoolean(cfg.decodePercentEncoding)?cfg.decodePercentEncoding:this.decodePercentEncoding;this.sanitizeHtml=cfg.sanitizeHtml||false;var mention=this.mention;if(false!==mention&&-1===mentionServices.indexOf(mention))throw new Error("invalid `mention` cfg '".concat(mention,"' - see docs"));var hashtag=this.hashtag;if(false!==hashtag&&-1===hashtagServices.indexOf(hashtag))throw new Error("invalid `hashtag` cfg '".concat(hashtag,"' - see docs"));this.truncate=normalizeTruncateCfg(cfg.truncate);this.className=cfg.className||this.className;this.replaceFn=cfg.replaceFn||this.replaceFn;this.context=cfg.context||this}Autolinker.link=function(textOrHtml,options){var autolinker=new Autolinker(options);return autolinker.link(textOrHtml)};Autolinker.parse=function(textOrHtml,options){var autolinker=new Autolinker(options);return autolinker.parse(textOrHtml)};Autolinker.prototype.parse=function(textOrHtml){var _this=this;var skipTagNames=["a","style","script"],skipTagsStackCount=0,matches=[];parseHtml(textOrHtml,{onOpenTag:function(tagName){if(skipTagNames.indexOf(tagName)>=0)skipTagsStackCount++},onText:function(text,offset){if(0===skipTagsStackCount){var htmlCharacterEntitiesRegex=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi;var textSplit=text.split(htmlCharacterEntitiesRegex);var currentOffset_1=offset;textSplit.forEach(function(splitText,i){if(i%2===0){var textNodeMatches=_this.parseText(splitText,currentOffset_1);matches.push.apply(matches,textNodeMatches)}currentOffset_1+=splitText.length})}},onCloseTag:function(tagName){if(skipTagNames.indexOf(tagName)>=0)skipTagsStackCount=Math.max(skipTagsStackCount-1,0)},onComment:function(_offset){},onDoctype:function(_offset){}});matches=this.compactMatches(matches);matches=this.removeUnwantedMatches(matches);return matches};Autolinker.prototype.compactMatches=function(matches){matches.sort(function(a,b){return a.getOffset()-b.getOffset()});var i=0;while(i<matches.length-1){var match=matches[i],offset=match.getOffset(),matchedTextLength=match.getMatchedText().length,endIdx=offset+matchedTextLength;if(i+1<matches.length){if(matches[i+1].getOffset()===offset){var removeIdx=matches[i+1].getMatchedText().length>matchedTextLength?i:i+1;matches.splice(removeIdx,1);continue}if(matches[i+1].getOffset()<endIdx){matches.splice(i+1,1);continue}}i++}return matches};Autolinker.prototype.removeUnwantedMatches=function(matches){if(!this.hashtag)removeWithPredicate(matches,function(match){return"hashtag"===match.getType()});if(!this.email)removeWithPredicate(matches,function(match){return"email"===match.getType()});if(!this.phone)removeWithPredicate(matches,function(match){return"phone"===match.getType()});if(!this.mention)removeWithPredicate(matches,function(match){return"mention"===match.getType()});if(!this.urls.schemeMatches)removeWithPredicate(matches,function(m){return"url"===m.getType()&&"scheme"===m.getUrlMatchType()});if(!this.urls.tldMatches)removeWithPredicate(matches,function(m){return"url"===m.getType()&&"tld"===m.getUrlMatchType()});if(!this.urls.ipV4Matches)removeWithPredicate(matches,function(m){return"url"===m.getType()&&"ipV4"===m.getUrlMatchType()});return matches};Autolinker.prototype.parseText=function(text,offset){if(void 0===offset)offset=0;offset=offset||0;var matches=parseMatches(text,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"});for(var i=0,numTextMatches=matches.length;i<numTextMatches;i++)matches[i].setOffset(offset+matches[i].getOffset());return matches};Autolinker.prototype.link=function(textOrHtml){if(!textOrHtml)return"";if(this.sanitizeHtml)textOrHtml=textOrHtml.replace(/</g,"&lt;").replace(/>/g,"&gt;");var matches=this.parse(textOrHtml),newHtml=[],lastIndex=0;for(var i=0,len=matches.length;i<len;i++){var match=matches[i];newHtml.push(textOrHtml.substring(lastIndex,match.getOffset()));newHtml.push(this.createMatchReturnVal(match));lastIndex=match.getOffset()+match.getMatchedText().length}newHtml.push(textOrHtml.substring(lastIndex));return newHtml.join("")};Autolinker.prototype.createMatchReturnVal=function(match){var replaceFnResult;if(this.replaceFn)replaceFnResult=this.replaceFn.call(this.context,match);if("string"==typeof replaceFnResult)return replaceFnResult;if(false===replaceFnResult)return match.getMatchedText();if(replaceFnResult instanceof html_tag_HtmlTag)return replaceFnResult.toAnchorString();var anchorTag=match.buildTag();return anchorTag.toAnchorString()};Autolinker.prototype.getTagBuilder=function(){var tagBuilder=this.tagBuilder;if(!tagBuilder)tagBuilder=this.tagBuilder=new anchor_tag_builder_AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className});return tagBuilder};Autolinker.version=version_version;return Autolinker}();const es2015_autolinker=autolinker_Autolinker;function normalizeUrlsCfg(urls){if(null==urls)urls=true;if(isBoolean(urls))return{schemeMatches:urls,tldMatches:urls,ipV4Matches:urls};return{schemeMatches:isBoolean(urls.schemeMatches)?urls.schemeMatches:true,tldMatches:isBoolean(urls.tldMatches)?urls.tldMatches:true,ipV4Matches:isBoolean(urls.ipV4Matches)?urls.ipV4Matches:true}}function normalizeStripPrefixCfg(stripPrefix){if(null==stripPrefix)stripPrefix=true;if(isBoolean(stripPrefix))return{scheme:stripPrefix,www:stripPrefix};return{scheme:isBoolean(stripPrefix.scheme)?stripPrefix.scheme:true,www:isBoolean(stripPrefix.www)?stripPrefix.www:true}}function normalizeTruncateCfg(truncate){if("number"==typeof truncate)return{length:truncate,location:"end"};return defaults(truncate||{},{length:Number.POSITIVE_INFINITY,location:"end"})}const es2015=es2015_autolinker;var players=__webpack_require__(1051);var ModalProvider=__webpack_require__(3102);const svg_arc_f=([[t,s],[c,o]],[a,r])=>[t*a+s*r,c*a+o*r],svg_arc_j=t=>[[Math.cos(t),-Math.sin(t)],[Math.sin(t),Math.cos(t)]],svg_arc_p=([t,s],[c,o])=>[t+c,s+o],svg_arc_i=t=>t/180*Math.PI,svg_arc_u=t=>{const{x:s,y:c,r:o,start:a,end:r,rotate:x=0}=t,d=s,I=c,e=o,h=o,n=svg_arc_i(a),M=(svg_arc_i(r)-n)%(2*Math.PI),P=svg_arc_i(x),A=svg_arc_j(P),[y,R]=svg_arc_p(svg_arc_f(A,[e*Math.cos(n),h*Math.sin(n)]),[d,I]),[V,X]=svg_arc_p(svg_arc_f(A,[e*Math.cos(n+M),h*Math.sin(n+M)]),[d,I]),Y=M>Math.PI?1:0,g=M>0?1:0;return["M",y,R,"A",e,h,P/(2*Math.PI)*360,Y,g,V,X].join(" ")};var PreloadImage=__webpack_require__(8930);var Alert=__webpack_require__(1364);var ThemeProvider_theme=__webpack_require__(3823);var constants=__webpack_require__(5274);function helpers_i(n,e=""){return Object.entries(n).reduce((o,[s,r])=>{const t=`${e?`${e}-`:""}${(0,lodash.kebabCase)(s)}`;return`
      ${o}
      ${(0,lodash.isObject)(r)?helpers_i(r,t):`--${constants.A7}-${t}: ${(0,lodash.isNumber)(r)?`${r}`:r};`}
    `},"").replace(/^\s*[\r\n]/gm,"")}var store=__webpack_require__(499);var emotion_cache_browser_esm=__webpack_require__(6300);var Documents_dev_hakit_component_test_node_modules_react_index_js_eager_=__webpack_require__(4423);var util_noop=function(){};function util_on(obj){var args=[];for(var _i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(obj&&obj.addEventListener)obj.addEventListener.apply(obj,args)}function off(obj){var args=[];for(var _i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(obj&&obj.removeEventListener)obj.removeEventListener.apply(obj,args)}var util_isBrowser="undefined"!=typeof window;var defaultTarget=util_isBrowser?window:null;var isListenerType1=function(target){return!!target.addEventListener};var isListenerType2=function(target){return!!target.on};var useEvent=function(name,handler,target,options){if(void 0===target)target=defaultTarget;(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(function(){if(!handler)return;if(!target)return;if(isListenerType1(target))util_on(target,name,handler,options);else if(isListenerType2(target))target.on(name,handler,options);return function(){if(isListenerType1(target))off(target,name,handler,options);else if(isListenerType2(target))target.off(name,handler,options)}},[name,handler,target,JSON.stringify(options)])};const esm_useEvent=useEvent;var createKeyPredicate=function(keyFilter){return"function"==typeof keyFilter?keyFilter:"string"==typeof keyFilter?function(event){return event.key===keyFilter}:keyFilter?function(){return true}:function(){return false}};var useKey=function(key,fn,opts,deps){if(void 0===fn)fn=util_noop;if(void 0===opts)opts={};if(void 0===deps)deps=[key];var _a=opts.event,event=void 0===_a?"keydown":_a,target=opts.target,options=opts.options;var useMemoHandler=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useMemo)(function(){var predicate=createKeyPredicate(key);var handler=function(handlerEvent){if(predicate(handlerEvent))return fn(handlerEvent)};return handler},deps);esm_useEvent(event,useMemoHandler,target,options)};const esm_useKey=useKey;var useKeyPress_useKeyPress=function(keyFilter){var _a=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useState)([false,null]),state=_a[0],set=_a[1];esm_useKey(keyFilter,function(event){return set([true,event])},{event:"keydown"},[state]);esm_useKey(keyFilter,function(event){return set([false,event])},{event:"keyup"},[state]);return state};const useKeyPress=useKeyPress_useKeyPress;function useTimeoutFn(fn,ms){if(void 0===ms)ms=0;var ready=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(false);var timeout=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)();var callback=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(fn);var isReady=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useCallback)(function(){return ready.current},[]);var set=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useCallback)(function(){ready.current=false;timeout.current&&clearTimeout(timeout.current);timeout.current=setTimeout(function(){ready.current=true;callback.current()},ms)},[ms]);var clear=(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useCallback)(function(){ready.current=null;timeout.current&&clearTimeout(timeout.current)},[]);(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(function(){callback.current=fn},[fn]);(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(function(){set();return clear},[ms]);return[isReady,clear,set]}function useDebounce(fn,ms,deps){if(void 0===ms)ms=0;if(void 0===deps)deps=[];var _a=useTimeoutFn(fn,ms),isReady=_a[0],cancel=_a[1],reset=_a[2];(0,Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(reset,deps);return[isReady,cancel]}const shared_r={start:"mdi:play",pause:"mdi:pause",stop:"mdi:stop",on:"mdi:play",off:"mdi:stop",paused:"mdi:pause",returning:"mdi:home-map-marker",returnToBase:"mdi:home-map-marker",cleanSpot:"mdi:map-marker",locate:"mdi:map-marker",cleaning:"mdi:play",docked:"mdi:home-map-marker",idle:"mdi:play",error:"mdi:alert",unknown:"mdi:alert"},shared_n=({entity:e,shortcuts:t=[],onLocate:i})=>{const s=t;switch(e.state){case"on":case"auto":case"spot":case"edge":case"single_room":case"mowing":case"edgecut":case"cleaning":return[{title:(0,index_js_.localize)("pause"),icon:shared_r.pause,onClick:()=>e.service.pause()},{title:(0,index_js_.localize)("stop"),icon:shared_r.stop,onClick:()=>e.service.stop()},{title:(0,index_js_.localize)("return_home"),icon:shared_r.returning,onClick:()=>e.service.returnToBase()},...s];case"paused":return[{title:(0,index_js_.localize)("start"),icon:shared_r.on,onClick:()=>e.service.start()},{title:(0,index_js_.localize)("stop"),icon:shared_r.stop,onClick:()=>e.service.stop()},{title:(0,index_js_.localize)("return_home"),icon:shared_r.returning,onClick:()=>e.service.returnToBase()},...s];case"returning":return[{title:(0,index_js_.localize)("start"),icon:shared_r.on,onClick:()=>e.service.start()},{title:(0,index_js_.localize)("pause"),icon:shared_r.pause,onClick:()=>e.service.pause()},...s];case"docked":case"idle":default:{const c=[{title:(0,index_js_.localize)("start"),icon:shared_r.on,onClick:()=>e.service.start()},{title:(0,index_js_.localize)("locate"),icon:shared_r.cleanSpot,onClick:()=>{e.service.locate(),"function"==typeof i&&i()}}];return"idle"===e.state&&c.push({title:(0,index_js_.localize)("return_home"),icon:shared_r.returning,onClick:()=>e.service.returnToBase()}),[...c,...s]}}};const VacuumImage_a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAylpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAxIDc5LjE0NjI4OTk3NzcsIDIwMjMvMDYvMjUtMjM6NTc6MTQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyNS4yIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg0NDhGNzNDMDZDNjExRUZCQ0ZEODI1NzMxMTA5QTUxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg0NDhGNzNEMDZDNjExRUZCQ0ZEODI1NzMxMTA5QTUxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjFBQzM1N0YwNkM2MTFFRkJDRkQ4MjU3MzExMDlBNTEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjFBQzM1ODAwNkM2MTFFRkJDRkQ4MjU3MzExMDlBNTEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4VcOOVAACXxElEQVR4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",VacuumImage_h=(0,emotion_react_browser_esm_js_.keyframes)`
  0% {
    transform: rotate(0) translate(0);
  }
  5% {
    transform: rotate(0) translate(0, -10px);
  }
  10% {
    transform: rotate(0) translate(0, 5px);
  }
  15% {
    transform: rotate(0) translate(0);
  }
  /* Turn left */
  20% {
    transform: rotate(30deg) translate(0);
  }
  25% {
    transform: rotate(30deg) translate(0, -10px);
  }
  30% {
    transform: rotate(30deg) translate(0, 5px);
  }
  35% {
    transform: rotate(30deg) translate(0);
  }
  40% {
    transform: rotate(0) translate(0);
  }
  /* Turn right */
  45% {
    transform: rotate(-30deg) translate(0);
  }
  50% {
    transform: rotate(-30deg) translate(0, -10px);
  }
  55% {
    transform: rotate(-30deg) translate(0, 5px);
  }
  60% {
    transform: rotate(-30deg) translate(0);
  }
  70% {
    transform: rotate(0deg) translate(0);
  }
  /* Staying still */
  100% {
    transform: rotate(0deg);
  }
`,VacuumImage_o=(0,emotion_react_browser_esm_js_.keyframes)`
  0% {
    transform: rotate(0);
  }
  25% {
    transform: rotate(10deg);
  }
  50% {
    transform: rotate(0);
  }
  75% {
    transform: rotate(-10deg);
  }
  100% {
    transform: rotate(0);
  }
`,VacuumImage_i=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("img",{target:"e1vxbsg90"})("width:80%;image-rendering:crisp-edges;cursor:pointer;filter:brightness(0.9);transition:opacity var(--ha-transition-duration) var(--ha-easing);&.on,&.cleaning,&.mowing,&.edgecut,&.auto,&.spot,&.edge,&.single_room{animation:",VacuumImage_h," 5s linear infinite;}&.returning{animation:",VacuumImage_o," 2s linear infinite;}&.paused{opacity:100%;}&.docked{opacity:0.5;}");function VacuumImage_C({src:e=VacuumImage_a,...R}){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(VacuumImage_i,{src:e,...R})}const constants_o=30;const ae=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"erk7x4w0"})({name:"10ku7y1",styles:'overflow-x:hidden!important;display:flex!important;flex-direction:row!important;position:relative;width:var(--ha-marquee-width);transform:var(--ha-marquee-transform);&:hover div{animation-play-state:var(--ha-marquee-pause-on-hover);}&:active div{animation-play-state:var(--ha-marquee-pause-on-click);}.overlay{position:absolute;width:100%;height:100%;&::before,&::after{background:linear-gradient(to right, var(--ha-marquee-gradient-color));content:"";height:100%;position:absolute;width:var(--ha-marquee-gradient-width);z-index:2;}&::after{right:0;top:0;transform:rotateZ(180deg);}&::before{left:0;top:0;}}.marquee{flex:0 0 auto;min-width:var(--ha-marquee-min-width);z-index:1;display:flex;flex-direction:row;align-items:center;animation:scroll var(--ha-marquee-duration) linear var(--ha-marquee-delay) var(--ha-marquee-iteration-count);animation-play-state:var(--ha-marquee-play);animation-delay:var(--ha-marquee-delay);animation-direction:var(--ha-marquee-direction);@keyframes scroll{0%{transform:translateX(0%);}100%{transform:translateX(-100%);}}}.initial-child-container{flex:0 0 auto;display:flex;min-width:auto;flex-direction:row;}.child{transform:var(--ha-marquee-transform);&.last-child{padding-right:var(--ha-marquee-padding-right);}}'}),oe=(0,index_js_eager_.forwardRef)(function({style:I={},className:O="",autoFill:r=!1,play:u=!0,pauseOnHover:x=!1,pauseOnClick:b=!1,direction:e="left",speed:f=50,delay:z=0,loop:N=0,gradient:B=!1,gradientColor:R=[255,255,255],gradientWidth:v=200,onFinish:G,onCycleComplete:T,onMount:S,children:o},V){const[$,Z]=(0,index_js_eager_.useState)(0),[q,Y]=(0,index_js_eager_.useState)(0),[p,A]=(0,index_js_eager_.useState)(1),[k,J]=(0,index_js_eager_.useState)(!1),K=(0,index_js_eager_.useRef)(null),t=V||K,l=(0,index_js_eager_.useRef)(null),m=(0,index_js_eager_.useRef)(null),d=(0,index_js_eager_.useCallback)(()=>{if(l.current&&t.current){const a=t.current.getBoundingClientRect(),h=l.current.getBoundingClientRect();let n=a.width,i=h.width;("up"===e||"down"===e)&&(n=a.height,i=h.height),A(r&&n&&i&&i<n?Math.ceil(n/i):1),Z(n),Y(i)}},[r,t,e]);(0,index_js_eager_.useEffect)(()=>{k&&(d(),l.current&&t.current&&(m.current=new ResizeObserver(()=>d()),m.current.observe(t.current),m.current.observe(l.current)))},[d,t,k]),(0,index_js_eager_.useEffect)(()=>{d()},[d,o]),(0,index_js_eager_.useEffect)(()=>(J(!0),()=>{m.current&&m.current.disconnect()}),[]),(0,index_js_eager_.useEffect)(()=>{"function"==typeof S&&S()},[S]);const j=(0,index_js_eager_.useMemo)(()=>r?q*p/f:q<$?$/f:q/f,[r,$,q,p,f]),E=`rgba(${R[0]}, ${R[1]}, ${R[2]}`,L1=(0,index_js_eager_.useMemo)(()=>({...I,"--ha-marquee-pause-on-hover":!u||x?"paused":"running","--ha-marquee-pause-on-click":!u||x&&!b||b?"paused":"running","--ha-marquee-width":"up"===e||"down"===e?"100vh":"100%","--ha-marquee-transform":"up"===e?"rotate(-90deg)":"down"===e?"rotate(90deg)":"none"}),[I,u,x,b,e]),P=(0,index_js_eager_.useMemo)(()=>({"--ha-marquee-gradient-color":`${E}, 1), ${E}, 0)`,"--ha-marquee-gradient-width":"number"==typeof v?`${v}px`:v}),[E,v]),C=(0,index_js_eager_.useMemo)(()=>({"--ha-marquee-play":u?"running":"paused","--ha-marquee-direction":"left"===e?"normal":"reverse","--ha-marquee-duration":`${j}s`,"--ha-marquee-delay":`${z}s`,"--ha-marquee-iteration-count":N>0?`${N}`:"infinite","--ha-marquee-min-width":r?"auto":"100%","--ha-marquee-padding-right":r?"4rem":"0"}),[u,e,j,z,N,r]),M=(0,index_js_eager_.useMemo)(()=>({"--ha-marquee-transform":"up"===e?"rotate(90deg)":"down"===e?"rotate(-90deg)":"none"}),[e]),W=(0,index_js_eager_.useCallback)(a=>[...Array(Number.isFinite(a)&&a>=0?a:0)].map((h,n)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(index_js_eager_.Fragment,{children:index_js_eager_.Children.map(o,(i,Q)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{style:M,className:`child ${Q===index_js_eager_.Children.toArray(o).length-1?"last-child":""}`,children:i}))},n)),[M,o]);return k?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(ae,{ref:t,style:L1,className:"marquee-container "+O,children:[B&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{style:P,className:"overlay"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"marquee",style:C,onAnimationIteration:T,onAnimationEnd:G,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"initial-child-container",ref:l,children:index_js_eager_.Children.map(o,(a,h)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{style:M,className:`child ${h===index_js_eager_.Children.toArray(o).length-1?"last-child":""}`,children:a}))}),W(p-1)]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"marquee",style:C,children:W(p)})]}):null});const Thumbnail_i=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eziejri0"})("width:",e=>e.size,";height:",e=>e.size,";flex-shrink:0;overflow:hidden;border-radius:0.5rem;background-size:cover;background-repeat:no-repeat;",e=>e.backgroundImage&&`background-image: url('${e.backgroundImage}');`,";");const Clock_o=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1vb29qx0"})("position:absolute;bottom:0.5rem;left:0;opacity:0;transition:opacity var(--ha-transition-duration) var(--ha-easing);padding:0.2rem;font-size:0.8rem;background:var(--ha-S200);z-index:1;border-radius:0.25rem;pointer-events:none;transform:translateX(-50%);",t=>`
      &:before {
        content: var(--progress-${t.entity}-clock, '');
      }
    `,";");const ProgressBar_t=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1px4q8d0"})(o=>`
  position: absolute;
  bottom: 0;
  left: 0;
  padding-top: 0.5rem;
  border-radius: 0.25rem;
  overflow: hidden;
  width: 100%;
  z-index: 1;
  cursor: pointer;
  span {
    background: rgba(255,255,255,0.2);
    height: 0.3rem;
    position: relative;
    width: 100%;
    display: block;
    &:before {
      content: '';
      position: absolute;
      inset: 0;
      background: var(--ha-300);
      width: var(--progress-${o.entity}-width, 100%);
    }
  }
  &.disabled {
    cursor: not-allowed;
    span {
      &:before {
        background: rgba(255,255,255,0.2);
      }
    }
  }
  &:hover:not(.disabled) + .clock {
    opacity: 1;
  }
  `,";");var leaflet_src=__webpack_require__(5243);var shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_=__webpack_require__(6543);const CONTEXT_VERSION=1;function createLeafletContext(map){return Object.freeze({__version:CONTEXT_VERSION,map})}function extendContext(source,extra){return Object.freeze({...source,...extra})}const LeafletContext=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.createContext)(null);function useLeafletContext(){const context=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.use)(LeafletContext);if(null==context)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return context}function MapContainerComponent({bounds,boundsOptions,center,children,className,id,placeholder,style,whenReady,zoom,...options},forwardedRef){const[props]=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useState)({className,id,style});const[context,setContext]=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useState)(null);const mapInstanceRef=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(void 0);(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useImperativeHandle)(forwardedRef,()=>context?.map??null,[context]);const mapRef=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useCallback)(node=>{if(null!==node&&!mapInstanceRef.current){const map=new leaflet_src.Map(node,options);mapInstanceRef.current=map;if(null!=center&&null!=zoom)map.setView(center,zoom);else if(null!=bounds)map.fitBounds(bounds,boundsOptions);if(null!=whenReady)map.whenReady(whenReady);setContext(createLeafletContext(map))}},[]);(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(()=>()=>{context?.map.remove()},[context]);const contents=context?/*#__PURE__*/shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.createElement(LeafletContext,{value:context},children):placeholder??null;return /*#__PURE__*/shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.createElement("div",{...props,ref:mapRef},contents)}const MapContainer=/*#__PURE__*/(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.forwardRef)(MapContainerComponent);__webpack_require__(4060);function component_createContainerComponent(useElement){function ContainerComponent(props,forwardedRef){const{instance,context}=useElement(props).current;(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useImperativeHandle)(forwardedRef,()=>instance);const{children}=props;return null==children?null:/*#__PURE__*/shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.createElement(LeafletContext,{value:context},children)}return/*#__PURE__*/(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.forwardRef)(ContainerComponent)}function component_createLeafComponent(useElement){function LeafComponent(props,forwardedRef){const{instance}=useElement(props).current;(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useImperativeHandle)(forwardedRef,()=>instance);return null}return/*#__PURE__*/(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.forwardRef)(LeafComponent)}function element_createElementObject(instance,context,container){return Object.freeze({instance,context,container})}function element_createElementHook(createElement,updateElement){if(null==updateElement)return function(props,context){const elementRef=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(void 0);if(!elementRef.current)elementRef.current=createElement(props,context);return elementRef};return function(props,context){const elementRef=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(void 0);if(!elementRef.current)elementRef.current=createElement(props,context);const propsRef=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(props);const{instance}=elementRef.current;(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(function(){if(propsRef.current!==props){updateElement(instance,props,propsRef.current);propsRef.current=props}},[instance,props,updateElement]);return elementRef}}function useAttribution(map,attribution){const attributionRef=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(attribution);(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(function(){if(attribution!==attributionRef.current&&null!=map.attributionControl){if(null!=attributionRef.current)map.attributionControl.removeAttribution(attributionRef.current);if(null!=attribution)map.attributionControl.addAttribution(attribution)}attributionRef.current=attribution},[map,attribution])}function useEventHandlers(element,eventHandlers){const eventHandlersRef=(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useRef)(void 0);(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(function(){if(null!=eventHandlers)element.instance.on(eventHandlers);eventHandlersRef.current=eventHandlers;return function(){if(null!=eventHandlersRef.current)element.instance.off(eventHandlersRef.current);eventHandlersRef.current=null}},[element,eventHandlers])}function withPane(props,context){const pane=props.pane??context.pane;return pane?{...props,pane}:props}function useLayerLifecycle(element,context){(0,shannon_hochkins_Documents_dev_hakit_component_test_node_modules_react_index_js_eager_.useEffect)(function(){const container=context.layerContainer??context.map;container.addLayer(element.instance);return function(){context.layerContainer?.removeLayer(element.instance);context.map.removeLayer(element.instance)}},[context,element])}function createLayerHook(useElement){return function(props){const context=useLeafletContext();const elementRef=useElement(withPane(props,context),context);useAttribution(context.map,props.attribution);useEventHandlers(elementRef.current,props.eventHandlers);useLayerLifecycle(elementRef.current,context);return elementRef}}function createLayerComponent(createElement,updateElement){const useElement=element_createElementHook(createElement,updateElement);const useLayer=createLayerHook(useElement);return component_createContainerComponent(useLayer)}function createTileLayerComponent(createElement,updateElement){const useElement=element_createElementHook(createElement,updateElement);const useLayer=createLayerHook(useElement);return component_createLeafComponent(useLayer)}const Marker=createLayerComponent(function({position,...options},ctx){const marker=new leaflet_src.Marker(position,options);return element_createElementObject(marker,extendContext(ctx,{overlayContainer:marker}))},function(marker,props,prevProps){if(props.position!==prevProps.position)marker.setLatLng(props.position);if(null!=props.icon&&props.icon!==prevProps.icon)marker.setIcon(props.icon);if(null!=props.zIndexOffset&&props.zIndexOffset!==prevProps.zIndexOffset)marker.setZIndexOffset(props.zIndexOffset);if(null!=props.opacity&&props.opacity!==prevProps.opacity)marker.setOpacity(props.opacity);if(null!=marker.dragging&&props.draggable!==prevProps.draggable){if(true===props.draggable)marker.dragging.enable();else marker.dragging.disable()}});function updateGridLayer(layer,props,prevProps){const{opacity,zIndex}=props;if(null!=opacity&&opacity!==prevProps.opacity)layer.setOpacity(opacity);if(null!=zIndex&&zIndex!==prevProps.zIndex)layer.setZIndex(zIndex)}const TileLayer=createTileLayerComponent(function({url,...options},context){const layer=new leaflet_src.TileLayer(url,withPane(options,context));return element_createElementObject(layer,context)},function(layer,props,prevProps){updateGridLayer(layer,props,prevProps);const{url}=props;if(null!=url&&url!==prevProps.url)layer.setUrl(url)});const TimeCard_shared_a=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e1mj7xtk1"})({name:"13nmimj",styles:"all:unset;font-family:var(--ha-font-family);font-size:2rem;color:var(--ha-S200-contrast);font-weight:400;display:flex;flex-direction:row"}),TimeCard_shared_n=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e1mj7xtk0"})({name:"tgy6w2",styles:"all:unset;font-family:var(--ha-font-family);font-size:2rem;color:var(--ha-S400-contrast);font-weight:300"});const formatter_f=/* @__PURE__ */new Map,formatter_$=[{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},{month:"long",hour:"2-digit",hour12:!1}];function formatter_j(e){return function(n,r,s){const o=formatter_I(n,s);return formatter_N(e,r,o,n)}}const formatter_k=e=>formatter_$.map(t=>new Intl.DateTimeFormat(e.locale,{...t,timeZone:e.timezone})),formatter_D=e=>"literal"!==e.type?{type:`l${e.type}`,value:e.value}:e,formatter_M=(e,t)=>(e[t.type]=t.value,e),formatter_g=(e,t)=>e.formatToParts(t).filter(n=>"literal"!==n.type),formatter_w=e=>(e.dayPeriod=e.dayPeriod||e.dayperiod||"",delete e.dayperiod,e.lhour=("0"+Number(e.lhour)%24).slice(-2),e),formatter_F=e=>{const[t,n]=formatter_k(e);return function(s){const o=formatter_g(t,s),i=formatter_g(n,s).map(formatter_D),a=[...o,...i].reduce(formatter_M,{});return formatter_w(a)}};function formatter_I(e,t={}){const n=`${t.locale}${t.timezone}`;let r=formatter_f.get(n);return r||(r=formatter_F(t),formatter_f.set(n,r)),r(e)}function formatter_x(e){let t="";switch(e){case 1:case 21:case 31:t="st";break;case 2:case 22:t="nd";break;case 3:case 23:t="rd";break;default:t="th"}return t}const formatter_T="[YMDxdAaHhms]+",formatter_Y={YYYY:e=>e.year,YY:e=>e.year.slice(-2),MMMM:e=>e.lmonth,MMM:e=>e.lmonth.slice(0,3),MM:e=>e.month,DD:e=>e.day,DDx:e=>`${e.day}${formatter_x(parseInt(e.day))}`,dd:e=>`${parseInt(e.day,10)}`,ddx:e=>`${parseInt(e.day,10)}${formatter_x(parseInt(e.day))}`,dddd:e=>e.weekday,ddd:e=>e.weekday.slice(0,3),A:e=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TimeCard_shared_n,{className:"time-suffix",children:e.dayPeriod}),a:e=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TimeCard_shared_n,{className:"time-suffix",children:e.dayPeriod.toLowerCase()}),HH:e=>("0"+Number(e.lhour)%24).slice(-2),hh:e=>e.hour,mm:e=>e.minute,ss:e=>e.second},formatter_b=e=>Object.keys(e).reduce((t,n)=>`|${n}`,"");function formatter_N(e,t,n,r){const s="\\[([^\\]]+)\\]|",o=formatter_b(e),i=new RegExp(`${s}${formatter_T}${o}`,"g"),m={...formatter_Y,...e},a=[];let c=0;return t.replace(i,(h,y,d)=>{if(d>c){const u=t.slice(c,d);u.length>0&&0===u.trim().length?a.push(/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"whitespace",children:"\xa0"})):a.push(u)}return c=d+h.length,y?a.push(y):a.push(m[h](n,r)),""}),c<t.length&&a.push(t.slice(c)),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:a})}var isValidProp=__webpack_require__(525);var SvgGraph_constants=__webpack_require__(9254);function Ut(){const{useStore:e}=(0,index_js_.useHass)(),r=e(l=>l.breakpoints),n=e(l=>l.windowContext)??window,a=(0,index_js_eager_.useMemo)(()=>(0,breakpoints.le)(r),[r]),s={xxs:!1,xs:!1,sm:!1,md:!1,lg:!1,xlg:!1},[c,i]=(0,index_js_eager_.useState)(s);return(0,index_js_eager_.useEffect)(()=>{const l=(p,f)=>{i(v=>({...v,[p]:f.matches}))},h={xxs:n.matchMedia(a.xxs),xs:n.matchMedia(a.xs),sm:n.matchMedia(a.sm),md:n.matchMedia(a.md),lg:n.matchMedia(a.lg),xlg:n.matchMedia(a.xlg)};return Object.keys(h).forEach(p=>{l(p,h[p])}),Object.keys(h).forEach(p=>{h[p]?.addEventListener("change",v=>l(p,v.currentTarget))}),()=>{Object.keys(h).forEach(p=>{h[p]?.removeEventListener("change",v=>l(p,v.currentTarget))})}},[a,n]),c}var li=function(r){var o=/* @__PURE__ */new WeakMap;return function(n){if(o.has(n))return o.get(n);var a=r(n);return o.set(n,a),a}};const di=(e,r)=>{const o=proxy.E[e];if(!o)throw new Error(`Failed to create a motion component for element type: ${e}`);return r?/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(o,{target:"e1xe7ch93"})():/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(o,{shouldForwardProp:n=>(0,isValidProp.z)(n),target:"e1xe7ch92"})("outline:none;border:0;box-sizing:border-box;padding:0;position:relative;overflow:hidden;display:flex;width:100%;cursor:pointer;background-color:var(--ha-S300);box-shadow:0px 0px 0px rgba(0, 0, 0, 0);transform:scale(1) translate3d(0, 0, 0);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-color,background-image;color:var(--ha-S200-contrast);flex-shrink:1;user-select:none;svg{color:var(--ha-S200-contrast);transition:color var(--ha-transition-duration) var(--ha-easing);}.graph-element{position:absolute;bottom:0;left:0;right:0;}&:not(.disabled):not(:disabled):not(:focus):hover{background-color:var(--ha-S400);color:var(--ha-500-contrast);svg{color:var(--ha-S400-contrast);}}&:disabled,&.disabled{cursor:not-allowed;opacity:0.8;}",n=>!n.disableActiveState&&`
      &.active, &:active {
        background-color: var(--ha-A400);
        color: var(--ha-900-contrast);
        svg {
          color: var(--ha-900-contrast);
        }
        &:not(:disabled):not(.disabled):hover {
          background-color: var(--ha-A700);
          color: var(--ha-900-contrast);
        }
      }
    `,";")},ThemeControlsModal_DWBaJmrH_ui=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(e=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($i,{...e}),{target:"e1xe7ch91"})({name:"1513zut",styles:"flex-shrink:1;width:100%;height:100%"}),Cn=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1xe7ch90"})({name:"1rw17cg",styles:"width:100%;height:100%;&:has(.features){display:flex;flex-direction:column;}>.features{padding:0 1rem 1rem;>.fit-content>.button-group-inner>*{width:auto;flex-grow:1;>.button-bar-button{width:auto;flex-grow:1;}}}"}),Dn={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3},pi=function({as:r="div",entity:o,title:n,active:a,service:s,serviceData:c,children:i,disabled:l,longPressCallback:h,onClick:p,modalProps:f,disableRipples:v=!1,disableScale:d=!1,disableActiveState:m=!1,onlyFunctionality:b=!1,id:u,className:S,cssStyles:N,style:g,borderRadius:_="16px",rippleProps:x,disableColumns:C,whileTap:E,ref:T,key:j,relatedEntities:z,features:D,featureBarProps:I,graph:V,resizeDetectorProps:w,triggerClass:R,...A}){const $=(0,index_js_eager_.useId)(),{useStore:O}=(0,index_js_.useHass)(),P=O(ce=>ce.globalComponentStyles),[L1,G]=(0,index_js_eager_.useState)(!1),W=o?(0,index_js_.computeDomain)(o):null,Z=(0,index_js_.useEntity)(o??"unknown",{returnNullIfNotFound:!0}),X=(0,index_js_eager_.useRef)(null),{width:le=0}=(0,useResizeDetector.Z)({refreshMode:"debounce",refreshRate:50,handleHeight:!1,skipOnMount:!1,targetRef:T??X,...w??{}}),ge=(0,index_js_.useEntity)(V?.entity??"unknown",{returnNullIfNotFound:!0,historyOptions:{disable:!1,...V?.historyOptions}}),U=(0,index_js_eager_.useMemo)(()=>"string"==typeof Z?.state?(0,index_js_.isUnavailableState)(Z.state):!1,[Z?.state]),B=_,H=(0,index_js_eager_.useMemo)(()=>di(r,b),[r,b]),re=use_long_press_V(ce=>{"function"==typeof h&&h(null!==Z?Z:null,ce),"string"!=typeof o||L1||G(!0)},{threshold:300,cancelOnMovement:!0,cancelOutsideElement:!0,filterEvents(ce){return!("button"in ce&&2===ce.button)}}),se=(0,index_js_eager_.useCallback)(ce=>{if(!l){if("string"==typeof s&&Z&&!U){const De=Z.service[s];De(c)}"function"==typeof p&&p(null!==Z?Z:null,ce)}},[s,l,Z,c,p,U]),ie=(0,index_js_eager_.useMemo)(()=>n||Z?.attributes?.friendly_name||(null!==W?(0,lodash.startCase)((0,lodash.lowerCase)(W)):null),[n,Z,W]),me=(0,index_js_eager_.useMemo)(()=>{const ce=Object.entries(Dn).reduce((De,[ht,de])=>{const Te=A[ht];return{...De,[ht]:Te??de}},Dn);return Object.entries(ce).map(([De,ht])=>`${De}-${ht}`).join(" ")},[A.xxs,A.xs,A.sm,A.md,A.lg,A.xlg]),he=index_js_eager_.Children.toArray(z).filter(ce=>(0,index_js_eager_.isValidElement)(ce)),fe=index_js_eager_.Children.toArray(D).filter(ce=>(0,index_js_eager_.isValidElement)(ce)),ye=index_js_eager_.Children.map(fe,(ce,De)=>(0,index_js_eager_.isValidElement)(ce)?(0,index_js_eager_.cloneElement)(ce,{key:ce.key||`${$}${De}`,...ce.props}):ce),Ie=fe.length>0,Se=Ie&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nt,{layoutType:"bubble",className:"features",fullWidth:!0,gap:"0.5rem",...I,children:ye});function xe(ce){const De=SvgGraph_constants.q/SvgGraph_constants.e;return`calc(${ce/De}px - ${V?.adjustGraphSpaceBy??"0px"});`}const Ae=xe(le),at=(0,index_js_eager_.useMemo)(()=>["card-base",S??"",C?"":me,a?"active":"",U?"unavailable":"",l||U?"disabled":"",Ie?"has-features":"",ge?"has-graph":""].filter(ce=>!!ce).join(" "),[a,S,me,C,l,ge,Ie,U]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(H,{ref:T??X,id:u??"",className:at,css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)("padding-bottom:",ge?Ae:"inherit",";",P.cardBase??""," ",N??"",";"),style:{...g??{},borderRadius:B},whileTap:E??{scale:d||l||U?1:.9},disableActiveState:m,disabled:U||l,...re(),...A,children:[ge&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"graph-element history",children:ge.history.loading?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Alert.b,{className:"loading",description:(0,index_js_.localize)("loading")}):ge.history.coordinates.length>0?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(SvgGraph.O,{coordinates:ge.history.coordinates,...V?.props}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Alert.b,{className:"no-state-history",description:(0,index_js_.localize)("no_state_history_found")})}),v?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Cn,{className:`contents trigger-element ${R}`,onClick:se,children:[i,Se]}):/* @__PURE__ */(0,emotion_react_browser_esm_js_.createElement)(ThemeControlsModal_DWBaJmrH_ui,{...x,key:x?.key,borderRadius:B,disabled:l||U},/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Cn,{className:`contents trigger-element ${R}`,onClick:se,children:[i,Se]})),index_js_eager_.Children.map(he,(ce,De)=>(0,index_js_eager_.isValidElement)(ce)?(0,index_js_eager_.cloneElement)(ce,{key:ce.key||`${$}${De}`,...ce.props}):ce)]},j),"string"==typeof o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Mo,{...f,entity:o,title:f?.title??ie??(0,index_js_.localize)("unknown"),onClose:()=>{G(!1),f?.onClose&&f.onClose()},open:f?.open||L1,id:$})]})},Ce=(0,index_js_eager_.memo)(function(r){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"CardBase"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(pi,{...r})})}),hi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1q4f2q20"})("position:absolute;margin:",e=>e.margin||"1rem",";padding:",e=>e.padding||"0",";cursor:",e=>e.onClick?"pointer":"default",";",e=>{switch(e.position){case"left top":return"top: 0; left: 0;";case"left center":return"top: 50%; left: 0; transform: translateY(-50%);";case"left bottom":return"bottom: 0; left: 0;";case"center top":return"top: 0; left: 50%; transform: translateX(-50%);";case"center center":return"top: 50%; left: 50%; transform: translate(-50%, -50%);";case"center bottom":return"bottom: 0; left: 50%; transform: translateX(-50%);";case"right top":return"top: 0; right: 0;";case"right center":return"top: 50%; right: 0; transform: translateY(-50%);";case"right bottom":return"bottom: 0; right: 0;";default:return"top: 0; right: 0;"}},";");function fi({entity:e,icon:r,iconProps:o,render:n,position:a,onClick:s,disabled:c,service:i,serviceData:l,...h}){const p=(0,index_js_.useEntity)(e),f=(0,index_js_.useIcon)(r??null,o),v=(0,index_js_.computeDomain)(e),d=(0,index_js_.useIconByDomain)(null===v?"unknown":v,o),m=(0,index_js_.useIconByEntity)(e||"unknown",o),b=f??m??d,u=(0,index_js_eager_.useMemo)(()=>"string"==typeof p?.state?(0,index_js_.isUnavailableState)(p.state):!1,[p?.state]),S=(0,index_js_eager_.useCallback)(N=>{if(!c){if("string"==typeof i&&p&&!u){const g=p.service[i];g(l)}"function"==typeof s&&s(null!==p?p:null,N)}},[i,c,p,l,s,u]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(hi,{position:a,onClick:S,...h,children:n?n(p,b):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:b})})}const ch=(0,index_js_eager_.memo)(function(r){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"RelatedEntity"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(fi,{...r})})});function mi({children:e,active:r,...o}){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{as:"div",rippleProps:{preventPropagation:!0},active:r,cssStyles:`
        &.button-bar-button {
          .contents {
            > div {
              padding: 0.6rem;
            }
          }
        }
      `,...o,children:e})}const vt=function(r){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"FeatureEntity"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(mi,{...r})})},gi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e9g8avo0"})("position:fixed;top:0;left:0;background-color:var(--ha-S300);color:var(--ha-S100-contrast);padding:8px;border-radius:4px;box-shadow:0px 2px 4px var(--ha-S100);font-size:0.9rem;z-index:1000;visibility:hidden;opacity:0;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:opacity,visibility;pointer-events:none;transform:",e=>{switch(e.placement){default:case"top":return"translateY(calc(-100% - 10px)) translateX(-50%)";case"right":return"translateX(10px) translateY(-50%)";case"bottom":return"translateY(10px) translateX(-50%)";case"left":return"translateX(calc(-100% - 10px)) translateY(-50%)"}},';&::before{content:"";position:absolute;width:0;height:0;border-style:solid;display:block;',e=>{switch(e.placement){default:case"top":return`
            border-width: 6px 6px 0 6px;
            border-color: var(--ha-S300) transparent transparent transparent;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
          `;case"right":return`
            border-width: 6px 6px 6px 0;
            border-color: transparent var(--ha-S300) transparent transparent;
            left: 0;
            top: 50%;
            transform: translate(-100%, -50%);
          `;case"bottom":return`
            border-width: 0 6px 6px 6px;
            border-color: transparent transparent var(--ha-S300) transparent;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
          `;case"left":return`
            border-width: 6px 0 6px 6px;
            border-color: transparent transparent transparent var(--ha-S300);
            right: 0;
            top: 50%;
            transform: translate(100%, -50%);
          `}},";}");function vi({placement:e="top",title:r=null,children:o,ref:n,...a}){const s=(0,index_js_eager_.useRef)(null),c=(0,index_js_eager_.useRef)(null),{useStore:i}=(0,index_js_.useHass)(),l=i(u=>u.portalRoot),p=i(u=>u.windowContext)??window,[f,v]=(0,index_js_eager_.useState)(!1),d=(0,index_js_eager_.useCallback)(u=>{const S=c.current?.getBoundingClientRect();if(typeof S>"u")return;let N=0,g=0;switch(e){case"top":N=S.top,g=S.left+S.width/2;break;case"right":N=S.top+S.height/2,g=S.right;break;case"bottom":N=S.bottom,g=S.left+S.width/2;break;case"left":N=S.top+S.height/2,g=S.left;break}u.style.top=`${N}px`,u.style.left=`${g}px`,setTimeout(()=>{u.style.opacity="1",u.style.visibility="visible"},0)},[e]),m=(0,index_js_eager_.useCallback)(()=>{v(!0)},[]),b=(0,index_js_eager_.useCallback)(()=>{const u=s.current;u&&(u.style.opacity="0",u.style.visibility="hidden",u.setAttribute("aria-hidden","true"),setTimeout(()=>{v(!1)},250))},[]);return null===r||""===r?o:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{ref:c,onBlur:b,onTouchEnd:b,onTouchStart:m,onMouseUp:b,onMouseEnter:m,onMouseLeave:b,...a,children:[index_js_eager_.Children.map(o,(u,S)=>(0,index_js_eager_.isValidElement)(u)?(0,index_js_eager_.cloneElement)(u,{...u.props,onClick(N,g){u.props.onClick?.(N,g),a?.onClick?.(g)},ref:n,key:u.key??S}):u),typeof document<"u"&&(0,react_dom_index_js_eager_.createPortal)(f&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(gi,{className:"tooltip-inner",placement:e,ref:u=>{u&&(s.current=u,d(u))},"aria-hidden":"false",children:r}),l??p.document.body)]})}function Ne(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"Tooltip"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vi,{...e})})}const ThemeControlsModal_DWBaJmrH_oe=({prefix:e})=>({fallbackRender({error:r,resetErrorBoundary:o}){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Alert.b,{className:"error-boundary-alert",title:`${e?`${e} - `:""}${(0,index_js_.localize)("unknown_error")}`,description:r.message,type:"error",onClick:()=>o()})}});const bi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e1cw8oq38"})({name:"1uus07k",styles:"&.slim{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;>.contents{width:100%;}}}.button-card-trigger>.features{width:100%;}.button-card-trigger>.features>.fit-content{flex-basis:100%;}.children{width:100%;}&.slim-vertical{justify-content:center;.fab-card-inner{width:3rem;height:3rem;}.button-card-trigger{align-items:center;}}.footer>.title{text-align:left;}&:not(.disabled),&:not(:disabled){&:not(:focus):hover{.fab-card-inner:not(.custom){background-color:var(--ha-S500);color:var(--ha-S500-contrast);}}}"}),yi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq37"})({name:"104hu76",styles:"padding:1rem;display:flex;flex-direction:column;align-items:center;justify-content:stretch;height:100%"}),xi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq36"})("background-color:var(--ha-100);border-radius:100%;width:16px;height:16px;position:absolute;top:2px;left:0;box-shadow:0px 0px 4px rgba(0, 0, 0, 0.5);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,transform;left:",e=>e.active?"100%":"0px",";transform:",e=>e.active?"translate3d(calc(-100% - 2px), 0, 0)":"translate3d(calc(0% + 2px), 0, 0)",";"),wi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq35"})("position:relative;background-color:",e=>e.active?"var(--ha-A400)":"var(--ha-S100)",";border-radius:10px;width:40px;height:20px;flex-grow:0;flex-shrink:0;transition:background-color var(--ha-transition-duration) var(--ha-easing);margin-left:20px;"),Ni=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq34"})("border-radius:100%;padding:6px;width:2rem;height:2rem;display:flex;flex-shrink:0;align-items:center;justify-content:center;box-shadow:0px 1px 4px rgba(0, 0, 0, 0.2);",e=>e.brightness&&`
    filter: ${e.brightness};
  `," transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-color,color,filter;svg{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color;}"),Ei=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq33"})({name:"1fkysi1",styles:"display:flex;align-items:center;justify-content:space-between;flex-direction:row;gap:10px;width:100%;&.vertical{flex-direction:column;height:100%;}"}),Si=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq32"})({name:"1cgwlg6",styles:"display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;margin-top:20px;width:100%"}),On=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq31"})({name:"ph2n02",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold;margin-bottom:0.25rem"}),tr=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1cw8oq30"})({name:"2pojne",styles:"color:var(--ha-S300-contrast);font-size:0.7rem;margin:2px 0;text-align:left;width:100%;&.center{text-align:center;}&.secondary{color:var(--ha-S500-contrast);}&.slim-vertical{text-align:center;}"});function ki({entity:e,service:r,serviceData:o,iconProps:n,icon:a,fabProps:s,active:c,onClick:i,description:l,title:h,layoutType:p,disabled:f=!1,className:v,hideIcon:d=!1,hideState:m=!1,hideLastUpdated:b=!1,children:u,hideDetails:S=!1,cssStyles:N,key:g,hideToggle:_=!1,unitOfMeasurement:x,customRenderState:C,...E}){const{useStore:T}=(0,index_js_.useHass)(),j=T(X=>X.globalComponentStyles),z=e?(0,index_js_.computeDomain)(e):null,D=(0,index_js_.useEntity)(e||"unknown",{returnNullIfNotFound:!0}),I=typeof a<"u"&&"string"!=typeof a?a:null,V=(0,index_js_.useIconByDomain)(null===z?"unknown":z,{...n??{}}),w=(0,index_js_.useIconByEntity)(e||"unknown",{...n??{}}),R="default"===p||void 0===p,A="slim"===p||"slim-vertical"===p,$="string"==typeof D?.state?(0,index_js_.isUnavailableState)(D.state):!1,O=D?"off"!==D.state&&!$&&!f:c||!1,P=(0,index_js_.useIcon)("string"==typeof a?a:null,{...n??{}}),L1=(0,index_js_eager_.useMemo)(()=>null===h?null:h||D?.attributes.friendly_name||D?.entity_id||null,[h,D]),G=(0,index_js_eager_.useMemo)(()=>l||(null!==z&&e?(0,index_js_.computeDomainTitle)(e,D?.attributes?.device_class):null),[l,z,D,e]);function W(){return m?null:C&&D?C(D):"boolean"==typeof c?c?`${(0,index_js_.localize)(index_js_.ON)}`:`${(0,index_js_.localize)(index_js_.OFF)}`:$?(0,index_js_.localize)("unavailable"):D&&D.state===index_js_.ON&&"light"===z?`${D.custom.brightnessValue}%`:D?D.attributes.unit_of_measurement?`${(0,index_js_.localize)(D.state)}${x??D.attributes.unit_of_measurement}`:`${(0,index_js_.localize)(D.state)}`:null}const Z=index_js_eager_.Children.toArray(E?.features).filter(X=>(0,index_js_eager_.isValidElement)(X)).length>0;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bi,{as:"button",service:r,serviceData:o,active:c,entity:e,title:L1??void 0,disabled:f||$,onClick:i,className:`${v??""} ${p??"default"} button-card`,triggerClass:"button-card-trigger",cssStyles:`
        ${j.buttonCard??""}
        ${N??""}
      `,...E,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(yi,{className:`contents ${Z?"has-features":""}`,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ei,{className:`layout-between ${"slim-vertical"===p?"vertical":""}`,children:[!d&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ni,{brightness:O&&D?.custom.brightness||"brightness(100%)",...s,className:`fab-card-inner icon ${s?.className} ${s?.style?"custom":""}`,style:{...s?.style,backgroundColor:s?.style?.backgroundColor??(O?"light"===z?D?.custom?.rgbaColor??"var(--ha-A400)":"var(--ha-A400)":"var(--ha-S400)"),color:s?.style?.color??(D?O?D.custom.rgbColor:"var(--ha-S500-contrast)":O?"var(--ha-A400)":"var(--ha-S500-contrast)")},children:I??P??w??V}),R&&!_&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(wi,{active:O,className:"toggle",children:!$&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(xi,{active:O,className:"toggle-state"})}),A&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{fullWidth:!0,alignItems:"slim-vertical"===p?"center":"flex-start",children:[L1&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(On,{className:"title",children:L1}),!S&&G&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(tr,{className:`description ${p??""}`,children:[G," ",m?"":` - ${W()}`]}),D&&!b&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(tr,{className:`description secondary ${"slim-vertical"===p?"center":""}`,children:[(0,index_js_.localize)("last_updated"),": ",D.custom.relativeTime]})]})]}),R&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Si,{className:"footer",children:[L1&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(On,{className:"title",children:L1}),!S&&G&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(tr,{className:"description",children:[G,D&&!m?` - ${W()}`:""]}),!S&&D&&!b&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(tr,{className:"description secondary",children:[(0,index_js_.localize)("last_updated"),": ",D.custom.relativeTime]})]}),u&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"children",children:u})]})},g)}function Eo(e){const r={xxs:12,xs:6,sm:4,md:3,lg:2,xlg:2};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ButtonCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ki,{...r,...e})})}const ThemeControlsModal_DWBaJmrH_i=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eu3ltb74"})(),Ci=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eu3ltb73"})(e=>`
    min-width: 6rem;
    width: 100%;
    position: relative;
    isolation: isolate;

    ${(0,breakpoints.mq)(["xxs","xs","sm"],`
      min-width: 0;
    `)}

    z-index: 1;

    .range-slider-range {
      position: relative;
      -webkit-appearance: none;
      width: 100%;
      height: 0.7rem;
      border-radius: 5px;
      background: var(--ha-S400);
      outline: none;
      padding: 0;
      margin: 0;
      z-index: 1;

      &::-webkit-slider-thumb {
        appearance: none;
        width: ${e.handleSize}px;
        height: ${e.handleSize}px;
        border-radius: 50%;
        background: var(--ha-A400);
        cursor: pointer;
        transition: background var(--ha-transition-duration) var(--ha-easing);
        position: relative;
        z-index: 1;

        &:hover {
          background: var(--ha-A200);
        }
      }

      &:active::-webkit-slider-thumb {
        background: var(--ha-A400);
      }

      &::-moz-range-thumb {
        width: ${e.handleSize}px;
        height: ${e.handleSize}px;
        border: 0;
        border-radius: 50%;
        background: var(--ha-A400);
        cursor: pointer;
        transition: background var(--ha-transition-duration) var(--ha-easing);
        z-index: 1;

        &:hover {
          background: var(--ha-A200);
        }
      }

      &:active::-moz-range-thumb {
        background: var(--ha-A400);
      }
      
      &:focus {
        &::-webkit-slider-thumb {
          box-shadow: 0 0 0 3px var(--ha-A100);
        }
      }
    }

    // Firefox Overrides
    ::-moz-range-track {
        background: var(--ha-S400);
        border: 0;
    }

    input::-moz-focus-inner,
    input::-moz-focus-outer { 
      border: 0; 
    }

    
    &:hover, &.active {
      .tooltip-holder {
        > div {
          transform: translate(-50%, -1rem) rotate(-45deg) scale(1);
          opacity: 1;
        }
      }
    }
  `,";"),Di=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eu3ltb72"})("opacity:0;position:absolute;bottom:100%;width:",({size:e})=>`${e}rem`,";height:",({size:e})=>`${e}rem`,";border-radius:50% 50% 50% 0;left:0;transform:translate(-50%, 1rem) rotate(-45deg) scale(0);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:transform,opacity;background-color:var(--ha-A400);white-space:nowrap;pointer-events:none;z-index:0;&:after{content:attr(data-title);font-size:0.7rem;display:flex;align-items:center;justify-content:center;color:white;transform:rotate(45deg);position:absolute;inset:0;border-radius:50%;}"),Oi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("label",{target:"eu3ltb71"})({name:"1cboe98",styles:"display:block;margin-bottom:0.5rem;font-size:0.9rem;color:var(--ha-S50-contrast)"}),Ri=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"eu3ltb70"})({name:"imenuv",styles:"display:block;font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S500-contrast)"});function Ii({value:e,onChange:r,formatTooltipValue:o,hideTooltip:n,label:a,description:s,className:c,style:i,tooltipSize:l=2,handleSize:h=15,min:p=0,max:f=100,step:v=1,debounceThrottleValue:d=300,debounceType:m="debounce",onChangeComplete:b,cssStyles:u,...S}){const[N,g]=(0,index_js_eager_.useState)(e??0),[_,x]=(0,index_js_eager_.useState)(!1),C=(0,index_js_eager_.useRef)(null),E=(0,index_js_eager_.useRef)(null),T=(0,index_js_eager_.useRef)(null);(0,index_js_eager_.useEffect)(()=>{"number"==typeof e&&g(e)},[e]),(0,index_js_eager_.useEffect)(()=>{if(!C.current||n)return;const D=parseFloat(`${p??0}`),I=parseFloat(`${f??100}`),V=parseFloat(`${v??1}`),w=parseFloat(C.current.valueAsNumber.toFixed(V<1?Math.abs(Math.log10(V)):0)),R=(C.current.valueAsNumber-D)/(I-D)*100;if(T.current){T.current.style.left=`${R}%`;const A="function"==typeof o?o(w):w;T.current.setAttribute("data-title",`${A}`)}},[N,p,f,v,o,n]);const z=("debounce"===m?index_module.y1:index_module.zl)(D=>{"function"==typeof b&&b(D.target.valueAsNumber,D),x(!1)},d,{leading:!0,trailing:!0});return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(ThemeControlsModal_DWBaJmrH_i,{className:`${c??""} ${_?"active":""} range-slider`,style:{position:"relative",...i??{}},css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(u??"",";"),children:[a&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Oi,{className:"label",children:a}),s&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ri,{className:"description",children:s}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ci,{ref:E,handleSize:h,className:`range-slider-inner ${_?"active":""}`,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("input",{...S,min:p,max:f,step:v,ref:C,type:"range",className:"range-slider-range",value:N,onInput:D=>{g(D.target.valueAsNumber),_||x(!0)},onChange:D=>{"function"==typeof r&&r(D.target.valueAsNumber,D),z(D)}}),!n&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"tooltip-holder",style:{position:"absolute",top:0,left:h/2,right:h/2},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Di,{size:l,ref:T})})]})]})}function bt(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"RangeSlider"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ii,{...e})})}const Ti={position:"relative",display:"inline-flex",overflow:"hidden"},zi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ekpqrw61"})({name:"zomlrg",styles:"position:absolute;border-radius:50%;opacity:0;width:35px;height:35px;transform:translate(-50%, -50%);pointer-events:none;flex-shrink:0"}),Vi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ekpqrw60"})(e=>e.borderRadius&&`
    border-radius: ${e.borderRadius};
    overflow: hidden;
    display: inline-flex;
  `,";"),ko=(0,index_js_eager_.memo)(({duration:e=600,color:r="rgba(0, 0, 0, .3)",borderRadius:o="none",onClick:n,children:a,disabled:s,preventPropagation:c=!1,style:i,className:l,cssStyles:h,id:p,...f})=>{const v=(0,index_js_eager_.useRef)(null),d=(0,index_js_eager_.useRef)(null),{useStore:m}=(0,index_js_.useHass)(),u=m(N=>N.windowContext)??window;(0,index_js_eager_.useEffect)(()=>()=>{d.current&&clearTimeout(d.current)},[]);const S=(0,index_js_eager_.useCallback)(N=>{if(N.stopPropagation(),s)return;null!==d.current&&clearTimeout(d.current);const{pageX:g,pageY:_,currentTarget:x}=N,C=x.getBoundingClientRect();let E=1;typeof u<"u"&&(E=u.scrollX);let T=1;typeof u<"u"&&(T=u.scrollY);const j=g-(C.left+E),z=_-(C.top+T),D=Math.max(C.width,C.height);if(v.current){const I={left:isNaN(j)?"0px":`${j}px`,top:isNaN(z)?"0px":`${z}px`,opacity:1,transform:"translate(-50%, -50%)",transition:"initial",backgroundColor:r};Object.assign(v.current.style,I)}d.current=setTimeout(()=>{if(v.current){const I={opacity:0,transform:`scale(${D/9})`,transition:`all ${e}ms`};Object.assign(v.current.style,I)}d.current=null},50),"function"==typeof n&&n(N)},[r,e,s,n,u]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vi,{borderRadius:o,id:p??"",className:`ripple-parent ${l??""}`,css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(h??"",";"),style:{...i??{}},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"ripple-inner",onPointerDownCapture:N=>{c&&N.stopPropagation()},...f,style:{width:"100%",...Ti,borderRadius:o},onClick:S,children:[a,/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zi,{ref:v})]})})});ko.displayName="_Ripples";function $i(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"Ripples"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ko,{...e})})}const Mi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e17tod368"})(),Pi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e17tod367"})("font-size:0.6rem;display:flex;align-items:center;justify-content:flex-end;height:100%;padding:0 0.4rem 0 0.8rem;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:justify-content,color;justify-content:",e=>e.active?"flex-start":"flex-end",";color:",e=>e.active?"var(--ha-300-contrast)":"var(--ha-300)",";",e=>e.hideArrow&&"padding-right: 0.8rem;",";"),ji=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e17tod366"})("background-color:var(--ha-S200);border-radius:100%;width:1.9rem;height:1.9rem;position:absolute;top:5px;left:0px;display:flex;align-items:center;justify-content:center;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left,transform;left:",e=>e.active?"100%":"0px",";transform:",e=>e.active?"translate3d(calc(-100% - 5px), 0, 0)":"translate3d(calc(0% + 5px), 0, 0)",";svg{color:",e=>e.active?"var(--ha-A400)":"var(--ha-200)",";font-size:40px;}"),Bi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e17tod365"})({name:"rhxkjj",styles:"height:20px"}),Fi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e17tod364"})("position:relative;background-color:",e=>e.active?"var(--ha-300)":"var(--ha-S200)",";border-radius:3rem;width:10rem;height:2.5rem;flex-grow:0;flex-shrink:0;transition:background-color var(--ha-transition-duration) var(--ha-easing);margin-left:1.5rem;overflow:hidden;"),Li=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e17tod363"})({name:"dpr5ta",styles:"padding:1rem;height:100%;display:flex;flex-direction:column;justify-content:center"}),Rn=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e17tod362"})({name:"fycgd8",styles:"display:flex;align-items:center;justify-content:space-between;flex-direction:row"}),Wi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e17tod361"})({name:"bme980",styles:"color:var(--ha-S500-contrast);font-size:0.7rem;text-align:left"}),Hi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e17tod360"})("color:var(--ha-S300-contrast);font-size:0.9rem;font-weight:bold;",e=>e.disabled&&"color: var(--ha-S50-contrast);"," text-align:left;span{display:block;width:100%;color:var(--ha-S50-contrast);margin-top:0.3rem;line-height:1rem;font-size:0.7rem;}");function qi({entity:e,title:r,description:o,onClick:n,disabled:a,icon:s,iconProps:c,sliderIconProps:i,sliderIcon:l,sliderTextActive:h,sliderTextInactive:p,activeStateDuration:f=5e3,hideArrow:v=!1,className:d,service:m,serviceData:b,key:u,cssStyles:S,...N}){const{useStore:g}=(0,index_js_.useHass)(),_=g(P=>P.globalComponentStyles),x=(0,index_js_.computeDomain)(e),C=(0,index_js_.useEntity)(e),E=(0,index_js_.useIconByEntity)(e,c),T=(0,index_js_.useIconByDomain)(x,c),j=(0,index_js_eager_.useRef)(null),[z,D]=(0,index_js_eager_.useState)(!1),I=(0,index_js_.useIcon)(s??null,c),V=(0,index_js_.useIcon)(l??null,i),w=(0,index_js_.useIcon)("mdi:power",c),R=(0,index_js_.useIcon)("mingcute:arrows-right-line",{...c,style:{fontSize:"16px",...c?.style}}),A=(0,index_js_.isUnavailableState)(C.state),$=a||A,O=(0,index_js_eager_.useCallback)(P=>{D(!0),"function"!=typeof n||A||n(C,P),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{D(!1)},f)},[C,n,f,A]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Mi,{as:"button",className:`${d??""} trigger-card`,disabled:$,entity:e,service:m,serviceData:b,onClick:O,cssStyles:`
        ${_?.triggerCard??""}
        ${S??""}
      `,...N,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Li,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Rn,{className:"layout-between",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Hi,{disabled:$,className:"description",children:[r||C.attributes.friendly_name||e,o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:o})]}),I??E??T]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Bi,{className:"gap"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Rn,{className:"layout-between",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Wi,{className:"title",children:[C.custom.relativeTime,$?` - ${C.state}`:""]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Fi,{active:$?!1:z,className:"toggle",children:$?null:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ji,{active:z,className:"toggle-state",children:V??w}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Pi,{hideArrow:v,active:z,className:"toggle-message",children:[z?h??(0,index_js_.localize)("triggered_name",{search:" {name}",replace:""}):p??`${(0,index_js_.localize)("run")} ${(0,index_js_.computeDomainTitle)(e,C?.attributes?.device_class)}`," ",!z&&!v&&R]})]})})]})]})},u)}function lh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"TriggerCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(qi,{...r,...e})})}const Ui=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e16eobz13"})("background-color:var(--ha-S200);color:var(--ha-S200-contrast);padding:",({collapsed:e})=>e?"0 2rem":"0 2rem 2rem",";transition:var(--ha-transition-duration) var(--ha-easing);transition-property:padding,background-color;width:100%;>div.contents>.header-title{cursor:pointer;padding:",({collapsed:e})=>e?"1.5rem 0":"2rem 0",";>h3{color:var(--ha-S100-contrast);margin:0;display:flex;align-items:center;transition:padding var(--ha-transition-duration) var(--ha-easing);",({collapsible:e,collapsed:r})=>e&&`&:before {
        content: "${r?"+":"-"}";
        display: inline-block;
        color: var(--ha-A400);
        width: 1rem;
      }`,";}}",({collapsed:e})=>`
    ${(0,breakpoints.mq)(["xxs","xs"],`
      padding: ${e?"1rem 0rem":"1.5rem 1rem 1rem"};
    `)}
  `,";"),Gi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e16eobz12"})({name:"qzd1ts",styles:"color:var(--ha-S300-contrast);font-size:0.9rem;margin:0.5rem 0 0;width:100%;display:block;padding-left:1rem"}),Qi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e16eobz11"})(),Xi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("h3",{target:"e16eobz10"})();function Ki({title:e,description:r,children:o,gap:n="0.5rem",justifyContent:a="center",alignItems:s="center",layout:c="row",collapsed:i=!1,collapsible:l=!0,className:h,onClick:p,...f}){const[v,d]=(0,index_js_eager_.useState)(i),m={gap:n,justifyContent:a,alignItems:s};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ui,{onlyFunctionality:!0,disableScale:!0,disableActiveState:!0,disableRipples:!0,borderRadius:"16px",className:`${h??""} group`,collapsed:v,collapsible:l,...f,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Qi,{onClick:b=>{l&&d(!v),p&&p(b)},className:"header-title",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Xi,{className:"title",children:e}),r&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Gi,{children:r})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(AnimatePresence,{initial:!1,children:(!l||!v)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(proxy.E.section,{className:"content",style:{overflow:"hidden"},initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.3,ease:[.04,.62,.23,.98]},children:"row"===c?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{className:"row",...m,children:o}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{className:"column",...m,children:o})},`content-${e}`)})]})}function _o(e){const r={xxs:12,xs:12,sm:12,md:12,lg:12,xlg:12};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"Group"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ki,{...r,...e})})}const Ji=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e15e1idt11"})(),Zi=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e15e1idt10"})({name:"a4fcxv",styles:"padding:1rem;gap:1rem;flex-direction:column;display:flex;width:100%;height:100%"}),es=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("h4",{target:"e15e1idt9"})({name:"jwzzvx",styles:"all:unset;font-family:var(--ha-font-family);font-size:0.8rem;color:var(--ha-S100-contrast);display:flex;align-items:center;justify-content:flex-start"}),ts=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("h4",{target:"e15e1idt8"})({name:"p73dxp",styles:"all:unset;font-family:var(--ha-font-family);font-size:1rem;color:var(--ha-S500-contrast);margin-top:0.3rem;margin-left:1.1rem"}),rs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(iconify.JO,{target:"e15e1idt7"})({name:"1d2jak5",styles:"font-size:3rem;color:var(--ha-A100)!important"}),ns=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(iconify.JO,{target:"e15e1idt6"})({name:"1nqb1ni",styles:"font-size:1rem;color:var(--ha-A400)!important;margin-right:0.2rem"});function os(e,r){const o={timeZone:r,weekday:"short",month:"short",day:"numeric",hour:"numeric",hour12:!0};return new Intl.DateTimeFormat("en-US",o).format(new Date(e))}function as(e,r,o){const n=r*o,a=e.slice(0,n),s=[];let c=0;for(let i=0;i<r;i++){const l=Math.min(Math.ceil((a.length-c)/(r-i)),o);s.push(a.slice(c,c+l)),c+=l}return s}const is=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e15e1idt5"})({name:"lywmg8",styles:"display:flex;flex-direction:column;align-items:center;justify-content:space-between;gap:0.5rem;height:100%"}),ss=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(iconify.JO,{target:"e15e1idt4"})({name:"18ku6o8",styles:"font-size:1.5rem;color:var(--ha-A100)!important"}),cs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e15e1idt3"})({name:"2pu5xu",styles:"color:var(--ha-S50-contrast)"}),ls=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e15e1idt2"})({name:"1syrqdo",styles:"color:var(--ha-S200-contrast);font-size:0.8rem"}),ds=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e15e1idt1"})({name:"1pdq2t8",styles:"color:var(--ha-S50-contrast);font-size:0.8rem"}),us=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e15e1idt0"})({name:"1wvg1a4",styles:"color:var(--ha-S500-contrast);font-size:0.75rem"}),ps=50;function hs({entity:e,title:r,icon:o,iconProps:n,temperatureSuffix:a,includeTitle:s=!0,includeForecast:c=!0,includeCurrent:i=!0,includeTime:l=!0,includeDay:h=!0,details:p=[],apparentTemperatureAttribute:f="apparent_temperature",className:v,service:d,serviceData:m,forecastType:b="daily",forecastRows:u=1,allowForecastToggle:S=!0,cssStyles:N,key:g,..._}){const{useStore:x,getConfig:C}=(0,index_js_.useHass)(),[E,T]=(0,index_js_eager_.useState)(0),j=x(B=>B.globalComponentStyles),z=Math.floor(E/ps),[D,I]=(0,index_js_eager_.useState)("UTC"),[V,w]=(0,index_js_eager_.useState)(b),R=(0,index_js_.useWeather)(e,{type:V}),A=(0,index_js_.isUnavailableState)(R.state),$=(0,index_js_.getIconByEntity)("weather",R),{attributes:{friendly_name:O,temperature:P,temperature_unit:L1}}=R,G=L1.slice(0,-1);(0,index_js_eager_.useEffect)(()=>{async function B(){const H=await C();H&&I(H.time_zone)}B()},[C]);const W=(0,index_js_eager_.useMemo)(()=>(0,index_js_.getSupportedForecastTypes)(R),[R]);(0,index_js_eager_.useEffect)(()=>{w(b)},[b]);const Z=(0,index_js_eager_.useMemo)(()=>{const{humidity:B,temperature:H,wind_speed:re,wind_speed_unit:se,temperature_unit:ie}=R.attributes,me=(0,helpers.E)(H,ie,re,se,B);return{apparent_temperature:R.attributes[f]??null,...R.attributes,...me??{}}},[R.attributes,f]),X=Z.apparent_temperature??Z.feelsLike,le=X===P?null:X,ge=as(R.forecast?.forecast??[],u,z),U=()=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:ge.map((B,H)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{className:"row",fullHeight:!0,style:{justifyContent:"space-between"},children:B.map((re,se)=>{const ie=os(re.datetime,D),[me,,he]=ie.split(",");return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(is,{className:"forecast",children:[h&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(cs,{className:"day",children:me}),l&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ls,{className:"time",children:he}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ss,{className:"icon forecast-icon",icon:(0,index_js_.getIconByEntity)("weather",{...R,state:re.condition}),...n??{}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(ds,{className:"temperature",children:[re.temperature,a||G]}),re.templow&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(us,{className:"temperature-low",children:[re.templow,a||G]})]},se)})},`weather-${H}`))});return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ji,{title:r,entity:e,service:d,serviceData:m,className:`${v??""} weather-card`,resizeDetectorProps:{refreshRate:50,refreshMode:"throttle",onResize({width:B}){B&&T(B)}},cssStyles:`
        ${j?.weatherCard??""}
        ${N??""}
      `,..._,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Zi,{children:[i&&!A&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",justifyContent:"space-between",fullWidth:!0,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{wrap:"nowrap",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(rs,{icon:$,className:"icon"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{className:"column",children:[s&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(es,{className:"title",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ns,{className:"location-icon icon",icon:o||"mdi:location"}),r||O]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(ts,{className:"sub-title",children:[P,a||G,", ",(0,lodash.capitalize)(R.state),le?`, Feels like: ${Math.round(le)}${a||G}`:""]})]})]}),c&&S&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nt,{children:W.map((B,H)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{onClick:()=>{w(B)},icon:"daily"===B?"mdi:view-day":"twice_daily"===B?"mdi:hours-12":"mdi:hourglass",noIcon:!1,title:B,active:V===B,rippleProps:{preventPropagation:!0}},H))})]}),p&&p.length>0&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{gap:"0.5rem",className:"row",children:index_js_eager_.Children.map(p,(B,H)=>(0,index_js_eager_.isValidElement)(B)?(0,index_js_eager_.cloneElement)(B,{key:B.key||H}):B)}),c&&!A&&E>0&&U(),A&&R.state]})},g)}function fs(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"WeatherCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(hs,{...r,...e})})}const gs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Row.X,{target:"e1jqhbrg1"})("width:calc(50% - 1rem);",(0,breakpoints.mq)(["xxs"],`
    width: 100%;
  `),";"),vs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1jqhbrg0"})({name:"jljpb8",styles:"color:var(--ha-S500-contrast);font-size:0.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis"});function bs({icon:e,iconProps:r,entity:o,title:n,suffix:a,render:s,...c}){const i=(0,index_js_.useEntity)(o),l=n??i.attributes.friendly_name??"";return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(gs,{className:"details",gap:"0rem",justifyContent:"flex-start",...c,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{title:l??(0,index_js_.localize)("unknown"),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",fullWidth:!0,gap:"0.5rem",justifyContent:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon",icon:e??i.attributes.icon??"mdi:info",...r??{}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vs,{className:"state",children:"function"==typeof s?s(i):`${l?`${l} - `:""}${i.state??""}${!a&&i.attributes.unit_of_measurement?`${i.attributes.unit_of_measurement}`:a??""}`})]})})})}function dh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"WeatherCardDetail"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bs,{...e})})}const ys=e=>/* @__PURE__ */index_js_eager_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",xmlSpace:"preserve",viewBox:"0 0 77.41 123.36",style:{color:"#444545"},...e},/* @__PURE__ */index_js_eager_.createElement("defs",null,/* @__PURE__ */index_js_eager_.createElement("style",{type:"text/css"},`
      .main-color{fill:currentColor;}
      .bin-wheel{fill:#1B1B1B;}
      .bin-wheel-inner{fill:#2D2D2D;}
      .overlay{
        fill:currentColor;
        filter: brightness(80%);
      }
    `)),/* @__PURE__ */index_js_eager_.createElement("path",{className:"main-color",d:"M67.65,10S55,0,30.19,0C12,0,2.73,5.89,2.73,5.89a.87.87,0,0,0-.36.66v6.92a1.15,1.15,0,0,0,.31.73l.77.74a1.13,1.13,0,0,0,.74.29L67,13.91a.54.54,0,0,0,.51-.43L68,10.59A.64.64,0,0,0,67.65,10Z"}),/* @__PURE__ */index_js_eager_.createElement("path",{className:"main-color",d:"M62.25,19.9H7.18a.41.41,0,0,0-.42.43L11,117.24a1.16,1.16,0,0,0,.34.72l5.17,4.68a1.29,1.29,0,0,0,.75.29H39.57a1,1,0,0,0,.68-.35l17.87-25a1.88,1.88,0,0,0,.28-.78l4.25-76.45A.4.4,0,0,0,62.25,19.9Z"}),/* @__PURE__ */index_js_eager_.createElement("path",{className:"bin-wheel",d:"M63.13,110.22A13.14,13.14,0,1,1,50,97.08,13.14,13.14,0,0,1,63.13,110.22Z"}),/* @__PURE__ */index_js_eager_.createElement("path",{className:"overlay",d:"M54,24.2H14.91a.42.42,0,0,0-.42.43l4.12,93.5c0,.24.07.45.13.46a4.61,4.61,0,0,0,.64,0H33.84a1.82,1.82,0,0,0,.61-.09c.09,0,0-.48-.1-.69a20.13,20.13,0,0,1-1.8-7.62A17.46,17.46,0,0,1,50,92.78h.22a.43.43,0,0,0,.45-.41l3.78-67.74A.41.41,0,0,0,54,24.2Z"}),/* @__PURE__ */index_js_eager_.createElement("path",{className:"bin-wheel-inner",d:"M45.62,108.53l-5.43-2.8a10.49,10.49,0,0,0-.93,3.48l6.1.29A5.34,5.34,0,0,1,45.62,108.53Zm1.43-2-3.3-5.14A10.83,10.83,0,0,0,41.2,104l5.14,3.3A4.77,4.77,0,0,1,47.05,106.57Zm2.22-1L49,99.49a10.66,10.66,0,0,0-3.48.93l2.8,5.43A4.46,4.46,0,0,1,49.27,105.6Zm5.35,3.9,6.1-.29a10.73,10.73,0,0,0-.93-3.48l-5.43,2.8A5.34,5.34,0,0,1,54.62,109.5Zm-1-2.22,5.14-3.3a10.83,10.83,0,0,0-2.55-2.55l-3.3,5.14A4.77,4.77,0,0,1,53.64,107.28Zm-8.28,3.66-6.1.29a10.66,10.66,0,0,0,.93,3.48l5.43-2.8A5.13,5.13,0,0,1,45.36,110.94ZM45.5,120A10.42,10.42,0,0,0,49,121l.29-6.1a5.13,5.13,0,0,1-1-.26Zm8.86-8.11,5.43,2.8a10.66,10.66,0,0,0,.93-3.48l-6.1-.29A5.13,5.13,0,0,1,54.36,111.91Zm-8,1.25-5.14,3.3A10.65,10.65,0,0,0,43.75,119l3.3-5.14A4.77,4.77,0,0,1,46.34,113.16Zm6.59.71,3.3,5.14a10.65,10.65,0,0,0,2.55-2.55l-5.14-3.3A4.77,4.77,0,0,1,52.93,113.87Zm-2.22,1L51,121a10.49,10.49,0,0,0,3.48-.93l-2.8-5.43A5.13,5.13,0,0,1,50.71,114.85Zm3.77-14.43A10.66,10.66,0,0,0,51,99.49l-.29,6.11a4.46,4.46,0,0,1,1,.25Z"}),/* @__PURE__ */index_js_eager_.createElement("path",{className:"overlay",d:"M72.37,10.94,69.72,8.06A.5.5,0,0,0,69.08,8l-3.46,2.64a1.48,1.48,0,0,1-.77.26H.43a.43.43,0,0,0-.43.43v8.14a.43.43,0,0,0,.43.43H64.85a1.05,1.05,0,0,0,.71-.33l6.82-8A.51.51,0,0,0,72.37,10.94Z"}),/* @__PURE__ */index_js_eager_.createElement("path",{className:"main-color",d:"M77.41,8.11a4.69,4.69,0,1,1-4.69-4.69A4.69,4.69,0,0,1,77.41,8.11Z"}),/* @__PURE__ */index_js_eager_.createElement("path",{className:"overlay",d:"M75.36,8.11a2.64,2.64,0,1,1-2.64-2.64A2.64,2.64,0,0,1,75.36,8.11Z"}));const xs=77.41/123.36,ws=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"ef4onsx5"})(),Ns=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ef4onsx4"})({name:"1qh4jjv",styles:"padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between"}),Es=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ef4onsx3"})("position:relative;.vertical-text{position:absolute;inset:0;margin-top:40%;margin-left:5%;",e=>"string"==typeof e.textColor&&`color: ${e.textColor};`,";text{transition:opacity var(--ha-transition-duration) var(--ha-easing);opacity:0;}}.bin-icon{position:absolute;top:50%;left:50%;transform:translate3d(-65%, -60%, 0);",e=>"string"==typeof e.iconColor&&`color: ${e.iconColor};`,";}"),Ss=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Column.s,{target:"ef4onsx2"})({name:"1qntq08",styles:"background:var(--ha-S500);border-radius:0.5rem;padding:0.5rem;width:50%;&:nth-of-type(2n){margin-left:1rem;}.collection-time{font-size:0.8rem;color:var(--ha-S500-contrast);}.collection-title{font-size:0.8rem;margin-bottom:0.5rem;color:var(--ha-S300-contrast);}"}),ks=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ef4onsx1"})({name:"1o9bz4x",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold"}),_s=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ef4onsx0"})({name:"kl4f2c",styles:"font-size:0.8rem;margin-top:0.5rem;color:var(--ha-S500-contrast)"});function Cs({height:e,text:r}){const o=e/xs/2,n=e/1.3,a=(0,index_js_eager_.useRef)(null),[s,c]=(0,index_js_eager_.useState)(n);return(0,index_js_eager_.useEffect)(()=>{(()=>{if(a.current){const l=a.current.getComputedTextLength();l>n&&c(h=>n/l*h),a.current.style.opacity="1"}})()},[n,r]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("svg",{width:o,height:n,className:"vertical-text",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("text",{ref:a,x:"0",y:"0",transform:`translate(${o/2}, ${n/2}) rotate(90)`,textAnchor:"middle",dominantBaseline:"middle",fill:"currentColor",fontSize:s,children:r})})}function Ds({schedules:e,svg:r,title:o="Garbage Collection",description:n,className:a,cssStyles:s,key:c,...i}){const{useStore:l}=(0,index_js_.useHass)(),h=l(g=>g.globalComponentStyles),p=(0,index_js_.useEntity)("sensor.date",{returnNullIfNotFound:!0}),f=(0,index_js_eager_.useMemo)(()=>({size:45,color:"#484848",textColor:"rgba(0,0,0,0.6)",iconColor:"rgba(0,0,0,0.6)",...r??{}}),[r]),v=(0,index_js_eager_.useMemo)(()=>(null===p?/* @__PURE__ */new Date:new Date(p.state)).getDay(),[p]),d=Math.floor(/* @__PURE__ */new Date().getDate()/7),m=(0,index_js_eager_.useMemo)(()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[]),b=(0,index_js_eager_.useCallback)((g,_)=>{if("object"==typeof g&&"function"==typeof g.render)return g.render(g,_);const x="string"==typeof g?f.size:g?.size??f.size,C="string"==typeof g?g:g?.color??f.color,E="string"==typeof g?f.textColor:g?.textColor??f.textColor,T="string"==typeof g?f.iconColor:g?.iconColor??f.iconColor,j="string"==typeof g?void 0:g?.icon;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Es,{className:"bin-group",textColor:E,iconColor:T,children:["string"!=typeof g&&typeof g<"u"&&"string"==typeof g.name&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Cs,{height:x,text:g.name}),"string"==typeof j&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon bin-icon",icon:j,style:{fontSize:x/2.7}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ys,{className:"garbage-bin",style:{color:C,width:x}})]},_)},[f]),u=(0,index_js_eager_.useCallback)(g=>0===g?"Today":1===g?"Tomorrow":`in ${g} days`,[]),S=(0,index_js_eager_.useCallback)((g,_)=>{for(let x=0;x<g.length;x++){const C=(_+x)%g.length;if(null!==g[C])return C}return -1},[]),N=(0,index_js_eager_.useMemo)(()=>e.flatMap(g=>{const x=(m.map(R=>R.toLowerCase()).indexOf(g.day.toLowerCase())-v+7)%7,C=/* @__PURE__ */new Date;C.setDate(/* @__PURE__ */new Date().getDate()+x);const E=g.weeks[d];let T=(d+1)%g.weeks.length;"weekly"!==g.frequency&&(T=S(g.weeks,d));const j=g.weeks[T],z=u(x);if(g.hideNextCollection||null===j)return[{schedule:g,timeUntilCollection:z,bins:E}];const D=new Date(C);let I;switch(g.frequency){case"weekly":I=7;break;case"fortnightly":I=14;break;case"monthly":I=28;break;default:I=7}D.setDate(C.getDate()+I);const V=x+I,w=u(V);return[{schedule:g,timeUntilCollection:z,bins:E},{schedule:g,timeUntilCollection:w,bins:j}]}),[d,m,e,v,S,u]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ws,{cssStyles:`
      ${h?.garbageCollectionCard??""}
      ${s??""}
    `,disableActiveState:!0,disableRipples:!0,disableScale:!0,className:`garbage-collection-card ${a??""}`,...i,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ns,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",fullWidth:!0,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ks,{className:"title",children:o}),typeof n<"u"&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(_s,{className:"description",children:n})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{className:"row",fullWidth:!0,wrap:"nowrap",justifyContent:"space-between",style:{marginTop:"0.5rem"},children:N.filter(g=>null!==g.bins).map((g,_)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ss,{className:"bin-box",children:[typeof g.schedule.title<"u"&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"collection-title",children:g.schedule.title}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{className:"row",wrap:"nowrap",gap:"1rem",children:g.bins&&g.bins.map((x,C)=>b(x,C))}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"collection-time",children:g.timeUntilCollection})]},_))})]})},c)}function uh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"GarbageCollectionCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ds,{...r,...e})})}const Os=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e1x6j6w51"})({name:"1ll9bqd",styles:"cursor:default"}),Rs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1x6j6w50"})({name:"lgify2",styles:"padding:1rem;height:100%;.primary-icon{color:var(--ha-A200);font-size:30px;}&:not(:disabled),&:not(.disabled){&:hover,&:active{.primary-icon{color:var(--ha-A400);}}}"});function Is(e){const[r,o]=e.split(":"),n=/* @__PURE__ */new Date;return n.setHours(parseInt(r)),n.setMinutes(parseInt(o)),new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).formatToParts(n)}function As(e){const r=new Date(e);let n=new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"2-digit"}).format(r);const a=r.getDate(),s=formatter_x(a);return n.replace(/\d+/,`${a}${s}`)}const In="hh:mm A",An="dddd, MMMM DD YYYY",gt=formatter_j({});function Ts({timeEntity:e,dateEntity:r,timeFormat:o,dateFormat:n,throttleTime:a=1e3,hideDate:s=!1,hideIcon:c=!1,hideTime:i=!1,center:l=!1,icon:h,iconProps:p,className:f,children:v,disabled:d,onClick:m,cssStyles:b,key:u,...S}){const[N,g]=(0,index_js_eager_.useState)(/* @__PURE__ */new Date),_=(0,index_js_eager_.useRef)(Date.now()),x=(0,index_js_eager_.useRef)(void 0),{useStore:C}=(0,index_js_.useHass)(),E=C($=>$.globalComponentStyles),T=(0,index_js_.useEntity)(e??"sensor.time",{returnNullIfNotFound:!0}),j=(0,index_js_.useEntity)(r??"sensor.date",{returnNullIfNotFound:!0}),z=(0,index_js_eager_.useMemo)(()=>h||j?.attributes?.icon||"mdi:calendar",[h,j]),[D,I]=(0,index_js_eager_.useMemo)(()=>{const $=Is(T?.state??"00:00"),O=$.find(G=>"hour"===G.type),P=$.find(G=>"minute"===G.type),L1=$.find(G=>"dayPeriod"===G.type);return[`${O?.value}:${P?.value}`,L1?.value]},[T?.state]),V="function"==typeof m,w=(0,index_js_eager_.useMemo)(()=>{if(T&&!o)return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TimeCard_shared_a,{className:"time",children:D}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TimeCard_shared_n,{className:"time-suffix",children:I})]});try{return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TimeCard_shared_a,{className:"time",children:"function"==typeof o?o(N,gt):gt(N,o??In)})}catch($){return console.error("Time formatting error",$),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TimeCard_shared_a,{className:"time",children:gt(N,In)})}},[I,N,D,o,T]),R=(0,index_js_eager_.useMemo)(()=>{try{return j&&!n?As(j.state):"function"==typeof n?n(N,gt):gt(N,n??An)}catch($){return console.error("Date formatting error",$),gt(N,An)}},[N,n,j]),A=(0,index_js_eager_.useCallback)(()=>{const $=Date.now(),O=$-_.current;O>=a&&(g(/* @__PURE__ */new Date),_.current=$-O%a),x.current=requestAnimationFrame(A)},[a]);return(0,index_js_eager_.useEffect)(()=>{if(!((T||j)&&!(o||n)))return x.current=requestAnimationFrame(A),()=>cancelAnimationFrame(x.current)},[A,o,n,T,j]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Os,{cssStyles:`
        ${E?.timeCard??""}
        ${b??""}
      `,className:`${f??""} time-card`,whileTap:{scale:d||!V?1:.9},disableActiveState:S.disableActiveState??!V,disableRipples:S.disableRipples??!V,onClick:($,O)=>{V&&T&&m?.(T,O)},...S,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Rs,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{className:"column",gap:"0.5rem",alignItems:l?"center":"flex-start",fullHeight:!0,wrap:"nowrap",children:[(!c||!i)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",gap:"0.5rem",alignItems:"center",wrap:"nowrap",children:[!c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon primary-icon",icon:z,...p??{}}),!i&&w]}),!s&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{children:R})]}),v&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"children",children:v})]})},u)}function zs(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"TimeCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ts,{...r,...e})})}const Vs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"ewn90o04"})({name:"ydyzro",styles:"aspect-ratio:16/9;background-color:transparent;&:hover,&:active{background-color:transparent!important;}height:var(--stretch,)"}),Do=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ewn90o03"})({name:"1bejhbe",styles:"all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem"}),$s=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Do,{target:"ewn90o02"})({name:"2gnka1",styles:"padding:0.95rem;color:var(--ha-S100-contrast);background-color:var(--ha-S50);inset:0 0 auto 0;z-index:calc(var(--ha-device-area-card-z-index) + 1);border-bottom:1px solid var(--ha-S200)"}),Ms=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"ewn90o01"})("position:fixed;inset:0;left:var(--ha-area-card-expanded-offset);padding:0;margin:0;max-height:100svh;background:var(--ha-S100);z-index:var(--ha-device-area-card-z-index);display:flex;justify-content:center;align-items:stretch;transition:left var(--ha-transition-duration) var(--ha-easing);color:var(--ha-S50-contrast);",(0,breakpoints.mq)(["xxs","xs"],`
    left: 0;
  `),";"),Ps=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ewn90o00"})({name:"3jdts4",styles:"margin-top:5rem;display:flex;justify-content:flex-start;align-items:center;width:100%;overflow-y:auto;flex-direction:column"});var js={name:"12p7ws1",styles:":root{--ha-hide-body-overflow-y:hidden;}"};function Bs({hash:e,children:r,icon:o,title:n,image:a,animationDuration:s=.25,className:c,preloadProps:i,onClick:l,disable:h,id:p,cssStyles:f,key:v,...d}){const m=(0,index_js_eager_.useId)(),b=p??m,{useStore:u,addRoute:S,getRoute:N}=(0,index_js_.useHass)(),g=u(I=>I.globalComponentStyles),_=u(I=>I.portalRoot),C=u(I=>I.windowContext)??window,[E]=useKeyPress(I=>"Escape"===I.key),[T,j]=(0,index_js_eager_.useState)(!1),z=(0,index_js_eager_.useMemo)(()=>N(e),[e,N]);(0,index_js_eager_.useEffect)(()=>{z?.active&&!T?j(!0):!z?.active&&T&&j(!1)},[z,T]),(0,index_js_eager_.useEffect)(()=>{S({hash:e,icon:o||"mdi:info",name:n})},[S,e,o,n]),(0,index_js_eager_.useEffect)(()=>{E&&T&&(location.hash="")},[E,T]);const D={duration:s};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[T&&(0,react_dom_index_js_eager_.createPortal)(/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(AnimatePresence,{mode:"wait",initial:!1,children:!0===T&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ms,{className:"full-screen",initial:{opacity:0},transition:{...D},exit:{opacity:0,transition:{...D,delay:s}},animate:{opacity:1,transition:{...D,delay:0}},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_browser_esm_js_.Global,{styles:js}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($s,{className:"nav-bar",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",justifyContent:"space-between",className:"row",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",className:"row",children:[o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon",icon:o}),n]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{title:(0,index_js_.localize)("close"),tooltipPlacement:"left",icon:"mdi:close",onClick:()=>{location.hash=""}})]})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ps,{className:"child-container",children:r})]},`fullscreen-layout-${b}`)},`${b}-area-card-parent`),_??C.document.body,b),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vs,{disableActiveState:!0,disableRipples:!0,id:`${b}-area-card`,className:`area-card ${c??""}`,onClick:()=>{h||(location.hash=e,l&&l())},cssStyles:`
          ${g.areaCard??""}
          ${f??""}
        `,...d,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(PreloadImage.b,{...i??{},src:a,style:{width:"100%",height:"100%",position:"absolute"},lazy:!0,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Do,{className:"footer",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",className:"row",children:[o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon",icon:o,style:{color:"var(--ha-500-contrast)"}}),n]})})})},v)]})}function ph(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"AreaCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Bs,{...r,...e})})}const Fs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Eo,{target:"eb4h5nq1"})({name:"1p4572o",styles:".footer{margin-top:0.5rem;}"}),Ls=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(VacuumImage_C,{target:"eb4h5nq0"})({name:"1d3w5wq",styles:"width:100%"});function Ws({entity:e,shortcuts:r,hideCurrentBatteryLevel:o,hideState:n=!1,hideUpdated:a=!1,hideToolbar:s=!1,className:c,cssStyles:i,serviceData:l,service:h,modalProps:p,customImage:f,locatingNode:v,...d}){const{useStore:m}=(0,index_js_.useHass)(),[b,u]=(0,index_js_eager_.useState)(!1),S=m(C=>C.globalComponentStyles),N=(0,index_js_.useEntity)(e),g=(0,index_js_eager_.useMemo)(()=>b?v??`${(0,index_js_.localize)("locate")}...`:N.attributes.status??N.state,[N.attributes.status,v,N.state,b]),_=(0,index_js_eager_.useCallback)(()=>{u(!0),setTimeout(()=>{u(!1)},2e3)},[]),x=shared_n({entity:N,shortcuts:r,onLocate(){_()}});return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Fs,{className:`${c??""} vacuum-card`,modalProps:{stateTitle:g,locatingNode:v,hideCurrentBatteryLevel:o,hideState:n,hideUpdated:a,hideToolbar:s,shortcuts:r,...p},entity:e,service:h,serviceData:l,disableActiveState:!0,disableRipples:!0,hideToggle:!0,cssStyles:`
        ${S.vacuumCard??""}
        ${i??""}
      `,icon:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ls,{src:f,className:N.state}),customRenderState:()=>g,fabProps:{style:{padding:0,backgroundColor:"none",width:"3rem",height:"3rem"}},features:x.map((C,E)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vt,{iconProps:{color:C?.active?"var(--ha-300)":void 0},...C},E)),...d})}function hh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"VacuumCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ws,{...r,...e})})}const Hs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e1ndedhf2"})({name:"1w0uscc",styles:"aspect-ratio:16/9"}),qs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1ndedhf1"})({name:"1s8jpg3",styles:"flex-direction:column;align-items:stretch;justify-content:space-between"}),Ys=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.h4,{target:"e1ndedhf0"})({name:"fn7q5o",styles:"all:unset;font-family:var(--ha-font-family);padding:1rem;color:var(--ha-500-contrast);background-color:var(--ha-background-opaque);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem"});function Us({title:e,key:r,image:o,icon:n,iconProps:a,className:s,preloadProps:c,children:i,...l}){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Hs,{disableActiveState:!0,disableScale:l.disableScale??typeof l.onClick>"u",disableRipples:l.disableRipples??typeof l.onClick>"u",className:`picture-card ${s??""}`,...l,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(qs,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(PreloadImage.b,{...c??{},src:o,style:{width:"100%",height:"100%",position:"absolute"},lazy:!0,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ys,{className:"footer",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",className:"row",children:[n&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{icon:n,className:"icon",...a??{}}),e]})})})}),i&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"children",children:i})]},r)}function fh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"PictureCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Us,{...r,...e})})}const Gs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(({service:e,serviceData:r,key:o,...n})=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ce,{service:e,serviceData:r,...n},o),{target:"eu9w9ut1"})("flex-shrink:0;border-radius:",e=>e.borderRadius,";color:",e=>e.active?"var(--ha-A400)":"var(--ha-S500-contrast)",";",e=>e.size&&`
    font-size: ${.37*e.size}px;
    height: ${e.size}px;
    ${e.hasChildren?"":`width: ${e.size}px;`}
  `,">.ripple-parent{>.ripple-inner{height:100%;}}"),Qs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eu9w9ut0"})("text-align:center;display:flex;flex-grow:0;flex-shrink:0;justify-content:center;align-items:center;height:100%;svg{",e=>e.hasChildren?"margin-right: 0.5rem;":"",";}",e=>`
    ${e.hasChildren?`padding: 0 ${.2*e.size}px;`:`
    `}
  `,";");function Xs({title:e,tooltipPlacement:r,icon:o,iconProps:n,noIcon:a,size:s=48,entity:c,active:i,children:l,disabled:h=!1,borderRadius:p,className:f,service:v,serviceData:d,cssStyles:m,key:b,...u}){const{useStore:S}=(0,index_js_.useHass)(),N=S(w=>w.globalComponentStyles),g=(0,index_js_.useEntity)(c||"unknown",{returnNullIfNotFound:!0}),_=c?(0,index_js_.computeDomain)(c):null,x="string"==typeof o?o:null,C=(0,index_js_.useIconByDomain)(null===_?"unknown":_,{...n??{},fontSize:n?.fontSize??`${s/1.7}px`}),E=typeof l<"u",T=E?p??"10px":p??"50%",j="string"==typeof g?.state?(0,index_js_.isUnavailableState)(g.state):!1,z=(0,index_js_.useIconByEntity)(c||"unknown",{...n??{},fontSize:n?.fontSize??`${s/1.7}px`}),D=(0,index_js_.useIcon)(x,{...n??{},fontSize:n?.fontSize??`${s/1.7}px`}),I="boolean"==typeof i?i:null===g?!1:g.state===index_js_.ON&&!j,V=(0,index_js_eager_.useMemo)(()=>e||(null!==_&&c?(0,index_js_.computeDomainTitle)(c,g?.attributes?.device_class):null),[e,_,g,c]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:r,title:`${e??g?.attributes?.friendly_name??V??""}${g?.state?` - ${g.state}`:""}`,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Gs,{as:"button",title:V,service:v,serviceData:d,entity:c,className:`fab-card ${f??""}`,disabled:h||j,active:I,size:s,borderRadius:T,hasChildren:E,disableColumns:!0,cssStyles:`
            ${N?.fabCard??""}
            ${m??""}
          `,...u,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Qs,{size:s,hasChildren:E,children:[!0!==a&&(D||z||C),E?l:void 0]})})},b)})}function ve(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"FabCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Xs,{...e})})}const Ks=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e4debe2"})({name:"1ll9bqd",styles:"cursor:default"}),Js=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e4debe1"})("padding:1rem;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;.person-card{&.entity-count-2-plus{width:",(0,breakpoints.yG)(6),";",(0,breakpoints.mq)(["xxs","xs"],`
        width: ${(0,breakpoints.yG)(12)};
      `)," ",(0,breakpoints.mq)(["md","lg","xlg"],`
        width: ${(0,breakpoints.yG)(4)};
      `),";}&.entity-count-1{width:",(0,breakpoints.yG)(12),";}&.entity-count-2{width:",(0,breakpoints.yG)(6),";",(0,breakpoints.mq)(["xxs","xs"],`
        width: ${(0,breakpoints.yG)(12)};
      `),";}}"),Zs=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e4debe0"})({name:"1o9bz4x",styles:"color:var(--ha-S100-contrast);font-size:0.9rem;font-weight:bold"});function ec({title:e,key:r,cssStyles:o,children:n,className:a,...s}){const{useStore:c}=(0,index_js_.useHass)(),i=c(f=>f.globalComponentStyles),l=index_js_eager_.Children.count(n),h=l>2?"2-plus":1===l?"1":"2",p=index_js_eager_.Children.map(n,(f,v)=>{if((0,index_js_eager_.isValidElement)(f)){const b=["xxs","xs","sm","md","lg","xlg"].some(u=>"number"==typeof f.props[u])?!1:f.props.disableColumns??!0;return(0,index_js_eager_.cloneElement)(f,{key:f.key||v,className:b?`entity-count-${h}`:"",disableColumns:b})}return f});return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ks,{disableRipples:!0,disableScale:!0,disableActiveState:!0,className:`family-card ${a}`,cssStyles:`
      ${i?.familyCard??""}
      ${o??""}
    `,...s,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Js,{children:[e&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{alignItems:"flex-start",fullWidth:!0,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Zs,{children:e})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{className:"row",fullWidth:!0,wrap:"wrap",justifyContent:"flex-start",gap:"0.5rem",style:{marginTop:"0.5rem"},children:p})]})},r)}function mh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"FamilyCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ec,{...r,...e})})}const tc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e1qo3r524"})({name:"zx801r",styles:"background-color:var(--ha-S500);&:not(.disabled):hover,&:not(:disabled):hover{background-color:var(--ha-S600);}"}),rc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1qo3r523"})({name:"2w5is8",styles:"display:flex;justify-content:center;align-items:center;flex-direction:column;gap:8px;border-radius:0.5rem;padding:0.5rem;.state-text{font-size:0.8rem;color:var(--ha-S500-contrast);}"}),Tn=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1qo3r522"})("position:relative;.avatar-image,.avatar-icon{border-radius:100%;width:",({width:e})=>e,";height:",({height:e})=>e,";border:",({withBorder:e})=>e?"2px solid var(--ha-50)":"none",";box-shadow:",({withBorder:e})=>e?"0 2px 2px rgba(0, 0, 0, 0.2)":"none",";background:var(--ha-S900);}.avatar-icon{display:flex;align-items:center;justify-content:center;}"),zn=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1qo3r521"})({name:"1qni5pz",styles:"position:absolute;background-color:var(--ha-50);border-radius:100%;top:calc(50% + 8px);right:calc(0% - 11px);display:flex;justify-content:center;align-items:center;height:28px;width:28px;border:3px solid var(--ha-S500)"}),nc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1qo3r520"})({name:"k9o5p4",styles:"flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;text-align:center;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}"}),Io=({entity:e,iconSize:r={width:"2.5rem",height:"2.5rem"},avatarSize:o={width:"3.5rem",height:"3.5rem"},withBorder:n=!1,stateIcon:a})=>{const s=(0,index_js_.useEntity)(e),{joinHassUrl:c}=(0,index_js_.useHass)(),i=(0,index_js_eager_.useMemo)(()=>{const p=s.attributes.entity_picture?s.attributes.entity_picture:null;return p&&p.startsWith("/")?c(p):p},[s.attributes.entity_picture,c]),l=(0,index_js_.useIcon)(s.attributes.icon??"mdi:account",r),h=(0,index_js_.useIcon)(a??"",{width:"16px",height:"16px",color:"var(--ha-S900)"});return i?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Tn,{width:o.width,height:o.height,withBorder:n,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("img",{src:i,className:"avatar-image"}),a&&h&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zn,{children:h})]}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Tn,{width:o.width,height:o.height,withBorder:n,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"avatar-icon",children:l}),a&&h&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zn,{children:h})]})};function oc({entity:e,personStateMap:r={},cssStyles:o,modalProps:n,className:a,...s}){const{useStore:c}=(0,index_js_.useHass)(),i=c(d=>d.globalComponentStyles),h={home:{text:(0,index_js_.localize)("home"),icon:"mdi:home"},not_home:{text:(0,index_js_.localize)("away"),icon:"mdi:walk"},...r},p=(0,index_js_.useEntity)(e),f=h[p.state]?.text??p.state,v=h[p.state]?.icon;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(tc,{entity:e,className:`person-card ${a}`,cssStyles:`
      ${i?.personCard??""}
      ${o??""}
    `,modalProps:{stateTitle:f,...n},...s,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(rc,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Io,{entity:e,stateIcon:v}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(nc,{children:[p.attributes.friendly_name,/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:f})]})]})})}function gh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"PersonCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(oc,{...r,...e})})}const ac=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(zs,{target:"e1yomyvi7"})("padding:0;background:transparent;width:100%;box-shadow:none;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:padding;border-radius:0;&:hover{box-shadow:none;background:transparent;}&:not(.disabled):not(:disabled):not(:focus):hover{box-shadow:none;background:transparent;color:var(--ha-S200-contrast) svg{color:var(--ha-S200-contrast);}}.time,.time-suffix{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:font-size;}",e=>!e.open&&`
    padding: 0.5rem 0;
    .time, .time-suffix {
      font-size: 0.7rem;
    }
  `,";"),ic=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"e1yomyvi6"})("background-color:var(--ha-S50);display:flex;flex-direction:column;align-items:center;overflow:hidden;height:100%;justify-content:flex-start;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:left;transform-origin:left center;gap:1rem;>*{transition:var(--ha-transition-duration) var(--ha-easing);transition-property:padding;}",(0,breakpoints.mq)(["xxs","xs"],`
    position: fixed;
    top: 0;
    bottom: 0;
    left: var(--ha-sidebar-offset);
    z-index: calc(var(--ha-device-area-card-z-index) - 1);
  `),";"),Ao=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.ul,{target:"e1yomyvi5"})("padding:0;margin:1rem 0 0 0;width:100%;li{position:relative;list-style-type:none;a{position:relative;cursor:pointer;user-select:none;position:relative;cursor:pointer;user-select:none;height:3rem;text-decoration:none;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center;justify-content:flex-start;flex-direction:row;padding:0.5rem 0rem 0.5rem 1rem;gap:1rem;&:hover{background:transparent;}svg{display:inline-block;margin:0;text-align:left;font-size:1.5rem;}>.menu-inner{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;}span{display:block;width:100%;font-size:0.7rem;font-weight:300;color:var(--ha-S100-contrast);}}}li{>a{color:var(--ha-S100-contrast);background-color:transparent;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color,background-color;svg{color:var(--ha-S100-contrast);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:color;}}&:hover,&.active,&:focus{>a{color:var(--ha-A400);background-color:var(--ha-S100);svg{color:var(--ha-A400);}}}}",e=>!e.open&&`
    margin: 0;
    li {
      a {
        padding: 0;
        justify-content: center;
        svg {
          margin: 0;
        }
      }
    }
  `,";"),sc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("hr",{target:"e1yomyvi4"})({name:"k9qapc",styles:"width:100%;border:none;border-bottom:1px solid var(--ha-S200);margin:0"}),cc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ao,{target:"e1yomyvi3"})("margin:0;li{a{justify-content:center;padding:0.7rem;svg{margin:0;}}}",(0,breakpoints.mq)(["xxs","xs"],`
    left: 0;
    top: 0;
    li {
      a {
        background-color: transparent;
      }
    }
  `),";"),Vn=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1yomyvi2"})({name:"w1atjl",styles:"width:100%;height:100%"}),lc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(fs,{target:"e1yomyvi1"})({name:"1vz6grl",styles:"background:transparent;width:100%;padding:0;border-radius:0;box-shadow:none;&:hover{box-shadow:none;background:transparent;}"}),dc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(lc,{target:"e1yomyvi0"})("padding-bottom:1rem;border-radius:0;",e=>!e.open&&`
    div > * {
      display: none;
    }
    div > svg {
      display: flex;
    }
  `,";");function uc({weatherCardProps:e,timeCardProps:r={hideIcon:!0,hideDate:!0,center:!0},startOpen:o=!0,collapsible:n=!0,menuItems:a=[],children:s,autoIncludeRoutes:c=!0,includeTimeCard:i=!0,className:l,cssStyles:h,sortSidebarMenuItems:p,key:f,...v}){const[d,m]=(0,index_js_eager_.useState)(o),{useStore:b}=(0,index_js_.useHass)(),u=b(_=>_.routes),S=b(_=>_.hash),N=Ut(),g=(0,index_js_eager_.useMemo)(()=>{const _=u.map(C=>({...C,title:C.name,onClick(){C.active||(location.hash="",setTimeout(()=>{location.hash=C.hash},""===S?0:450))}})),x=c?[...a,..._]:a;return"function"==typeof p&&x.sort(p),x},[u,p,c,a,S]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_browser_esm_js_.Global,{styles:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(":root{--ha-area-card-expanded-offset:",N.xxs||N.xs?"0rem":d?"var(--ha-device-sidebar-card-width-expanded, 19rem)":"var(--ha-device-sidebar-card-width-collapsed, 5rem)",";--ha-sidebar-max-width:",d?"var(--ha-device-sidebar-card-width-expanded, 19rem)":"var(--ha-device-sidebar-card-width-collapsed, 5rem)",";--ha-sidebar-offset:",d?"0":"calc(var(--ha-sidebar-max-width) * -1)",";}")}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ic,{css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(h??"",";"),className:`${l??""} sidebar-card`,animate:{width:"100%",maxWidth:d?"var(--ha-device-sidebar-card-width-expanded, 19rem)":"var(--ha-device-sidebar-card-width-collapsed, 5rem)"},initial:!1,...v,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{className:"column",wrap:"nowrap",fullHeight:!0,fullWidth:!0,alignItems:"flex-start",justifyContent:"space-between",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Vn,{className:"filler",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",wrap:"nowrap",style:{padding:d?"0.28rem 0":"0",flexDirection:d?"row":"column"},children:[i&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ac,{disableColumns:!0,className:"sidebar-time-card",open:d,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:0},...r},"sidebar-large-time-card"),n&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(cc,{open:d,className:"hamburger-menu",animate:{width:N.xxs||N.xs?"auto":d?"40%":"100%",position:N.xxs||N.xs?"fixed":"relative"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(proxy.E.li,{onClick:_=>{_.stopPropagation(),m(!d)},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("a",{style:{justifyContent:"center"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon",icon:d?"mdi:close":"mdi:menu"})})})},"hamburger-menu-open")]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(sc,{className:"divider"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ao,{open:d,className:"menu",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(AnimatePresence,{initial:!1,children:g.map((_,x)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(proxy.E.li,{onClick:C=>{C.stopPropagation(),_.onClick(C)},className:_.active?"active":"inactive",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("a",{children:["string"==typeof _.icon?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon",icon:_.icon}):_.icon,d&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"menu-inner",children:[_.title,_.description&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:_.description})]})]})},x))})}),s&&d&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vn,{className:"filler",children:s})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(AnimatePresence,{mode:"wait",initial:!1,children:e&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(proxy.E.div,{className:"weather-wrapper",animate:{width:"100%",padding:d?"0 1rem 1rem":"0"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(dc,{disableColumns:!0,className:"weather-card-sidebar",open:d,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},...e})},"sidebar-weather-large")})]})},f??"ha-sidebar-closed")]})}function vh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"SidebarCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(uc,{...e})})}const hc={auto:"full",cool:"end",dry:"full",fan_only:"full",heat:"start",heat_cool:"full",off:"full"},fc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"evn1rt0"})({name:"qmiylc",styles:"position:relative;width:320px;.container{position:relative;}.info *{margin:0;pointer-events:auto;}.label{width:60%;font-weight:500;text-align:center;align-items:center;justify-content:center;display:flex;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}.label span{white-space:nowrap;}.label ha-svg-icon{bottom:5%;}.label.disabled{color:#444;}.buttons{position:absolute;bottom:10px;left:0;right:0;margin:0 auto;gap:24px;display:flex;flex-direction:row;align-items:center;justify-content:center;}.info{position:absolute;inset:0px;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;font-size:16px;line-height:24px;letter-spacing:0.1px;}.dual{display:flex;flex-direction:row;gap:24px;}.dual button{outline:none;background:none;color:inherit;font-family:inherit;-webkit-tap-highlight-color:transparent;border:none;opacity:0.5;padding:0;transition:opacity 180ms ease-in-out,transform 180ms ease-in-out;cursor:pointer;}.dual button:focus-visible{transform:scale(1.1);}.dual button.selected{opacity:1;}.control-slider-circular{width:100%;}"});function mc({entity:e,targetTempStep:r,showCurrent:o=!1}){const[n,a]=(0,index_js_eager_.useState)({}),[s,c]=(0,index_js_eager_.useState)("low"),i=(0,index_js_.useEntity)(e),[l,h]=(0,index_js_eager_.useState)(null),{getConfig:p}=(0,index_js_.useHass)(),{min_temp:f,max_temp:v,target_temp_step:d,hvac_modes:m}=i.attributes,b=(0,index_js_eager_.useMemo)(()=>r??d??(l?.unit_system.temperature===ClimateControls_data.gD?1:.5),[l?.unit_system.temperature,r,d]);(0,index_js_eager_.useEffect)(()=>{a({value:i.attributes.temperature,low:i.attributes.target_temp_low,high:i.attributes.target_temp_high})},[i.attributes.temperature,i.attributes.target_temp_low,i.attributes.target_temp_high]);const u=(0,index_js_.supportsFeatureFromAttributes)(i.attributes,ClimateControls_data.pi.TARGET_TEMPERATURE),S=(0,index_js_.supportsFeatureFromAttributes)(i.attributes,ClimateControls_data.pi.TARGET_TEMPERATURE_RANGE);(0,index_js_eager_.useEffect)(()=>{p().then(h)},[p]);const N=(0,index_js_eager_.useCallback)(V=>{if("high"===V||"low"===V){i.service.setTemperature({serviceData:{target_temp_low:n.low,target_temp_high:n.high}});return}i.service.setTemperature({serviceData:{temperature:n.value}})},[n,i]),g=(0,index_module.y1)(V=>N(V),1e3,{trailing:!0,leading:!0}),_=(0,index_js_eager_.useCallback)((V,w)=>{const R="high"===V?v:f;let A=n[V]??R;A+=w,A=(0,lodash.clamp)(A,f,v),"high"===V&&null!=n.low&&(A=(0,lodash.clamp)(A,n.low,v)),"low"===V&&null!=n.high&&(A=(0,lodash.clamp)(A,f,n.high)),a($=>({...$,[V]:A})),g(V)},[v,f,g,n]),x=(0,index_js_eager_.useCallback)(V=>{c(V)},[]),C=(0,index_js_eager_.useCallback)(()=>{if(i.state===index_js_.UNAVAILABLE)return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label disabled",children:i.state??""});if(!u&&!S)return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label",children:i.state??""});const V=i.attributes.hvac_action,w=(0,index_js_.toReadableString)(i.attributes.hvac_action);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label",children:V&&"off"!==V&&"idle"!==V?w:(0,index_js_.localize)("target_temperature")})},[i.attributes.hvac_action,i.state,u,S]),E=(0,index_js_eager_.useCallback)((V,w)=>{a(R=>({...R,[w]:V})),c(w),N(w)},[N]),T=(0,index_js_eager_.useCallback)((V,w)=>{a(R=>({...R,[w]:V})),c(w)},[]),j=(0,index_js_eager_.useCallback)((V,w)=>{const R=shared_o.heat,A=shared_o.cool,$=w&&(0,index_js_.stateActive)(i)?"high"===V?A[1]:R[1]:void 0;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"buttons",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{style:{borderColor:$},icon:"mdi:minus",onClick:()=>_(V,-b)}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{style:{borderColor:$},icon:"mdi:plus",onClick:()=>_(V,b)})]})},[_,b,i]),z=(0,index_js_eager_.useCallback)(V=>{const w=b.toString().split(".")?.[1]?.length??0,R={maximumFractionDigits:w,minimumFractionDigits:w};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(BigNumber.O,{value:V,unit:l?.unit_system.temperature,unitPosition:1===b?"bottom":"top",formatOptions:R})},[b,l]),D=(0,index_js_eager_.useCallback)(V=>o&&null!=V?(0,index_js_.isOffState)(i.state)?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label disabled",children:i.state??""}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("p",{className:"label current",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{icon:"mdi:thermometer"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:V??i.attributes.current_temperature})]}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label",children:"\xa0"}),[i.state,i.attributes.current_temperature,o]);function I(){const V=i.state,w=i.attributes.hvac_action,R=(0,index_js_.stateActive)(i),A=shared_o[V],$=R?shared_o.heat["1"]:shared_o.off,O=R?shared_o.cool["1"]:shared_o.off;let P;if(w&&"idle"!==w&&"off"!==w&&R&&(P=shared_o[V]??shared_o[ClimateControls_data.hB[w]]),u&&null!=n.value&&i.state!==index_js_.UNAVAILABLE){const L1=m.filter(W=>["heat","cool","heat_cool"].includes(W)),G=hc[1===L1.length&&["off","auto"].includes(V)?L1[1]:V];return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"container",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($t,{inactive:!R,mode:G,value:n.value,min:f,max:v,step:b,current:i.attributes.current_temperature,onChange:(W,Z)=>{T(W,Z)},onChangeApplied:(W,Z)=>{E(W,Z)},colors:{color:A?A[1]:void 0,lowColor:$?$[1]:void 0,highColor:O?O[1]:void 0}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"info",children:[C(),z(n.value),D(i.attributes.current_temperature)]}),j("value")]})}return S&&null!=n.low&&null!=n.high&&i.state!==index_js_.UNAVAILABLE?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"container",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($t,{inactive:!R,dual:!0,low:n.low,high:n.high,min:f,max:v,step:b,current:i.attributes.current_temperature,onChange:(L1,G)=>{T(L1,G)},onChangeApplied:(L1,G)=>{E(L1,G)},colors:{lowColor:$?$[1]:void 0,highColor:O?O[1]:void 0,color:P?P[1]:void 0}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"info",children:[C(),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"dual",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("button",{onClick:()=>x("low"),className:`${"low"===s?"selected":""}`,children:z(n.low)}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("button",{onClick:()=>x("high"),className:`${"high"===s?"selected":""}`,children:z(n.high)})]}),D(i.attributes.current_temperature)]}),j(s,!0)]}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"container",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($t,{mode:"full",current:i.attributes.current_temperature,min:f,max:v,step:b,readonly:!0,disabled:!R}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"info",children:[C(),D(i.attributes.current_temperature)]})]})}return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(fc,{children:I()})}function gc({entity:e,targetTempStep:r,showCurrent:o=!1}){const n=(0,index_js_.useEntity)(e),[a,s]=(0,index_js_eager_.useState)(n.attributes.humidity??null),[c,i]=(0,index_js_eager_.useState)(null),{getConfig:l}=(0,index_js_.useHass)(),{target_temp_step:h,min_humidity:p=0,max_humidity:f=100}=n.attributes,v=(0,index_js_eager_.useMemo)(()=>r??h??(c?.unit_system.temperature===ClimateControls_data.gD?1:.5),[c?.unit_system.temperature,r,h]);(0,index_js_eager_.useEffect)(()=>{l().then(i)},[l]),(0,index_js_eager_.useEffect)(()=>{s(n.attributes.humidity??null)},[n.attributes.humidity]);const d=(0,index_js_eager_.useCallback)(D=>{D&&n.service.setHumidity({serviceData:{humidity:D}})},[n.service]),m=(0,index_module.y1)(D=>d(D),1e3,{leading:!0,trailing:!0}),b=(0,index_js_eager_.useCallback)(D=>{isNaN(D)||(s(D),d(D))},[d]),u=(0,index_js_eager_.useCallback)(D=>{isNaN(D)||s(D)},[]),S=(0,index_js_eager_.useCallback)(D=>{let I=a??p;I+=D,I=(0,lodash.clamp)(I,p,f),s(I),m(I)},[m,f,p,a]),N=(0,index_js_eager_.useCallback)(()=>n.state===index_js_.UNAVAILABLE?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label disabled",children:n.state??index_js_.UNAVAILABLE}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label",children:"Target"}),[n.state]),g=(0,index_js_eager_.useCallback)(()=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"buttons",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:"mdi:minus",onClick:()=>S(-v)}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:"mdi:plus",onClick:()=>S(v)})]}),[S,v]),_=(0,index_js_eager_.useCallback)(D=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(BigNumber.O,{value:D,unit:"%",unitPosition:"bottom",formatOptions:{maximumFractionDigits:0}}),[]),x=(0,index_js_eager_.useCallback)(D=>o&&null!=D?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("p",{className:"label",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{icon:"mdi:water-percent"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:n.attributes.current_humidity??D})]}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("p",{className:"label",children:"\xa0"}),[n.attributes.current_humidity,o]),C=(0,index_js_.supportsFeatureFromAttributes)(n.attributes,ClimateControls_data.pi.TARGET_HUMIDITY),E=(0,index_js_.stateActive)(n),T=E?shared_o.cool["1"]:shared_o.off["1"],j=a,z=n.attributes.current_humidity;return C&&null!=j&&n.state!==index_js_.UNAVAILABLE?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"container",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($t,{inactive:!E,value:a??0,min:p,max:f,step:v,current:z,onChangeApplied:b,onChange:u,colors:{color:T}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"info",children:[N()," ",_(j),x(n.attributes.current_humidity)]}),g()]}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"container${containerSizeClass}",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($t,{current:n.attributes.current_humidity,min:p,max:f,step:v,disabled:!0}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"info",children:[N(),x(n.attributes.current_humidity)]})]})}const bc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"e1qwa2hl0"})({name:"hs0z6",styles:"color:var(--ha-500-contrast);width:100%;.controls{display:flex;flex-direction:column;justify-content:center;align-items:center;}.controls-scroll{display:flex;flex-direction:row;justify-content:flex-start;gap:24px;padding:0 24px;}"});function yc({entity:e,hvacModes:r,hvacModeLabels:o,hideCurrentTemperature:n,hideHvacModes:a,hideSwingModes:s,hideFanModes:c,hidePresetModes:i,entityStateChanged:l,cssStyles:h,className:p,targetTempStep:f,mainControl:v="temperature",...d}){const[m,b]=(0,index_js_eager_.useState)(v),u=(0,index_js_.useEntity)(e),S=u.state===index_js_.OFF,{hvac_action:N,preset_mode:g,fan_mode:_}=u.attributes,x=u.attributes.fan_modes,C=u.attributes.preset_modes,E=u.attributes.swing_modes,T=r??u.attributes.hvac_modes,[j,z]=(0,index_js_eager_.useState)(null),{getConfig:D}=(0,index_js_.useHass)(),I=(0,index_js_.supportsFeatureFromAttributes)(u.attributes,ClimateControls_data.pi.TARGET_HUMIDITY),V=(0,index_js_.supportsFeatureFromAttributes)(u.attributes,ClimateControls_data.pi.FAN_MODE),w=(0,index_js_.supportsFeatureFromAttributes)(u.attributes,ClimateControls_data.pi.PRESET_MODE),R=(0,index_js_.supportsFeatureFromAttributes)(u.attributes,ClimateControls_data.pi.SWING_MODE);(0,index_js_eager_.useEffect)(()=>{if(l)return l(S?"Off":N??"unknown")},[N,l,S]),(0,index_js_eager_.useEffect)(()=>{D().then(z)},[D]),(0,index_js_eager_.useEffect)(()=>{b(v)},[v]);const{target_temp_step:A}=u.attributes,$=(0,index_js_eager_.useMemo)(()=>f??A??(j?.unit_system.temperature===ClimateControls_data.gD?1:.5),[j?.unit_system.temperature,f,A]),O=(0,index_js_eager_.useCallback)(W=>{u.service.setFanMode({serviceData:{fan_mode:W}})},[u.service]),P=(0,index_js_eager_.useCallback)(W=>{u.service.setHvacMode({serviceData:{hvac_mode:W}})},[u.service]),L1=(0,index_js_eager_.useCallback)(W=>{u.service.setSwingMode({serviceData:{swing_mode:W}})},[u.service]),G=(0,index_js_eager_.useCallback)(W=>{W&&u.service.setPresetMode({serviceData:{preset_mode:W}})},[u.service]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bc,{...d,className:`climate-card-controls ${p}`,css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(h??"",";"),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"controls",children:["temperature"===m?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(mc,{targetTempStep:$,entity:e,showCurrent:!n}):null,"humidity"===m?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(gc,{targetTempStep:$,entity:e,showCurrent:!n}):null,I?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(nt,{cssStyles:`
              margin-bottom: 12px;
            `,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{active:"temperature"===m,disabled:u.state===index_js_.UNAVAILABLE,title:(0,index_js_.localize)("temperature"),icon:"mdi:thermometer",onClick:()=>b("temperature")}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{active:"humidity"===m,disabled:u.state===index_js_.UNAVAILABLE,title:(0,index_js_.localize)("humidity"),onClick:()=>b("humidity"),icon:"mdi:water-percent"})]}):null,/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"controls-scroll",children:[T&&!a&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vt,{placement:"top",items:T.concat().sort(ClimateControls_data.ZS).map(W=>({active:u.state===W,icon:(0,ClimateControls_data.Ep)(W),label:o?.[W]??(0,index_js_.toReadableString)(W),onClick:()=>{P(W)}})),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:(0,ClimateControls_data.Ep)(u.state),disabled:u.state===index_js_.UNAVAILABLE,title:(0,index_js_.toReadableString)(u.state)})}),w&&!i&&C&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vt,{placement:"top",items:C.map(W=>({active:g===W,icon:(0,ClimateControls_data.oM)(W),label:(0,index_js_.toReadableString)(W),onClick:()=>{G(W)}})),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:(0,ClimateControls_data.oM)(g),disabled:u.state===index_js_.UNAVAILABLE,title:(0,index_js_.toReadableString)(u.attributes.preset_mode)})}),V&&!c&&x&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vt,{placement:"top",items:x.map(W=>({active:u.attributes.fan_mode===W,icon:(0,ClimateControls_data.v4)(W),label:(0,index_js_.toReadableString)(W),onClick:()=>{O(W)}})),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:(0,ClimateControls_data.v4)(_),disabled:u.state===index_js_.UNAVAILABLE,title:(0,index_js_.toReadableString)(u.attributes.fan_mode)})}),R&&!s&&E&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vt,{placement:"top",items:E.map(W=>({active:u.attributes.swing_mode===W,icon:(0,ClimateControls_data.tO)(W),label:(0,index_js_.toReadableString)(W),onClick:()=>{L1(W)}})),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:(0,ClimateControls_data.tO)(u.attributes.swing_mode),disabled:u.state===index_js_.UNAVAILABLE,title:(0,index_js_.toReadableString)(u.attributes.swing_mode)})})]})]})})}function bh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ClimateControls"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(yc,{...e})})}const xc="data:image/png;base64,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";const wc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"exy3c403"})({name:"1lot0rj",styles:"position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px"}),Nc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"exy3c402"})({name:"amtg61",styles:"background-color:rgba(255, 255, 255, 0.1);width:1px;height:40px"}),Ec=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(ve,{target:"exy3c401"})('position:relative;.icon{background-color:transparent;transition:background var(--ha-transition-duration) var(--ha-easing);}&:after{content:"";position:absolute;inset:0px;border-radius:50%;border:0px;background-image:url(',xc,");background-size:101%;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:inset,border;pointer-events:none;}",e=>e.active&&`
    .icon {
      background-color: white;
      transition: background var(--ha-transition-duration) var(--ha-easing);
    }
    &:after {
      inset: 2px;
      border: 2px solid var(--ha-S200);
    }
  `," svg{display:none;}"),Sc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(ve,{target:"exy3c400"})('position:relative;.icon{background-color:transparent;transition:background var(--ha-transition-duration) var(--ha-easing);}&:after{content:"";position:absolute;inset:0px;border-radius:50%;border:0px;pointer-events:none;background:linear-gradient(0deg, rgb(166, 209, 255) 0%, rgb(255, 255, 255) 50%, rgb(255, 160, 0) 100%);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:inset,border;}',e=>e.active&&`
    .icon {
      background-color: white;
    }
    &:after {
      inset: 2px;
      border: 2px solid var(--ha-S200);
    }
  `," svg{display:none;}");function kc({entity:e,onStateChange:r}){const[o,n]=(0,index_js_eager_.useState)("brightness"),a=(0,index_js_.useEntity)(e),s=(0,index_js_.useLightBrightness)(a),c=Ut(),i=(0,index_js_.isUnavailableState)(a.state),l=(0,index_js_eager_.useMemo)(()=>a.state===index_js_.OFF?"Off":a.state===index_js_.ON?`${s}%`:(0,index_js_.localize)("unavailable"),[s,a.state]);(0,index_js_eager_.useEffect)(()=>{r&&r(l)},[l,r]);const h=(0,index_js_eager_.useCallback)(m=>{a.service.turnOn({serviceData:{effect:m}})},[a.service]),p=(0,index_js_.lightSupportsColorMode)(a,index_js_.LIGHT_COLOR_MODES.COLOR_TEMP),f=(0,index_js_.lightSupportsColor)(a),v=(0,index_js_.lightSupportsBrightness)(a),d=a?.attributes?.effect_list&&a.attributes.effect_list.length>0;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{fullHeight:!0,fullWidth:!0,wrap:"nowrap",justifyContent:c.xxs?"flex-start":"center",style:{padding:c.xxs?"1rem":"0"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{children:p||f||v?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:["color_temp"===o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vu,{onChange:m=>{null===m?r&&r(`${l}`):r&&r(`${m}K`)},onChangeApplied:()=>{r&&r(`${l}`)},entity:e,disabled:i||a.state===index_js_.OFF}),"color"===o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Bu,{entity:e}),v&&"brightness"===o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pr,{sliderColor:a.custom.color,min:1,max:100,thickness:c.xxs?90:100,borderRadius:24,value:s,disabled:i||a.state===index_js_.OFF,onChange:m=>{r&&r(`${Math.round(m)}%`)},onChangeApplied:m=>{a.service.turnOn({serviceData:{brightness_pct:m}}),r&&r(`${Math.round(m)}%`)}})]}):null}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(wc,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{title:a.state===index_js_.OFF?(0,index_js_.localize)("turn_on"):(0,index_js_.localize)("turn_off"),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:"mdi:power",onClick:()=>{a.service.toggle()}})}),p||f||d||v&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Nc,{}),v&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{title:(0,index_js_.localize)("color_brightness"),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:"mdi:brightness-6",onClick:()=>n("brightness")},`${e}-brightness`)}),f&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{title:(0,index_js_.localize)("color"),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ec,{active:"color"===o,onClick:()=>n("color")},`${e}-color`)}),p&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{title:(0,index_js_.localize)("color_temperature"),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Sc,{active:"color_temp"===o,onClick:()=>n("color_temp")},`${e}-color-temp`)}),d&&a.attributes.effect_list&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vt,{placement:"top",items:a.attributes.effect_list.map(m=>({active:a.attributes.effect===m,label:(0,index_js_.toReadableString)(m),onClick:()=>{h(m)}})),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{title:(0,index_js_.localize)("effect"),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:"mdi:stars"},`${e}-effects`)})})]})]})}function yh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"LightControls"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(kc,{...e})})}const $n=["1","2","3","4","5","6","7","8","9","","0","clear"],_c=$n.reduce((e,r,o)=>(o%3===0&&e.push($n.slice(o,o+3)),e),[]),Cc="number",Dc=(0,emotion_react_browser_esm_js_.keyframes)`
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,Oc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"e1n0bd6p1"})("width:100%;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;.card-header{display:flex;justify-content:space-between;align-items:center;width:100%;box-sizing:border-box;}.loading-wrapper{position:absolute;top:0;bottom:0;overflow:hidden;z-index:2;}.loading-indicator{position:absolute;inset:0;animation:",Dc,` 1s infinite;display:flex;justify-content:center;align-items:center;background-color:var(--ha-300-a1);}.keypad{.keypad-buttons{z-index:1;}&:before{content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;display:block;opacity:0.25;z-index:0;pointer-events:none;transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background;background:radial-gradient(
        var(--ha-alarm-controls-size) at var(--ha-alarm-controls-position),
        var(--ha-alarm-controls-color, transparent) 0%,
        transparent 100%
      );}}.actions{margin:0;display:flex;flex-wrap:wrap;justify-content:center;width:100%;}`),rr=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1n0bd6p0"})(e=>`
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: auto;
      width: 100%;
      direction: ltr;
      gap: ${e.buttonGap};
      position: relative;
      max-width: calc(${e.buttonSize}px * 3 + ${e.buttonGap} * 2);
      > * {
        width: 100%;
      }
      .button-group-parent:not(.vertical) {
        max-width: none;
        min-width: 0;
        width: 100%;
        gap: ${e.buttonGap};
      }
    `,";");function Rc({entity:e,states:r,className:o,cssStyles:n,defaultCode:a,buttonSize:s=80,buttonGap:c="0.5rem",hideCodeInput:i=!1,hideKeypad:l=!1,customActionColor:h,labelMap:p,slots:f,...v}){const d=(0,index_js_eager_.useRef)(null),[m,b]=(0,index_js_eager_.useState)(a?`${a}`:""),u=(0,index_js_.useEntity)(e),{useStore:S}=(0,index_js_.useHass)(),N=S(z=>z.globalComponentStyles),g=r||(0,AlarmControls_shared.nL)(u,AlarmControls_shared.n0),_=z=>{b("clear"===z?"":m+z)},x=z=>{u.service[(0,lodash.snakeCase)(`alarm_${z}`)]({serviceData:{code:m}}),a||b("")};(0,index_js_eager_.useEffect)(()=>{a&&b(`${a}`)},[a]),(0,index_js_eager_.useEffect)(()=>{d.current&&(d.current.style.setProperty("--ha-alarm-controls-position","50% 50%"),d.current.style.setProperty("--ha-alarm-controls-size","50% 50%"),d.current.style.setProperty("--ha-alarm-controls-color",(0,AlarmControls_shared.PJ)(u.state,h)))},[u.state,h]);const C=()=>"triggered"===u.state?(0,index_js_.localize)("pending"):u.state.includes("custom_bypass")?(0,index_js_.localize)("custom_bypass"):u.state.includes("armed_")?(0,index_js_.localize)("armed"):(0,index_js_.localize)(u.state),E=["pending","triggered","arming"].includes(u.state),T=u.attributes.code_format===Cc&&!a&&!l,j=z=>f?.find(D=>D.position===z)?.children??null;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Oc,{ref:d,className:`alarm-control-panel ${E?"is-loading":""} ${o??""}`,cssStyles:`
          ${N.alarmCard??""}
          ${n??""}
        `,...v,children:[j("1"),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(rr,{className:"actions-wrapper",buttonSize:s,buttonGap:c,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pt,{id:"armActions",className:"actions",orientation:"horizontal",thickness:s,gap:c,maintainAspectRatio:!1,children:("disarmed"===u.state?g:["disarm"]).map(z=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{icon:z in AlarmControls_shared.Cm?AlarmControls_shared.gq[AlarmControls_shared.Cm[z]].icon:"",iconProps:{fontSize:"30px",style:{marginBottom:"6px"}},title:m?(0,AlarmControls_shared.A0)(z,p):(0,index_js_.localize)("enter_code"),placement:"top",style:{flexDirection:"column",fontSize:"14px",aspectRatio:"unset"},disabled:!m||E,onClick:()=>x(z),children:(0,AlarmControls_shared.A0)(z,p)},z))})}),j("2"),!u.attributes.code_format||a||i?null:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(rr,{className:"actions-wrapper-input",buttonSize:s,buttonGap:c,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TextField.n,{value:m,type:"password",label:(0,index_js_.localize)("code"),id:"alarmCode",disabled:E})}),j("3"),T?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(rr,{className:"keypad",buttonSize:s,buttonGap:c,children:_c.map((z,D)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pt,{orientation:"horizontal",gap:c,thickness:s,className:"keypad-buttons",children:z.map((I,V)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{className:`keypad-button keypad-button-${""===I?"empty":I} ${"clear"!==I?"numberkey":""}`,disabled:E||""===I,disableScaleEffect:""===I,onClick:()=>{_(I)},style:{opacity:""===I?.2:1,zIndex:""===I?-1:void 0,cursor:""===I?"default":"pointer"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:"clear"===I?(0,index_js_.localize)("clear"):I})},`${D}-${V}`))},D))}):null,E&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(rr,{className:"loading-wrapper",buttonSize:s,buttonGap:c,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"loading-indicator",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:C()})})})}),j("4")]})}function xh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"AlarmControls"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Rc,{...e})})}const Ic=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eol4iox1"})({name:"1lot0rj",styles:"position:relative;display:flex;flex-direction:row;align-items:center;height:56px;border-radius:28px;background-color:rgba(120, 120, 120, 0.1);box-sizing:border-box;width:auto;padding:4px;gap:4px;margin-top:24px"}),nr=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"eol4iox0"})({name:"11sbb4p",styles:"font-size:0.8rem;margin-top:0.5rem;text-transform:uppercase"});function Tt(e,r){const n=(0,index_js_.isUnavailableState)(e.state)||"closed"===e.state?void 0:e.attributes.current_position??e.attributes.current_tilt_position,a=r??n,s=a&&100!==a?a??e.attributes.current_position??"":"";return"number"==typeof r?`${0===r?"closed":100===r?"open":e.state}${s?` - ${s}%`:""}`:`${e.state}${s?` - ${s}%`:""}`}function Ac({entity:e,mode:r="position",orientation:o="vertical",reverse:n=!1,onStateChange:a}){const s=(0,index_js_.useEntity)(e),c=(0,index_js_.isUnavailableState)(s.state),i=(0,index_js_eager_.useCallback)(u=>(0,index_js_.supportsFeatureFromAttributes)(s.attributes,u),[s.attributes]),l=i(4),h=i(128),p=i(1)||i(2)||i(8),f=i(16)||i(32)||i(64),[v,d]=(0,index_js_eager_.useState)(r??l?"position":"button"),m=Ut(),b=(0,index_js_eager_.useMemo)(()=>Tt(s),[s]);return(0,index_js_eager_.useEffect)(()=>{d(l&&"position"===r?r:"button")},[r,l]),(0,index_js_eager_.useEffect)(()=>{a&&a(b)},[b,a]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{fullHeight:!0,wrap:"nowrap",justifyContent:(m.xxs,"flex-start"),style:{padding:m.xxs?"1rem":"0"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{children:["position"===v&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"1rem",style:{flexDirection:"vertical"===o?"row":"column"},children:[l&&typeof s.attributes.current_position<"u"&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pr,{sliderColor:c?void 0:"var(--ha-A400)",min:0,max:100,mode:n?"end":"start",vertical:"vertical"===o,thickness:m.xxs?90:100,borderRadius:24,value:s.attributes.current_position,disabled:c,onChange:u=>{a&&a(Tt(s,Math.round(u)))},onChangeApplied:u=>{s.service.setCoverPosition({serviceData:{position:u}}),a&&a(Tt(s,Math.round(u)))}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nr,{children:(0,index_js_.localize)("cover_position")})]}),h&&typeof s.attributes.current_tilt_position<"u"&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pr,{sliderColor:c?void 0:"var(--ha-A400)",min:0,max:100,mode:n?"end":"start",vertical:"vertical"===o,thickness:m.xxs?90:100,borderRadius:24,value:s.attributes.current_tilt_position,disabled:c,onChange:u=>{a&&a(Tt(s,Math.round(u)))},onChangeApplied:u=>{s.service.setCoverTiltPosition({serviceData:{tilt_position:u}}),a&&a(Tt(s,Math.round(u)))}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nr,{children:(0,index_js_.localize)("cover_tilt_position")})]})]})}),"button"===v&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"1rem",style:{flexDirection:"vertical"===o?"row":"column"},children:[p&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Pt,{thickness:m.xxs?80:96,reverse:n,orientation:o,style:{minHeight:"vertical"===o?"200px":void 0,maxHeight:"vertical"===o?"320px":void 0,height:"vertical"===o?"45vh":void 0,minWidth:"horizontal"===o?"320px":void 0,maxWidth:"horizontal"===o?"420px":void 0,flexWrap:"nowrap"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{title:(0,index_js_.localize)("open_cover"),entity:e,service:"openCover",icon:n?"mdi:arrow-down":"mdi:arrow-up"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{title:(0,index_js_.localize)("stop_cover"),entity:e,service:"stopCover",icon:"mdi:stop-circle-outline"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{title:(0,index_js_.localize)("close_cover"),entity:e,service:"closeCover",icon:n?"mdi:arrow-up":"mdi:arrow-down"})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nr,{children:(0,index_js_.localize)("control")})]}),f&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Pt,{thickness:m.xxs?80:96,reverse:n,orientation:o,style:{minHeight:"vertical"===o?"200px":void 0,maxHeight:"vertical"===o?"320px":void 0,height:"vertical"===o?"45vh":void 0,minWidth:"horizontal"===o?"320px":void 0,maxWidth:"horizontal"===o?"420px":void 0,flexWrap:"nowrap"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{title:(0,index_js_.localize)("open_cover_tilt"),entity:e,service:"openCoverTilt",icon:n?"mdi:arrow-collapse":"mdi:arrow-expand"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{title:(0,index_js_.localize)("close_cover"),entity:e,service:"stopCoverTilt",icon:"mdi:stop-circle-outline"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{title:(0,index_js_.localize)("close_cover_tilt"),entity:e,service:"closeCoverTilt",icon:n?"mdi:arrow-expand":"mdi:arrow-collapse"})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nr,{children:(0,index_js_.localize)("tilt_position")})]})]})}),(f||l)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ic,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:"mdi:hamburger-menu",active:"position"===v,title:(0,index_js_.localize)("position"),onClick:()=>{d("position")}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{icon:"mdi:swap-vertical",active:"button"===v,title:(0,index_js_.localize)("button"),onClick:()=>{d("button")}})]})]})})}function wh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"CoverControls"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ac,{...e})})}const Ye=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(ve,{target:"e1p6lr4g0"})({name:"ov3jk1",styles:"background-color:var(--ha-S600);&:not(.active){color:black;}opacity:0.8;transition-property:opacity,color,background-color;&:disabled{opacity:0.38;}&:not(:disabled){&:hover,&:active{opacity:1;color:black;}}z-index:2"});const zc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e13bkotg4"})({name:"11aohsy",styles:"transform:none;will-change:width,height;overflow:visible;svg{color:currentColor;}&:not(.disabled){&:hover,&:active{background-color:var(--ha-S300);svg{color:currentColor;}}}padding:1rem;cursor:default"}),Vc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e13bkotg3"})({name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)"}),$c=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e13bkotg2"})({name:"18akv06",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 0.5)"}),Mc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Column.s,{target:"e13bkotg1"})({name:"1aygt3c",styles:"display:grid;grid-template-columns:auto auto"}),Pc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e13bkotg0"})({name:"8qz55m",styles:"height:50px;width:2px;background-color:var(--ha-A400);position:absolute;top:30px;left:14px;z-index:1"}),Nh=({groupedEntities:e=[],allEntityIds:r=[],onStateChange:o,entity:n,...a})=>{const s=(0,index_js_.useEntity)(n),c=(0,index_js_.supportsFeatureFromAttributes)(s.attributes,524288),i=(0,index_js_eager_.useMemo)(()=>(0,lodash.flatten)(Object.values((0,lodash.groupBy)(e,d=>d.attributes?.group_members))),[e]),l=(0,index_js_.useService)("media_player"),[h,p]=(0,index_js_eager_.useState)({media_content_id:"",media_content_type:""}),f=(0,index_js_eager_.useCallback)(d=>{const m=e.find(u=>u.entity_id===d);if(!m)return;const b=e.filter(u=>"playing"===u.state);if(0===b.length)return l.playMedia({target:m.attributes?.group_members??m.entity_id,serviceData:{...h,enqueue:"play"}}),l.mediaPlay({target:m.attributes?.group_members??m.entity_id});if(m.attributes?.group_members?.length===1&&"playing"===m.state)return p({media_content_id:m.attributes.media_content_id??"",media_content_type:m.attributes.media_content_type??""}),l.mediaPause({target:m.attributes?.group_members??m.entity_id});if((m.attributes?.group_members?.length||0)>1&&"playing"===m.state)return l.unjoin({target:d});if("playing"!==m.state&&b.length>0)return l.join({target:b[0].entity_id,serviceData:{group_members:[d]}})},[e,l,h]),v=(0,index_js_eager_.useCallback)(d=>{const m=i?.some(b=>"playing"===b.state);return d.attributes.group_members?.length===1&&"playing"===d.state?"mdi:pause":m?"mdi:speaker-multiple":d.attributes.group_members?.length===1&&"playing"!==d.state?"mdi:play":"mdi:speaker-off"},[i]);return(0,index_js_eager_.useEffect)(()=>{s&&o&&o(s.state)},[s,o]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{fullHeight:!0,fullWidth:!0,...a,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{fullWidth:!0,fullHeight:!0,className:"column",gap:"1rem",children:[s&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(hl,{layout:"slim",groupMembers:r.length>1?r:void 0,disableColumns:!0,entity:s.entity_id,hideGrouping:!0}),r.length>1&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(_o,{title:(0,index_js_.localize)("related_entities"),disableColumns:!0,cssStyles:`
            &.group {
              background-color: rgba(0,0,0,0.1);
            }
          `,children:i.map((d,m)=>{const b="playing"===d.state,u=m===i.length-1,S=`${d.attributes?.friendly_name??d.entity_id}`,N=d.state===index_js_.OFF,g=(0,index_js_.isUnavailableState)(d.state),_=(0,index_js_.supportsFeatureFromAttributes)(d.attributes,128),x=(0,index_js_.supportsFeatureFromAttributes)(d.attributes,256);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zc,{layout:!0,transition:spring.S,disableRipples:!0,disableScale:!0,disableActiveState:!0,xxs:12,xs:12,sm:12,md:12,lg:12,xlg:12,className:"entities-card entities-card-media-controls",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"EntityRow"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Mc,{gap:"0.5rem",justifyContent:"space-between",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Vc,{className:"title device-name",children:[S,/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)($c,{children:[" - ",(0,lodash.capitalize)(d.state)]})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",justifyContent:"end",children:[!c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{className:"media-player-power",iconProps:{color:"var(--ha-S200-contrast)"},active:!N&&!g,disabled:!_||!x,size:30,icon:"mdi:power",rippleProps:{preventPropagation:!0},onClick:()=>{N?l.turnOn({target:d.entity_id}):l.turnOff({target:d.entity_id})}}),!N&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vo,{entity:d.entity_id,volumeLayout:"buttons",hideMute:!1,disabled:!1,layout:"slim"}),c&&!N&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{style:{position:"relative"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{rippleProps:{preventPropagation:!0},className:"speaker-group",iconProps:{color:"var(--ha-S200-contrast)"},active:b,disabled:!1,size:30,icon:v(d),onClick:()=>f(d.entity_id)}),!u&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pc,{})]})]})]})})},d.entity_id)})})]})})};const Bc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(MapContainer,{target:"e14r6hro0"})({name:"9qnj85",styles:".leaflet-layer,.leaflet-control-zoom-in,.leaflet-control-zoom-out,.leaflet-control-attribution{filter:brightness(0.6) invert(1) contrast(4) hue-rotate(300deg) saturate(0.3) brightness(1) grayscale(40%);}.leaflet-div-icon{background:none;border:none;}"}),Fc=({children:e,marker:r,container:o})=>{const{tagName:n,className:a}=o,s=leaflet_src.DomUtil.create(n,a),c=new leaflet_src.DivIcon({html:s}),i=(0,react_dom_index_js_eager_.createPortal)(e,s),{position:l,eventHandlers:h}=r;return(0,index_js_eager_.useEffect)(()=>()=>{leaflet_src.DomUtil.remove(s)},[]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[i,/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Marker,{position:l,icon:c,eventHandlers:h})]})};function Lc({entity:e,mapHeight:r}){const o=(0,index_js_.useEntity)(e),n=new leaflet_src.LatLng(o.attributes.latitude,o.attributes.longitude);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Bc,{center:n,zoom:14,style:{height:`${r}px`,width:"100%"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(TileLayer,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Fc,{marker:{position:n},container:{tagName:"div",className:"custom-marker"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Io,{entity:e,iconSize:{width:"30px",height:"30px"},avatarSize:{width:"48px",height:"48px"},withBorder:!0})})]})}function Eh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"PersonControls"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Lc,{...e})})}const Wc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Eo,{target:"e1nr8uu73"})({name:"l7vt8h",styles:"&.slim{&.has-temp-controls{}}&.slim-vertical{&.has-temp-controls{}}"}),Hc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1nr8uu72"})({name:"rhxkjj",styles:"height:20px"}),qc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1nr8uu71"})({name:"1d8ysdp",styles:'color:var(--ha-S400-contrast);font-size:0.7rem;display:flex;gap:0.5rem;flex-wrap:wrap;>*{position:relative;display:flex;flex-shrink:0;&:after{content:",";position:absolute;bottom:0;right:-3px;}&:last-of-type{&:after{display:none;}}}'}),Mn=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e1nr8uu70"})({name:"17qxhar",styles:"position:relative;display:flex;span{font-size:0.7rem;align-items:flex-start;}"});function Yc({entity:e,onClick:r,hvacModes:o,hvacModeLabels:n,showHvacModeLabels:a=!1,hideCurrentTemperature:s,showTemperatureControls:c=!1,hideToggle:i=!0,hideHvacModes:l,disabled:h,className:p,modalProps:f,service:v,serviceData:d,cssStyles:m,layoutType:b,key:u,title:S,targetTempStep:N,...g}){const{getConfig:_,useStore:x}=(0,index_js_.useHass)(),C=x(le=>le.globalComponentStyles),E=(0,index_js_.useEntity)(e),[T,j]=(0,index_js_eager_.useState)(null),z=E.state in shared_a?E.state:"unknown-mode",D=(0,index_js_.isUnavailableState)(E.state),I="off"!==E.state&&!D&&!h,{current_temperature:V,hvac_action:w,hvac_modes:R,min_temp:A=6,max_temp:$=40,unit_of_measurement:O,temperature:P=20,target_temp_step:L1}=E.attributes||{},G=E.state===index_js_.OFF,W=(0,index_js_eager_.useMemo)(()=>D?(0,index_js_.localize)("unavailable"):G?(0,index_js_.localize)("off"):w?(0,index_js_.localize)(w):(0,index_js_.localize)("unknown"),[w,D,G]),Z=(0,index_js_eager_.useMemo)(()=>N??L1??(T?.unit_system.temperature===ClimateControls_data.gD?1:.5),[T?.unit_system.temperature,N,L1]);(0,index_js_eager_.useEffect)(()=>{_().then(j)},[_]);const X=0===(o??[]).length?R:o??[];return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Wc,{hideToggle:i,disableActiveState:!0,className:`climate-card ${c?"has-temp-controls":""} ${p??""}`,disabled:h||D,entity:e,title:S??E.attributes.friendly_name,service:v,serviceData:d,layoutType:b,modalProps:{hvacModes:X,hideCurrentTemperature:s,hideHvacModes:l,hvacModeLabels:n,targetTempStep:Z,...f},onClick:()=>{D||h||"function"!=typeof r||r(E)},cssStyles:`
          ${C.climateCard??""}
          ${m??""}
        `,hideState:!0,features:X.concat().filter(le=>!!le).map(le=>{const ge={size:35,disabled:h||D,iconProps:{color:z===le?shared_f[le]:void 0},rippleProps:{preventPropagation:!0},title:(0,lodash.capitalize)(le.replace(/_/g," ")),active:z===le,icon:shared_a[le],onClick:()=>{E.service.setHvacMode({serviceData:{hvac_mode:le}})}};if(n?.[le]&&a){const U=n?.[le];return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vt,{...ge,title:U,children:U},le)}return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vt,{...ge},le)}),fabProps:{style:{color:I?"var(--ha-A400)":"var(--ha-S500-contrast)",backgroundColor:D||h?shared_o.off["1"]:"unknown-mode"===z?"var(--ha-S500-contrast)":shared_o[z][1]}},description:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{justifyContent:"flex-start",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(qc,{className:"climate-description",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:W}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{className:"fan-speed",children:[(0,index_js_.localize)("speed"),": ",(0,index_js_.localize)(E.attributes.fan_mode)||(0,index_js_.localize)("unknown")]}),!s&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"current-temperature",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Mn,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{children:[(0,lodash.capitalize)((0,index_js_.localize)("name_current_temperature",{search:"{name} ",replace:""})),": ",V]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:O??T?.unit_system.temperature})]})})]})}),...g,children:c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"slim-vertical"===b?"center":"flex-start",fullWidth:!0,fullHeight:!0,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Hc,{}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(nt,{fullWidth:!0,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vt,{size:40,disabled:h||D||P===A,rippleProps:{preventPropagation:!0},title:(0,index_js_.localize)("decrease_temperature"),icon:"mdi:minus",onClick:()=>{E.service.setTemperature({serviceData:{temperature:P-Z}})}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vt,{size:40,disabled:!0,rippleProps:{preventPropagation:!0},borderRadius:0,noIcon:!0,title:(0,lodash.capitalize)((0,index_js_.localize)("name_current_temperature",{search:"{name} ",replace:""})),cssStyles:`
                  button {
                    cursor: default;
                  }
                `,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Mn,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{children:P}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:O??T?.unit_system.temperature})]})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vt,{size:40,disabled:h||D||P===$,rippleProps:{preventPropagation:!0},title:(0,index_js_.localize)("increase_temperature"),icon:"mdi:plus",onClick:()=>{E.service.setTemperature({serviceData:{temperature:P+Z}})}})]})]})},u)})}function Sh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ClimateCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Yc,{...r,...e})})}const Gc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"elajsjg0"})({name:"zp0ybc",styles:"svg{color:currentColor;}&:not(.disabled){&:hover,&:active{svg{color:currentColor;}}}"});function Qc({includeLastUpdated:e=!1,key:r,className:o,children:n,cssStyles:a,...s}){const{useStore:c}=(0,index_js_.useHass)(),i=c(h=>h.globalComponentStyles),l=index_js_eager_.Children.map(n,(h,p)=>(0,index_js_eager_.isValidElement)(h)?(0,index_js_eager_.cloneElement)(h,{key:h.key||p,includeLastUpdated:e}):h);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Gc,{cssStyles:`
      ${i?.entitiesCard??""}
      ${a??""}
    `,disableRipples:!0,disableScale:!0,disableActiveState:!0,className:`entities-card ${o??""}`,...s,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{fullWidth:!0,fullHeight:!0,className:"column",children:l})},r)}function kh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"EntitiesCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Qc,{...r,...e})})}const Xc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Row.X,{target:"e1e0wtwp3"})({name:"15bws94",styles:"width:100%;max-width:2rem"}),Kc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1e0wtwp2"})({name:"vpbd9u",styles:"flex-grow:1;font-size:0.8rem;color:var(--ha-S50-contrast);font-weight:500;span{width:100%;font-size:0.7rem;font-weight:400;display:block;margin-top:0.2rem;color:var(--ha-S500-contrast);}"}),Jc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1e0wtwp1"})({name:"fcoiwt",styles:"max-width:5rem;font-size:0.8rem;font-weight:400;text-align:right;white-space:nowrap;color:var(--ha-S300-contrast)"}),Zc=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1e0wtwp0"})({name:"8799pk",styles:"width:100%;padding:1rem;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:hover{background-color:var(--ha-S500);}"}),Pn={climate:()=>__webpack_require__.e("8081").then(__webpack_require__.bind(__webpack_require__,6795)),toggle:()=>__webpack_require__.e("1160").then(__webpack_require__.bind(__webpack_require__,2090)),sensor:()=>__webpack_require__.e("1219").then(__webpack_require__.bind(__webpack_require__,6004))},ThemeControlsModal_DWBaJmrH_el={water_heater:"climate",climate:"climate",alert:"toggle",automation:"toggle",fan:"toggle",input_boolean:"toggle",light:"toggle",remote:"toggle",sensor:"sensor",siren:"toggle",switch:"toggle",vacuum:"toggle"};function tl({entity:e,icon:r,iconProps:o,name:n,renderState:a,onClick:s,modalProps:c,key:i,includeLastUpdated:l=!1,...h}){const p=(0,index_js_eager_.useId)(),[f,v]=(0,index_js_eager_.useState)(!1),{useStore:d}=(0,index_js_.useHass)(),m=d(V=>V.config),b=d(V=>V.entities),u=d(V=>V.connection),S=(0,index_js_.useEntity)(e),N=(0,index_js_.computeDomain)(e),g=(0,index_js_.useIconByDomain)(null===N?"unknown":N),_=(0,index_js_.useIconByEntity)(e||"unknown"),x=(0,index_js_.isUnavailableState)(S?.state),C=(0,index_js_eager_.useMemo)(()=>n??S.attributes.friendly_name??S.attributes.entity_id,[n,S]),E=S?.state===index_js_.ON,T=E?S.custom.hexColor:"var(--ha-S500-contrast)",j=use_long_press_V(()=>{"string"!=typeof e||f||v(!0)},{threshold:300,cancelOnMovement:!0,cancelOutsideElement:!0,filterEvents(V){return!("button"in V&&2===V.button)}}),z=(0,index_js_eager_.useCallback)(()=>(0,index_js_.computeStateDisplay)(S,u,m,b,S.state),[m,u,b,S]),D=ThemeControlsModal_DWBaJmrH_el[N],I=(0,index_js_eager_.useMemo)(()=>D&&D in Pn?(0,index_js_eager_.lazy)(Pn[D]):null,[D]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Zc,{className:"entities-card-row",...j(),...h,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",wrap:"nowrap",gap:"1rem",fullWidth:!0,onClick:()=>s&&s(S),children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Xc,{className:"icon-wrapper",style:{opacity:x?"0.3":"1",color:T,filter:E&&S?.custom.brightness||"brightness(100%)"},children:r?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{className:"icon",icon:r,...o??{}}):_??g}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Kc,{className:"name",children:[C,l&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:S.custom.relativeTime})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Jc,{className:"state",children:"function"==typeof a?a(S):x?(0,index_js_.localize)("unavailable"):I?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(index_js_eager_.Suspense,{fallback:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{children:"Loading..."}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(I,{entity:S})}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:z()})})]})},i),"string"==typeof e&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Mo,{entity:e,title:C??(0,index_js_.localize)("unknown"),onClose:()=>{v(!1)},open:f,id:p,...c})]})}function _h(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"EntitiesCardRow"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(tl,{...e})})}const nl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("label",{target:"e3nfycs1"})("display:inline-block;width:100%;color:rgba(0, 0, 0, 0.87);font-size:1rem;line-height:1.5;",(0,breakpoints.mq)(["xxs"],`
    width: 40%;
  `)," ",(0,breakpoints.mq)(["xs","sm"],`
    width: 60%;
  `),";"),ol=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(bt,{target:"e3nfycs0"})({name:"1d3w5wq",styles:"width:100%"});function Vo({entity:e,volumeLayout:r,hideMute:o,disabled:n,allEntityIds:a,layout:s}){const c=(0,index_js_.useEntity)(e),{volume_level:i,is_volume_muted:l}=c.attributes,[h,p]=(0,index_js_eager_.useState)(i),f=(0,index_js_.useService)("mediaPlayer"),v=(0,index_js_eager_.useRef)(null),d=(0,index_js_.supportsFeatureFromAttributes)(c.attributes,4),m=(0,index_js_.supportsFeatureFromAttributes)(c.attributes,8),b=(0,index_js_eager_.useCallback)(u=>{p(u),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{f.volumeSet({target:a??e,serviceData:{volume_level:u}})},500)},[f,a,p,e]);return(0,index_js_eager_.useEffect)(()=>{p(i)},[i]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",wrap:"nowrap",children:[!o&&m&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{iconProps:{color:"var(--ha-S200-contrast)"},className:`volume-mute ${l?"muted":"not-muted"}`,disabled:n,size:constants_o,rippleProps:{preventPropagation:!0},icon:l?"mdi:volume-off":"mdi:volume-high",onClick:()=>{f.volumeMute({target:a??e,serviceData:{is_volume_muted:!l}})}}),"buttons"===r&&d&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{rippleProps:{preventPropagation:!0},iconProps:{color:"var(--ha-S200-contrast)"},className:"volume-down",disabled:n,size:constants_o,icon:"mdi:volume-minus",title:`${100*Number(i)}%`,onClick:()=>f.volumeDown({target:a??e})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{rippleProps:{preventPropagation:!0},iconProps:{color:"var(--ha-S200-contrast)"},className:"volume-up",disabled:n,size:constants_o,icon:"mdi:volume-plus",title:`${100*Number(i)}%`,onClick:()=>f.volumeUp({target:a??e})})]}),"slider"===r&&d&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nl,{className:"volume-slider",layout:s,onPointerDownCapture:u=>{u.stopPropagation()},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ol,{type:"range",min:0,max:1,disabled:n,step:.02,value:l?0:h,formatTooltipValue:u=>`${Math.round(100*u)}%`,tooltipSize:2.2,onChangeComplete:(u,S)=>{S.preventDefault(),b(u)}})})]})}function jn({entity:e,size:r=20,feature:o,disabled:n,allEntityIds:a}){const s=(0,index_js_.useEntity)(e),c=(0,index_js_.useService)("mediaPlayer"),i="playing"===s.state,l=s.state===index_js_.OFF,h=(0,index_js_.supportsFeatureFromAttributes)(s.attributes,16),p=(0,index_js_.supportsFeatureFromAttributes)(s.attributes,32),f=(0,index_js_.supportsFeatureFromAttributes)(s.attributes,16384);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{className:"skip-previous",disabled:n||l||!h,size:r,iconProps:{color:"var(--ha-S200-contrast)"},icon:"mdi:skip-previous",rippleProps:{preventPropagation:!0},onClick:()=>c.mediaPreviousTrack({target:a})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{className:"play-pause",iconProps:{color:"var(--ha-S200-contrast)"},disabled:n||l||!f,size:r*(o?2:1),rippleProps:{preventPropagation:!0},icon:i?"mdi:pause":"mdi:play",onClick:()=>{i?c.mediaPause({target:a}):c.mediaPlay({target:a})}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{rippleProps:{preventPropagation:!0},className:"skip-next",iconProps:{color:"var(--ha-S200-contrast)"},disabled:n||l||!p,size:r,icon:"mdi:skip-next",onClick:()=>c.mediaNextTrack({target:a})})]})}const ThemeControlsModal_DWBaJmrH_il=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e1et2jmo0"})({name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)"});function Bn({entity:e,disabled:r,allEntityIds:o,onSpeakerGroupClick:n,hideGrouping:a=!1}){const s=(0,index_js_.useEntity)(e),c=(0,index_js_.useService)("mediaPlayer"),i=s.attributes.group_members??[],l=s.state===index_js_.OFF,h=(0,index_js_.isUnavailableState)(s.state),p=(0,index_js_.supportsFeatureFromAttributes)(s.attributes,128),f=(0,index_js_.supportsFeatureFromAttributes)(s.attributes,256);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",wrap:"nowrap",className:"row",children:[!a&&(o.length>1||i.length>0)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{className:"speaker-group",iconProps:{color:"var(--ha-S200-contrast)"},active:i.length>0,disabled:r,rippleProps:{preventPropagation:!0},size:constants_o,icon:0===i.length?"mdi:speaker-off":"mdi:speaker-multiple",onClick:()=>{n()}}),(h||l)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH_il,{children:s.state}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ye,{className:"media-player-power",iconProps:{color:"var(--ha-S200-contrast)"},active:!l&&!h,disabled:r||!p||!f,size:constants_o,icon:"mdi:power",rippleProps:{preventPropagation:!0},onClick:()=>{l?c.turnOn({target:o}):c.turnOff({target:o})}})]})}const sl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"e1uz01s94"})("padding:0;background-color:var(--ha-S300);box-shadow:0px 2px 4px rgba(0, 0, 0, 0.1);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-image,background-color,box-shadow;background-size:cover;background-repeat:no-repeat;position:relative;overflow:hidden;border-radius:1rem;width:100%;flex-shrink:1;",e=>"card"===e.layoutName&&`
    aspect-ratio: 1/1;
  `," ",e=>{if(e.backgroundImage)return`
        background-image: url('${e.backgroundImage}');
        &:after {
          background: rgba(0,0,0,0.7);
          content: '';
          position: absolute;
          inset: 0;
          z-index: 0;
        }
      `}," &:disabled{cursor:not-allowed;opacity:0.8;}&:active{box-shadow:0px 4px 4px rgba(0, 0, 0, 0.1);}&:not(:disabled):hover{background-color:var(--ha-S400);box-shadow:0px 4px 4px rgba(0, 0, 0, 0.1);}.content{position:relative;z-index:1;}"),cl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1uz01s93"})({name:"rfe0kg",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 1)"}),ll=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Column.s,{target:"e1uz01s92"})({name:"fsms1z",styles:"padding:0.5rem 0.5rem 1rem;width:100%;background-color:rgba(0, 0, 0, 0.5)"}),dl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"e1uz01s91"})(),ul=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(oe,{target:"e1uz01s90"})({name:"fs2k14",styles:"font-size:0.8rem;color:rgba(255, 255, 255, 0.87)"});function pl({entity:e,groupMembers:r=[],volumeLayout:o="slider",thumbnailSize:n="3rem",hideThumbnail:a=!1,showArtworkBackground:s=!0,layout:c="card",hideMute:i=!1,hideAppName:l=!1,hideEntityName:h=!1,hideGrouping:p=!1,disabled:f=!1,service:v,serviceData:d,marqueeProps:m,className:b,cssStyles:u,key:S,modalProps:N,...g}){const _=(0,index_js_.useEntity)(e),x=(0,index_js_.useService)("mediaPlayer"),{useStore:C,joinHassUrl:E,getAllEntities:T}=(0,index_js_.useHass)(),j=C(de=>de.globalComponentStyles),z=(0,index_js_eager_.useRef)(null),D=(0,index_js_eager_.useRef)(null),I=(0,index_js_eager_.useRef)(null),V=(0,index_js_eager_.useRef)(null),w=T(),R=r.map(de=>w[de]??null).filter(de=>null!==de&&!(0,index_js_.isUnavailableState)(de.state)),A=(0,index_js_eager_.useMemo)(()=>[e,...R.map(de=>de.entity_id)],[e,R]),{state:$}=_,{media_artist:O,media_title:P,media_playlist:L1,app_name:G,media_duration:W,media_position:Z,media_position_updated_at:X}=_.attributes,le=(_?.attributes?.group_members||[_.entity_id]).reduce((de,Te)=>{const Ke=w[Te];return Ke?[...de,Ke.attributes?.friendly_name||Ke.entity_id]:de},[]),ge=`${O?O+" - ":""}${P??L1??""}`,U=G,B=(0,index_js_eager_.useMemo)(()=>{const de=_.attributes.entity_picture?_.attributes.entity_picture:null;return de&&de.startsWith("/")?E(de):de},[_.attributes.entity_picture,E]),H=(0,index_js_.isUnavailableState)($),re="idle"===$,se="standby"===$,ie=$===index_js_.OFF,me="playing"===$,he="buffering"===$,fe=H||f,ye=re||ie||se||he||fe,[Ie,Se]=(0,index_js_eager_.useState)(!1),xe=(0,index_js_eager_.useCallback)(de=>{if(!D.current||!V.current||ye||!I.current||!W)return;const Te=D.current.getBoundingClientRect(),ft=(de-Te.left)/Te.width*100,hn=W*ft/100,Jo=Math.max(0,Math.floor(hn/60)),Zo=Math.max(0,Math.floor(hn%60)),ea=String(Jo).padStart(2,"0"),ta=String(Zo).padStart(2,"0");V.current.style.left=`${(0,lodash.clamp)(ft,5,95)}%`,I.current.style.setProperty(`--progress-${(0,lodash.snakeCase)(e)}-clock`,`'${ea}:${ta}'`)},[e,W,ye]),Ae=(0,index_js_eager_.useCallback)((de,Te)=>{if(!de||!Te)return 0;const Ke=Te/de*100;I.current&&I.current.style.setProperty(`--progress-${(0,lodash.snakeCase)(e)}-width`,`${(0,lodash.clamp)(Ke,0,100)}%`)},[e]);(0,index_js_eager_.useEffect)(()=>(me&&null===z.current&&void 0!==X&&void 0!==Z?z.current=setInterval(()=>{const de=/* @__PURE__ */new Date,Te=new Date(X),Ke=(de.getTime()-Te.getTime())/1e3,ft=Z+Ke;Ae(W,ft)},1e3):me||null===z.current||(clearInterval(z.current),z.current=null),()=>{null!==z.current&&(clearInterval(z.current),z.current=null)}),[me,Z,X,W,Ae]);const at=(0,index_js_eager_.useCallback)(de=>{if(!D.current)return;const Te=D.current.getBoundingClientRect(),ft=(de-Te.left)/Te.width;x.mediaSeek({target:A,serviceData:{seek_position:ft*(W??0)}})},[x,A,W]);(0,index_js_eager_.useEffect)(()=>{Ae(W,Z)},[Z,Ae,W]);const ce=(0,index_module.zl)(de=>{xe(de)},20,{trailing:!0,leading:!0}),De=use_gesture_react_esm_useGesture({onMove:de=>{ye||ce(de.event.clientX)},onClick:de=>{ye||at(de.event.clientX)}}),ht=(0,index_js_.supportsFeatureFromAttributes)(_.attributes,524288);if(r.length>0&&!ht&&!_.attributes.group_members)throw new Error(`"${e}" does not support grouping, but you have provided groupMembers.`);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(sl,{disabled:fe,modalProps:{open:Ie,groupedEntities:R,allEntityIds:A,onClose:()=>Se(!1),...N},entity:e,service:v,serviceData:d,disableActiveState:!0,disableRipples:!0,className:`media-player-card ${b??""}`,elRef:I,layoutName:c,backgroundImage:!0===s&&null!==B?B:void 0,cssStyles:`
          ${j?.mediaPlayerCard??""}
          ${u??""}
        `,...g,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{fullHeight:!0,fullWidth:!0,className:"column content",justifyContent:"space-between",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(dl,{className:"empty"}),"card"===c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{gap:"1rem",fullWidth:!0,className:"row",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(jn,{entity:e,disabled:fe,allEntityIds:A,feature:!0,size:40})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(ll,{className:"base",fullWidth:!0,gap:"0.5rem",style:{paddingBottom:ie?"slim"===c?"1rem":"0.5rem":"1rem"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",gap:"0.5rem",wrap:"nowrap",fullWidth:!0,children:[!1===a&&null!==B&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Thumbnail_i,{className:"thumbnail",backgroundImage:B,size:n}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{className:"column",gap:"0.5rem",alignItems:"flex-start",style:{width:!1===a&&null!==B?`calc(100% - (${n} + 0.5rem))`:"100%"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",justifyContent:le.length>0&&!h?"space-between":"flex-end",fullWidth:!0,children:[le.length>0&&!h&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(cl,{className:"title device-name",children:[h?"":le.join(", "),he?(h?"":" - ")+"buffering":""]}),(ie||"slim"===c)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Bn,{allEntityIds:A,entity:e,disabled:fe,onSpeakerGroupClick:()=>Se(!0),hideGrouping:p})]}),ge&&!ie&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(ul,{speed:30,pauseOnHover:!0,play:me,autoFill:!0,...m,className:"title marquee",children:[ge,U&&!l?` - ${U}`:""]})]})]}),H?null:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{className:"row",gap:"1rem",justifyContent:"space-between",wrap:"nowrap",fullWidth:!0,children:[!ie&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vo,{entity:e,disabled:fe,allEntityIds:A,volumeLayout:o,layout:c,hideMute:i}),"slim"===c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{gap:"0.5rem",wrap:"nowrap",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(jn,{entity:e,disabled:fe,allEntityIds:A,feature:!1,size:constants_o})}),!ie&&"card"===c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Bn,{allEntityIds:A,entity:e,disabled:fe,onSpeakerGroupClick:()=>Se(!0),hideGrouping:p})]})]})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ProgressBar_t,{className:`${ye?"disabled":""} progress-bar`,disabled:ye,entity:(0,lodash.snakeCase)(e),ref:D,onPointerDownCapture:de=>{de.stopPropagation()},...De(),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Clock_o,{entity:(0,lodash.snakeCase)(e),className:"clock",ref:V})]},S)})}function hl(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"MediaPlayerCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(pl,{...r,...e})})}const fl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"eblbn6u3"})({name:"1318kic",styles:'.contents .calendar>*{flex-grow:1;background-color:var(--ha-S300);min-height:400px;--fc-neutral-bg-color:var(--ha-S300);--fc-list-event-hover-bg-color:var(--ha-S300);--fc-theme-standard-border-color:var(--ha-S500);--fc-border-color:var(--ha-S500);--fc-page-bg-color:var(--ha-S300);}a{color:inherit!important;}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--ha-S500);border-radius:0.5rem;}.fc-theme-standard td{border-bottom-left-radius:0.5rem;border-bottom-right-radius:0.5rem;}.fc-scrollgrid-section-header td{border:none;}th.fc-col-header-cell.fc-day{background-color:var(--ha-S200);color:var(--ha-S200-contrast);font-size:11px;font-weight:bold;text-transform:uppercase;}.fc-daygrid-dot-event:hover{background-color:inherit;}.fc-daygrid-day-top{text-align:center;padding-top:0.25rem;justify-content:center;}table.fc-scrollgrid-sync-table tbody tr:first-of-type .fc-daygrid-day-top{padding-top:0;}a.fc-daygrid-day-number{font-size:0.8rem;cursor:pointer;}.fc .fc-daygrid-day-number{}.fc .fc-daygrid-more-link{font-size:0.7rem;float:none;}.fc-daygrid-day-bottom{width:100%;text-align:center;&:before,&:after{display:none;}}.fc .fc-daygrid-day.fc-day-today{background:inherit;}td.fc-day-today .fc-daygrid-day-number{height:1.5rem;width:1.5rem;flex-grow:0;flex-shrink:0;display:flex;border-radius:50%;text-align:center;white-space:nowrap;background-color:var(--ha-A400);color:var(--ha-900-contrast);line-height:1.5rem;padding:0;align-items:center;justify-content:center;}.fc-event{border-radius:4px;line-height:1.7;cursor:pointer;}.fc-daygrid-block-event .fc-event-main{padding:0 1px;}.fc-day-past .fc-daygrid-day-events{opacity:0.5;}.fc-popover{background-color:var(--primary-background-color)!important;}.fc-popover-header{background-color:var(--secondary-background-color)!important;}.fc-theme-standard .fc-list-day-frame{background-color:transparent;}.fc-list.fc-view,.fc-list-event.fc-event td{border:none;}.fc-list-day.fc-day th{border-bottom:none;border-top:1px solid var(--fc-theme-standard-border-color, #ddd)!important;}.fc-list-day-text{font-size:16px;font-weight:400;}.fc-list-day-side-text{font-weight:400;font-size:16px;color:var(--primary-color);}.fc-list-day-cushion{background-color:var(--ha-S200);color:var(--ha-S200-contrast);}.fc-list-table td,.fc-list-day-frame{padding-top:12px;padding-bottom:12px;}&.narrow .fc-list-table{table-layout:fixed;tr th,tr td{&:first-of-type{box-sizing:border-box;width:30%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}&[aria-hidden="true"]{box-sizing:border-box;width:5%;}&:last-of-type{box-sizing:border-box;width:65%;overflow-wrap:break-word;white-space:pre-wrap;font-size:0.8rem;}}}.fc-dayGridMonth-view{.fc-event-time,.fc-event-title{display:none;}.fc-daygrid-event-harness{margin-top:0!important;}.fc-daygrid-day-events{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;margin-top:0;}}.fc-dayGridDay-view{.fc-event-title{&:before{content:"- ";}}th.fc-col-header-cell.fc-day{font-size:16px;font-weight:400;.fc-col-header-cell-cushion{padding:8px 14px;text-transform:none;}}}&.narrow{.fc-dayGridMonth-view .fc-scrollgrid-sync-table{overflow:hidden;}.fc .fc-col-header-cell-cushion{padding:0.4rem;}.monthly-toggle-view{display:none;}}.fc-header-toolbar,.fc .fc-toolbar{display:none;}'}),ml=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eblbn6u2"})({name:"1dvcxr3",styles:"padding:1rem"}),gl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eblbn6u1"})({name:"3jlgtg",styles:"overflow-wrap:break-word;color:var(--ha-S200-contrast);padding:1rem 0;width:100%;display:flex;flex-direction:column"}),vl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Alert.b,{target:"eblbn6u0"})({name:"1ubykaj",styles:"position:absolute;bottom:0;left:0;right:0;z-index:4;&:after{border-radius:0;}"}),Fn=e=>{if("string"==typeof e)return e;if(e?.dateTime)return e.dateTime;if(e?.date)return e.date};function bl(e){const r={month:"long",day:"numeric",year:"numeric"},o={hour:"2-digit",minute:"2-digit"},n=new Date(e),a=new Intl.DateTimeFormat("en-US",r).format(n),s=new Intl.DateTimeFormat("en-US",o).format(n),c=new Date(n.getTime()+9e5),i=new Intl.DateTimeFormat("en-US",o).format(c);return`${a} ${s} - ${i}`}const yl={headerToolbar:!1,plugins:[daygrid_index,list_index,interaction_index],initialView:"dayGridMonth",dayMaxEventRows:!0,height:"parent",views:{listWeek:{type:"list",duration:{days:7}}},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!0}};function xl({entities:e,className:r,timeZone:o,view:n,disableAutoView:a=!1,disableNarrow:s=!1,includeHeader:c=!0,cssStyles:i,key:l,...h}){const{useStore:p}=(0,index_js_.useHass)(),f=p(U=>U.globalComponentStyles),v=p(U=>U.config),d=(0,index_js_eager_.useRef)(null),m=(0,index_js_eager_.useRef)(!1),[b,u]=(0,index_js_eager_.useState)(null),[S,N]=(0,index_js_eager_.useState)(""),[g,_]=(0,index_js_eager_.useState)(!1),[x,C]=(0,index_js_eager_.useState)(!1),{width:E,ref:T}=(0,useResizeDetector.Z)({refreshMode:"debounce",handleHeight:!1,refreshRate:500}),{callApi:j,getAllEntities:z}=(0,index_js_.useHass)(),[D,I]=(0,index_js_eager_.useState)(null),V=z(),[w,R]=(0,index_js_eager_.useState)(n??"dayGridMonth"),$=e.map(U=>V[U]).filter(U=>!(0,index_js_.isUnavailableState)(U?.state)),O=(0,index_js_eager_.useCallback)(async(U,B)=>{u(null);const H=encodeURI(`?start=${U.start.toISOString()}&end=${U.end.toISOString()}`),re=[],se=[],ie=e.map(async he=>j(`/calendars/${he}${H}`,{method:"GET"}).then(fe=>({result:fe,error:"error"===fe.status?fe.data:null,entityId:he}),fe=>({error:fe,result:null,entityId:he})));(await Promise.all(ie)).forEach(({result:he,error:fe,entityId:ye},Ie)=>{const Se=(0,index_js_.getColorByIndex)(Ie);if(fe||!he||"error"===he.status){se.push(`${ye} - ${fe}`);return}(he.data??[]).forEach(xe=>{const Ae=Fn(xe.start),at=Fn(xe.end);if(!Ae||!at)return;const ce={uid:xe.uid,summary:xe.summary,description:xe.description,dtstart:Ae,dtend:at,recurrence_id:xe.recurrence_id,rrule:xe.rrule},De={start:Ae,end:at,title:xe.summary,backgroundColor:Se,borderColor:Se,calendar:e[Ie],eventData:ce};re.push(De)})}),se.length>0?(u(`${(0,index_js_.localize)("calendar_event_retrieval_error")}: "${se.join(", ")}".`),B([])):B(re),m.current=!0},[j,e]),P=(0,index_js_eager_.useCallback)(U=>{if(!d.current)return;const B=d.current.getApi();B.batchRendering(()=>{B.removeAllEventSources(),U(B),B.addEventSource(O),N(B.view.title)})},[O]),L1=(0,index_js_eager_.useCallback)(U=>{if(d.current){const B=d.current.getApi();d.current.requestResize(),!(U<400)||(a||"listWeek"===B.view.type||P(H=>{H.setOption("eventDisplay","auto"),H.changeView("listWeek"),R("listWeek")}),x||s||C(!0)),U>=400&&x&&!s&&C(!1)}},[x,a,s,P]);(0,index_js_eager_.useEffect)(()=>{E&&L1(E)},[E,L1]);const G=(0,index_js_eager_.useCallback)(()=>{P(U=>U.next())},[P]),W=(0,index_js_eager_.useCallback)(()=>{P(U=>U.prev())},[P]),Z=(0,index_js_eager_.useCallback)(()=>{P(U=>U.today())},[P]),X=(0,index_js_eager_.useCallback)(U=>{if(U===w||!d.current)return;const B="dayGridMonth"===U?"list-item":"auto";P(H=>{H.setOption("eventDisplay",B),H.changeView(U),R(U)})},[w,P]),le=(0,index_js_eager_.useCallback)(U=>{const B=$.find(H=>H.entity_id===U.event.extendedProps.calendar);I({...U.event.extendedProps,entity:B??null})},[$]),ge=(0,index_js_eager_.useCallback)(U=>{"dayGridMonth"===U.view.type&&P(B=>{B.gotoDate(U.date),B.changeView("dayGridDay"),R("dayGridDay")})},[P]);return(0,index_js_eager_.useEffect)(()=>{if(!m.current){if(n)P(U=>{U.changeView(n)});else{const U="dayGridMonth",B="list-item";P(H=>{H.setOption("eventDisplay",B),H.changeView(U),R(U)})}}},[P,n]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(fl,{disableScale:!0,disableActiveState:!0,disableRipples:!0,className:`calendar-card ${r??""} ${x?"narrow":""}`,cssStyles:`
        ${f.calendarCard??""}
        ${i??""}
      `,...h,children:[c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(ml,{className:"header",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{justifyContent:"space-between",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("h3",{className:"title",children:S})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(nt,{className:"button-group-nav",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{title:(0,index_js_.localize)("previous"),size:35,disabled:g,onClick:()=>{W()},icon:"mdi:navigate-before"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{title:(0,index_js_.localize)("next"),size:35,disabled:g,onClick:()=>{G()},icon:"mdi:navigate-next"})]})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{justifyContent:"flex-end",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(nt,{className:"button-group-views",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{title:(0,index_js_.localize)("today"),size:35,disabled:g,onClick:()=>{Z()},noIcon:!0,children:(0,index_js_.localize)("today").toUpperCase()}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{className:"monthly-toggle-view",title:(0,index_js_.localize)("monthly"),active:"dayGridMonth"===w,size:35,disabled:g,onClick:()=>{X("dayGridMonth")},icon:"mdi:view-module"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{title:(0,index_js_.localize)("weekly"),size:35,disabled:g,onClick:()=>{X("listWeek")},icon:"mdi:view-week"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{title:(0,index_js_.localize)("daily"),size:35,disabled:g,onClick:()=>{X("dayGridDay")},icon:"mdi:view-day"})]})})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"calendar",ref:T,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(FullCalendar,{dateClick:ge,moreLinkClick:ge,eventClick:le,editable:!1,ref:d,loading:U=>{_(U)},locale:v?.language,timeZone:o??"local",progressiveEventRendering:!0,...yl})}),g&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vl,{className:"loading",description:`${(0,index_js_.localize)("loading")}...`}),D&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH_rn,{title:D.eventData.summary,id:D.eventData.uid,description:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{justifyContent:"flex-start",gap:"1rem",style:{textTransform:"lowercase"},children:D.entity.attributes.friendly_name}),open:!0,onClose:()=>{I(null)},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{justifyContent:"flex-start",alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{justifyContent:"flex-start",gap:"1rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(iconify.JO,{style:{fontSize:"1.5rem"},icon:"mdi:calendar-clock"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:bl(D.eventData.dtstart)})]}),D.eventData.description&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(gl,{dangerouslySetInnerHTML:{__html:es2015.link(D.eventData.description.replace(/\n/g,"<br/>"),{newWindow:!0,stripPrefix:!1})}})]})}),b&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Alert.b,{title:(0,index_js_.localize)("calendar_event_retrieval_error"),type:"error",children:b})]},l)}function Ch(e){const r={xxs:12,xs:8,sm:6,md:6,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"CalendarCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(xl,{...r,...e})})}const Nl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"esp99v32"})("display:flex;",({fullWidth:e})=>e?`
        > .fit-content {
          flex-basis: auto;
          width: 100%;
        }
      `:"",";"),El=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"esp99v31"})({name:"16j8dh",styles:"display:flex;flex-basis:fit-content"}),Sl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"esp99v30"})("display:flex;flex-direction:row;flex-wrap:",({wrap:e})=>e||"wrap",";justify-content:",({justifyContent:e})=>e||"center",";align-items:",({alignItems:e})=>e||"center",";width:",({fullWidth:e})=>e?"100%":"auto",";height:",({fullHeight:e})=>e?"100%":"auto",";overflow:hidden;>*{height:100%;width:auto;display:flex;align-items:stretch;.button-bar-button{height:100%;display:flex;align-items:stretch;}}&.grouped{background-color:var(--ha-S300);border-radius:0.5rem;border:1px solid var(--ha-S500);>*{border-right:1px solid var(--ha-S500);&:last-of-type{border-right:none;}}}&.bubble{gap:",({gap:e})=>e||"0px",";>*{flex-grow:1;}.button-bar-button{background-color:var(--ha-300-a3-contrast);color:var(--ha-300);&:not(.disabled):not(:focus):hover{background-color:var(--ha-S50-a6);color:var(--ha-500);}}}");function kl({key:e,alignItems:r,fullWidth:o,fullHeight:n,gap:a,justifyContent:s,wrap:c,style:i,id:l,className:h,cssStyles:p,children:f,layoutType:v="grouped",...d}){const m=index_js_eager_.Children.map(f,(b,u)=>(0,index_js_eager_.isValidElement)(b)?(0,index_js_eager_.cloneElement)(b,{key:b.key||u,size:b?.props?.size??("bubble"===v?35:30),borderRadius:"bubble"===v?"8px":"0px"}):null);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Nl,{id:l??"",css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(p??"",";"),layoutType:v,className:`button-bar ${v} ${h??""}`,style:{...i??{}},...d,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(El,{className:"fit-content",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Sl,{className:`button-group-inner ${v}`,alignItems:r,justifyContent:s,wrap:c,gap:a??"bubble"===v?"0.5rem":"0",fullWidth:o,fullHeight:n,children:m})})},e)}function nt(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ButtonBar"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(kl,{...e})})}const _l=35;function $e({key:e,children:r,active:o,className:n,size:a,cssStyles:s,borderRadius:c,hideActiveBorder:i,...l}){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{className:`button-bar-button ${n??""} ${i?"hide-active-border":""}`,disableScale:!0,borderRadius:c??0,size:a??_l,active:o,cssStyles:`
        &.button-bar-button {
          height: auto;
          &:not(.hide-active-border) {
            border-bottom: 2px solid transparent;
            transition: border-bottom-color var(--ha-transition-duration) var(--ha-easing);
          }
          
          .contents {
            > div {
              padding: 0.4rem;
            }
          }
          &.active {
            &:not(.hide-active-border) {
              border-bottom-color: var(--ha-A400);
            }
          }
        }
        ${s??""}
      `,...l,children:r},e)}const Cl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Row.X,{target:"eih8kqy0"})("--ha-control-button-group-thickness:",e=>e.thickness,"px;width:auto;&:not(.maintain-aspect-ratio){>*{flex:1;height:100%;width:100%;}}&.maintain-aspect-ratio{>*{flex-grow:0;}}&:not(.vertical){height:var(--ha-control-button-group-thickness);&.maintain-aspect-ratio{>*{height:100%;width:var(--ha-control-button-group-thickness);}}}&.vertical{width:var(--ha-control-button-group-thickness);&.maintain-aspect-ratio{>*{width:100%;height:var(--ha-control-button-group-thickness);}}}");function Dl({key:e,orientation:r="vertical",reverse:o=!1,thickness:n=100,children:a,className:s,gap:c="1rem",maintainAspectRatio:i=!0,...l}){const h=index_js_eager_.Children.map(a,(v,d)=>(0,index_js_eager_.isValidElement)(v)?(0,index_js_eager_.cloneElement)(v,{key:v.key||d}):v),p=(0,index_js_eager_.useMemo)(()=>["button-group-parent",s,i?"maintain-aspect-ratio":"",o?"reverse":"","vertical"===r?"vertical":""].filter(v=>!!v).join(" "),[i,s,o,r]),f=(0,index_js_eager_.useMemo)(()=>o?"vertical"===r?"column-reverse":"row-reverse":"vertical"===r?"column":"row",[o,r]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Cl,{...l,style:{...l.style||{},flexDirection:f},gap:c,thickness:n,className:p,children:h},e)}function Pt(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ButtonGroup"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Dl,{...e})})}const Ol=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.button,{target:"e17qyjtk0"})("outline:none;cursor:pointer;border:0;border-radius:",e=>e.borderRadius??.25,"rem;background-color:var(--ha-S300);color:var(--ha-S500-contrast);display:flex;flex-shrink:0;aspect-ratio:1/1;justify-content:center;align-items:center;box-shadow:0px 2px 4px rgba(0, 0, 0, 0.1);transition:var(--ha-transition-duration) var(--ha-easing);transition-property:background-color,color,box-shadow,opacity;font-size:calc(var(--ha-control-button-group-thickness) / 4);width:100%;height:100%;svg{transition:color var(--ha-transition-duration) var(--ha-easing);}&:not(:disabled):hover{background-color:var(--ha-S400);}&:disabled{cursor:not-allowed;opacity:0.8;}&.active:not(:disabled){background-color:",e=>e.activeColor??"var(--ha-A400)",";color:var(--ha-900-contrast);svg{color:var(--ha-900-contrast);}&:hover{background-color:",e=>e.activeColor??"var(--ha-A700)",";}}");function Rl({entity:e,onClick:r,icon:o,iconProps:n,title:a,active:s,service:c,serviceData:i,key:l,showTitle:h=!1,activeColor:p,children:f,disabled:v,disableScaleEffect:d=!1,style:m,...b}){const u=(0,index_js_.useEntity)(e??"unknown",{returnNullIfNotFound:!0}),S=(0,index_js_.useIcon)(o??u?.attributes?.icon??(f?null:"mdi:help-circle-outline"),n),N=(0,index_js_eager_.useMemo)(()=>a??u?.attributes?.friendly_name??u?.entity_id??"",[u,a]),g=(0,index_js_eager_.useMemo)(()=>s??u?.state===index_js_.ON,[u,s]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"left",title:N,...b,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ol,{className:`button-group-button ${h?"has-title":""} ${g?"active":""}`,activeColor:p,disabled:v,whileTap:{scale:v||d?1:.9},onClick:()=>{r&&r(u),c&&u&&u.service[c](i??{})},style:m,children:[h&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{fullWidth:!0,children:S}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{fullWidth:!0,style:{fontSize:"1.2rem"},children:a})]}),!h&&S,f&&f]})},l)}function Ze(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ButtonGroupButton"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Rl,{...e})})}function Il({url:e,posterUrl:r,controls:o=!0,muted:n=!1,autoPlay:a=!1,playsInline:s=!1,onStateChange:c}){const i=(0,index_js_eager_.useRef)(null),[l,h]=(0,index_js_eager_.useState)(null),[p,f]=(0,index_js_eager_.useState)(null),v=(0,index_js_eager_.useRef)(void 0),d=(0,index_js_eager_.useRef)(!1),m=(0,index_js_eager_.useCallback)(async(N,g,_)=>{const x=new g({backBufferLength:60,fragLoadingTimeOut:3e4,manifestLoadingTimeOut:3e4,levelLoadingTimeOut:3e4,maxLiveSyncPlaybackRate:2,lowLatencyMode:u()});v.current=x,x.attachMedia(N),x.on(g.Events.MEDIA_ATTACHED,()=>{f(null),h(null),x.loadSource(_)}),x.on(g.Events.FRAG_LOADED,()=>{f(null),h(null)}),x.on(g.Events.ERROR,(C,E)=>{if(E.fatal){if(E.type===g.ErrorTypes.NETWORK_ERROR){switch(E.details){case g.ErrorDetails.MANIFEST_LOAD_ERROR:{let T="Error starting stream, see logs for details";void 0!==E.response&&void 0!==E.response.code&&(E.response.code>=500?T+=" (Server failure)":E.response.code>=400?T+=" (Stream never started)":T+=" ("+E.response.code+")"),f(T);break}case g.ErrorDetails.MANIFEST_LOAD_TIMEOUT:f("Timeout while starting stream");break;default:f("Stream network error");break}x.startLoad()}else E.type===g.ErrorTypes.MEDIA_ERROR?(f("Error with media stream contents"),x.recoverMediaError()):h("Error playing stream")}})},[]),b=(0,index_js_eager_.useCallback)(async()=>{if(!i.current||d.current)return;const N=fetch(e),g=(await __webpack_require__.e("3682").then(__webpack_require__.bind(__webpack_require__,169))).default;d.current=!0;let _=g.isSupported();if(_||(_=""!==i.current.canPlayType("application/vnd.apple.mpegurl")),!_){h("video not supported");return}const x=await (await N).text(),C=/#EXT-X-STREAM-INF:.*?(?:CODECS=".*?(hev1|hvc1)?\..*?".*?)?(?:\n|\r\n)(.+)/g,E=C.exec(x),T=C.exec(x);let j;null!==E&&null===T?j=new URL(E[2],e).href:j=e,g.isSupported()?m(i.current,g,j):S(i.current,j)},[e,m]);function u(){if(typeof window<"u"&&!("performance"in window)||0===performance.getEntriesByType("resource").length)return!1;const N=performance.getEntriesByType("resource")[0];return"nextHopProtocol"in N&&"h2"===N.nextHopProtocol}async function S(N,g){N.src=g,N.addEventListener("loadedmetadata",()=>{N.play()})}return(0,index_js_eager_.useEffect)(()=>{b()},[b]),l?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Alert.b,{type:"error",description:l}):(p&&console.error(p),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(players.Y,{ref:i,type:"application/vnd.apple.mpegurl",poster:r,autoPlay:a,muted:n,playsInline:s,controls:o,onVideoStateChange:c}))}function Al({entity:e,controls:r,muted:o,autoPlay:n,playsInline:a,posterUrl:s,onStateChange:c}){const{useStore:i}=(0,index_js_.useHass)(),l=i(C=>C.connection),h=(0,index_js_eager_.useRef)(null),[p,f]=(0,index_js_eager_.useState)(void 0),v=(0,index_js_eager_.useRef)(void 0),d=(0,index_js_eager_.useRef)(void 0),m=(0,index_js_eager_.useRef)(void 0),b=(0,index_js_eager_.useRef)([]),u=(0,index_js_eager_.useRef)(void 0),S=(0,index_js_eager_.useRef)(!1),N=(0,index_js_eager_.useCallback)(async()=>l?.sendMessagePromise({type:"camera/webrtc/get_client_config",entity_id:e}),[l,e]),g=()=>{if(d.current&&(d.current.getTracks().forEach(C=>{C.stop()}),d.current=void 0),h.current&&(h.current.removeAttribute("src"),h.current.load()),v.current){const C=v.current;C.close(),C.onnegotiationneeded=null,C.onicecandidate=null,C.oniceconnectionstatechange=null,C.onicegatheringstatechange=null,C.ontrack=null,C.onsignalingstatechange=null,v.current=void 0}u.current?.then(C=>C()),u.current=void 0,m.current=void 0,b.current=[]},_=(0,index_js_eager_.useCallback)(async C=>{d.current&&h.current&&(d.current.addTrack(C.track),h.current.srcObject=d.current)},[d]),x=(0,index_js_eager_.useCallback)(async()=>{if(!l||!h.current||S.current)return;S.current=!0,f(void 0);const C=await N();if(!C)return;const E=new RTCPeerConnection(C.configuration);C.dataChannel&&E.createDataChannel(C.dataChannel);const T=(I,V)=>l?.sendMessage({type:"camera/webrtc/candidate",entity_id:e,session_id:I,candidate:V}),j=async()=>{if(!E)return;const I={offerToReceiveAudio:!0,offerToReceiveVideo:!0},V=await E.createOffer(I);if(!E||(await E.setLocalDescription(V),!E))return;let w="";if(C?.getCandidatesUpfront&&(await new Promise(O=>{E.onicegatheringstatechange=P=>{"complete"===P.target.iceGatheringState&&(E.onicegatheringstatechange=null,O())}}),!E))return;for(;b.current.length;){const O=b.current.pop();O&&(w+=`a=${O}\r
`)}const R=async O=>{if(!v.current?.signalingState||["stable","closed"].includes(v.current.signalingState))return;const P=new RTCSessionDescription({type:"answer",sdp:O.answer});try{await v.current.setRemoteDescription(P)}catch(L1){L1 instanceof Error&&f("Failed to connect WebRTC stream: "+L1.message),g()}},A=async O=>{if("session"===O.type)m.current=O.session_id,b.current.forEach(P=>T(O.session_id,P.toJSON())),b.current=[];else if("answer"===O.type)R(O);else if("candidate"===O.type)try{const P=O.candidate.sdpMid||null!=O.candidate.sdpMLineIndex?new RTCIceCandidate(O.candidate):new RTCIceCandidate({candidate:O.candidate.candidate,sdpMid:"0"});await v.current?.addIceCandidate(P)}catch(P){P instanceof Error&&f(P.message),console.error(P)}else"error"===O.type&&(f("Failed to start WebRTC stream: "+O.message),g())},$=V.sdp+w;try{u.current=l.subscribeMessage(O=>A(O),{type:"camera/webrtc/offer",entity_id:e,offer:$})}catch(O){O instanceof Error&&f("Failed to start WebRTC stream: "+O.message),g()}};E.onnegotiationneeded=j;const z=I=>{I.candidate?.candidate&&(m.current?T(m.current,I.candidate.toJSON()):b.current.push(I.candidate))};E.onicecandidate=z;const D=()=>{E?.iceConnectionState==="failed"&&E.restartIce()};E.oniceconnectionstatechange=D,E.onsignalingstatechange=I=>{switch(I.target.signalingState){case"stable":console.log("WebRTC ICE Negotiation complete");break;default:console.log(`WebRTC signaling state changed: ${I.target.signalingState}`)}},d.current=new MediaStream,E.ontrack=_,E.addTransceiver("audio",{direction:"recvonly"}),E.addTransceiver("video",{direction:"recvonly"}),v.current=E},[N,_,l,e]);return(0,index_js_eager_.useEffect)(()=>{x()},[x]),(0,index_js_eager_.useEffect)(()=>{const C=h.current;return()=>{d.current&&(d.current.getTracks().forEach(E=>{E.stop()}),d.current=void 0),C&&(C.removeAttribute("src"),C.load()),v.current&&(v.current.close(),v.current=void 0)}},[]),p?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Alert.b,{type:"error",description:p}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(players.Y,{ref:h,poster:s,autoPlay:n,muted:o,playsInline:a,controls:r,onVideoStateChange:c})}function Tl({entity:e,muted:r=!1,controls:o=!0,autoPlay:n=!1,playsInline:a=!1,onStateChange:s}){const c=(0,index_js_.useCamera)(e),{stream:i,poster:l,mjpeg:h}=c;return h.shouldRenderMJPEG&&h.url?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("img",{src:h.url,alt:`${(0,index_js_.localize)("camera_view")} "${c.attributes.friendly_name??c.entity_id}".`}):c.attributes.frontend_stream_type===index_js_.STREAM_TYPE_HLS?!l.loading&&l.url&&!i.loading&&i.url&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Il,{autoPlay:n,muted:r,controls:o,playsInline:a,posterUrl:l.url,onStateChange:s,url:i.url}):c.attributes.frontend_stream_type===index_js_.STREAM_TYPE_WEB_RTC?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Al,{autoPlay:n,playsInline:a,muted:r,controls:o,entity:e,onStateChange:s,posterUrl:l.url}):null}const zl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Row.X,{target:"eh4n7gh5"})({name:"14evq1",styles:"position:absolute;top:0;left:0;right:0;padding:0.5rem;z-index:1"}),Vl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(ve,{target:"eh4n7gh4"})("box-shadow:0px 2px 4px rgba(255, 255, 255, 0.1);border-radius:10px;.icon{background-color:",e=>e.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.5)",";color:",e=>e.active?"rgba(0, 0, 0, 1)":"rgba(0, 0, 0, 0.4)",";&:not(:disabled):hover{background-color:",e=>e.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.5)",";}}"),$l=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Ce,{target:"eh4n7gh3"})({name:"1w0uscc",styles:"aspect-ratio:16/9"}),Ln=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eh4n7gh2"})({name:"1urrs02",styles:"color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);padding:0.5rem;border-radius:0.4rem"}),Ml=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Row.X,{target:"eh4n7gh1"})({name:"1v9exgy",styles:"padding:0.5rem;color:var(--ha-500-contrast);background-color:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.6);transition:color var(--ha-transition-duration) var(--ha-easing);position:absolute;inset:auto 0 0 0;font-weight:bold;font-size:1.2rem;z-index:1"}),Pl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(iconify.JO,{target:"eh4n7gh0"})({name:"1jjc3cw",styles:"opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:2rem"}),or=40;function ThemeControlsModal_DWBaJmrH_jl({entity:e,view:r="poster",autoPlay:o=!0,muted:n=!0,controls:a=!1,playsInline:s=!0,posterUpdateInterval:c=1e4,className:i,name:l,hideName:h,headerSensors:p,hideFooter:f,hideViewControls:v,onClick:d,service:m,serviceData:b,cssStyles:u,key:S,...N}){const{useStore:g}=(0,index_js_.useHass)(),_=g(X=>X.globalComponentStyles),x=(0,index_js_eager_.useRef)(void 0),C=(0,index_js_eager_.useRef)(null),E=(0,index_js_eager_.useRef)(null),[T,j]=(0,index_js_eager_.useState)(!0),[z,D]=(0,index_js_eager_.useState)(r),I=(0,index_js_.useCamera)(e,{stream:!1,poster:"poster"===z}),{poster:V,mjpeg:w}=I,R=(0,index_js_.isUnavailableState)(I.state),A=I.attributes.frontend_stream_type===index_js_.STREAM_TYPE_HLS||I.attributes.frontend_stream_type===index_js_.STREAM_TYPE_WEB_RTC,$=()=>{x.current&&(clearInterval(x.current),x.current=void 0)},O=(0,index_js_eager_.useCallback)(()=>{$(),x.current=setInterval(()=>V.refresh(),c)},[V,c]);(0,index_js_eager_.useEffect)(()=>()=>{$()},[]),(0,index_js_eager_.useEffect)(()=>{"poster"===r&&O()},[r,O]),(0,index_js_eager_.useEffect)(()=>{r&&D(r)},[r]);const P=(0,index_js_eager_.useCallback)(()=>{j(!1)},[]),L1=(0,index_js_eager_.useCallback)(()=>{j(!0)},[]),G=(0,index_js_eager_.useCallback)(X=>{null!==E.current&&("canplay"===X||"canplaythrough"===X?E.current.innerText="ready":"play"===X||"playing"===X?E.current.innerText="playing":E.current.innerText=X),C.current&&(C.current.style.opacity="waiting"===X||"stalled"===X?"1":"0")},[]),W=(0,index_js_eager_.useMemo)(()=>{const X=[];return A&&X.push(/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{icon:"mdi:video",size:or,disabled:R,onClick:()=>{D("live")},active:"live"===z,title:(0,index_js_.localize)("preload_camera_stream"),tooltipPlacement:"top",rippleProps:{preventPropagation:!0}},"live")),X.push(/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{icon:"mdi:video-image",size:or,disabled:R,onClick:()=>{D("motion")},active:"motion"===z,title:`${(0,index_js_.localize)("motion")} ${(0,index_js_.localize)("view")}`,tooltipPlacement:"top",rippleProps:{preventPropagation:!0}},"motion"),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)($e,{icon:"el:picture",size:or,disabled:R,onClick:()=>{D("poster")},active:"poster"===z,title:`${(0,index_js_.localize)("image")} ${(0,index_js_.localize)("view")}`,tooltipPlacement:"top",rippleProps:{preventPropagation:!0}},"poster")),X},[A,R,z]),Z=(0,index_js_eager_.useMemo)(()=>l??I.attributes.friendly_name??I.entity_id,[l,I]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)($l,{entity:e,service:m,serviceData:b,disableActiveState:!0,title:Z,className:`camera-card ${i??""}`,onClick:X=>{d&&d(I,X)},cssStyles:`
          ${_.cameraCard??""}
          ${u??""}
        `,...N,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(zl,{justifyContent:"space-between",gap:"0.5rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{justifyContent:"flex-start",gap:"0.5rem",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Vl,{active:!0,borderRadius:10,disableScale:!0,size:30,noIcon:!0,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{ref:E,children:T||"live"===z?(0,index_js_.localize)("loading"):I.state})})}),R&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ln,{children:[(0,index_js_.localize)("unavailable")," ",I.entity_id]}),!h&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ln,{children:Z})]}),!f&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Ml,{justifyContent:"space-between",gap:"0.5rem",wrap:"nowrap",children:[p&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nt,{layoutType:"bubble",gap:"0.5rem",children:index_js_eager_.Children.map(p,(X,le)=>(0,index_js_eager_.isValidElement)(X)?(0,index_js_eager_.cloneElement)(X,{key:X.key||le,size:X.props.size??or,rippleProps:{preventPropagation:!0,...X?.props?.rippleProps??{},key:X.key||le}}):X)}),!v&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nt,{gap:"0.5rem",layoutType:"bubble",children:W})]}),"live"!==z&&(V.url||w.url)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(PreloadImage.b,{onLoad:P,onLoading:L1,src:"motion"===z&&w.url?w.url:V.url??"",style:{width:"100%",height:"100%",position:"absolute"},lazy:!0}),"live"===z&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pl,{ref:C,icon:"eos-icons:three-dots-loading"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Tl,{autoPlay:o,muted:n,controls:a,playsInline:s,onStateChange:G,entity:e})]})]},S)})}function Dh(e){const r={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"CameraCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH_jl,{...r,...e})})}const Bl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e124bvc21"})({name:"1w3rsmz",styles:"--divider-color:rgba(225, 225, 225, 0.12);display:block;height:100%;width:100%;.entry-container{width:100%;}.entry{position:relative;display:flex;width:100%;line-height:1.6rem;padding:0.5rem 1rem;box-sizing:border-box;border-top:1px solid var(--divider-color);justify-content:space-between;align-items:center;}.indicator{background-color:var(--disabled-color);height:0.5rem;width:0.5rem;border-radius:0.25rem;flex-shrink:0;margin-right:0.7rem;margin-inline-start:initial;margin-inline-end:0.7rem;}.entry:hover{background-color:rgba(0, 0, 0, 0.12);}.message-relative_time{display:flex;flex-direction:column;}.secondary{font-size:0.8rem;line-height:1.7;display:flex;gap:0.25rem;}.secondary a{color:var(--ha-S300-contrast);}.date{margin:0.5rem 0;padding:0 1rem;}.icon-message{display:flex;align-items:center;}.no-entries{text-align:center;color:var(--ha-S300-contrast);width:100%;display:block;padding:0.5rem;}.message{color:var(--ha-S100-contrast);span{padding-right:0.15rem;}}.message span:first-of-type{&:first-letter{text-transform:capitalize;}}button.link{color:var(--ha-A100);text-decoration:none;background:0px 0px;border:none;padding:0px;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0px;margin-right:0.15rem;}"}),Fl=["script","automation"],Ll=e=>e.context_event_type||e.context_state||e.context_message,Wl=(e,r)=>r?e.replace(r," "):e,Hl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e124bvc20"})({name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"});function ql({entity:e,hideIndicator:r=!1,hideHeader:o=!1,options:n,className:a,cssStyles:s,id:c,style:i,...l}){const h=(0,index_js_.useLogs)(e,n),{useStore:p,getServices:f,joinHassUrl:v}=(0,index_js_.useHass)(),d=p(w=>w.entities),m=(0,index_js_eager_.useRef)(!1),[b,u]=(0,index_js_eager_.useState)(null),S=p(w=>w.config?.language),N=(0,index_js_.useDevice)(e);(0,index_js_eager_.useEffect)(()=>{m.current||(m.current=!0,f().then(w=>u(w)))},[b,f]);const g=(0,index_js_eager_.useCallback)(async w=>{w&&N&&N.device_id&&typeof window<"u"&&window.open(v(`config/devices/device/${N.device_id}`),"_blank")},[N,v]),_=(0,index_js_eager_.useCallback)(()=>{typeof window>"u"||window.open(v(`/logbook?entity_id=${e}`),"_blank")},[e,v]),x=(0,index_js_eager_.useCallback)((w,R)=>{const A=w&&w in d,$=R||A&&d[w].attributes.friendly_name||w;return A?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("button",{className:"link entity-name",onClick:()=>g(w),children:$}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"entity-name",children:$})},[d,g]),C=(0,index_js_eager_.useCallback)(w=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hourCycle:"h12"}).format(w),[]),E=(0,index_js_eager_.useCallback)((w,R,A)=>{if(-1!==w.indexOf(".")){const $=w.split(" ");for(let O=0,P=$.length;O<P;O++)if($[O]in d){const L1=$[O];if(R.includes(L1))return null;R.push(L1);const G=$.splice(O);return G.shift(),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"triggered-by-state",children:$.join(" ")}),x(L1,d[L1].attributes.friendly_name),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"message-suffix",children:G.join(" ")})]})}}if(A&&A in d){const $=d[A].attributes.friendly_name;if($&&w.endsWith($))return R.includes(A)?null:(R.push(A),w=w.substring(0,w.length-$.length),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"message-entity",children:w}),x(A,$)]}))}return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"message-entity",children:w})},[d,x]),T=(0,index_js_eager_.useCallback)(w=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:void 0}).format(w),[]),j=(0,index_js_eager_.useCallback)(w=>{const R={backgroundColor:w.state===index_js_.ON?"var(--ha-A400)":"var(--ha-S300-contrast)"};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"indicator",style:R})},[]),z=(0,index_js_eager_.useCallback)((w,R)=>!w.context_entity_id||R.includes(w.context_entity_id)?"":/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:["(",x(w.context_entity_id,w.context_entity_id_name),")"]}),[x]),D=(0,index_js_eager_.useCallback)((w,R)=>{if(w.context_state){const A=w.context_entity_id&&w.context_entity_id in d?(0,index_js_.createHistoricState)(d[w.context_entity_id],w.context_state):void 0;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"triggered-by",children:(0,index_js_.localize)("triggered_by_state_of")}),x(w.context_entity_id,w.context_entity_id_name),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:A?(0,index_js_.localizeStateMessage)(w.context_state,A,(0,index_js_.computeDomain)(w.context_entity_id)):w.context_state})]})}if("call_service"===w.context_event_type)return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"triggered-by",children:(0,index_js_.localize)("triggered_by_action")}),w.context_domain&&w.context_service?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{className:"service-trigger-details",children:[w.context_domain,":"," ",b&&b[w.context_domain]?.[w.context_service]?.name||w.context_service]}):null]});if(!w.context_message||R.includes(w.context_entity_id))return null;if("automation_triggered"===w.context_event_type||"script_started"===w.context_event_type){const A=w.context_source?w.context_source:w.context_message.replace("triggered by ",""),$=(0,index_js_.localizeTriggerSource)(A);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"triggered-by",children:(0,index_js_.localize)("automation_triggered"===w.context_event_type?"triggered_by_automation":"triggered_by_script")}),x(w.context_entity_id,w.context_entity_id_name),w.context_message?E($,R,void 0):null]})}return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"triggered-by",children:(0,index_js_.localize)("triggered_by")}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"trigger-name",children:w.context_name}),E(w.context_message,R,w.context_entity_id),z(w,R)]})},[E,x,z,d,b]),I=(0,index_js_eager_.useCallback)((w,R,A,$)=>{if(w.entity_id&&w.state)return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"message-state",children:$?(0,index_js_.localizeStateMessage)(w.state,$,A):w.state});const O=Ll(w);let P=w.message;if(Fl.includes(A)&&w.source){if(O)return null;P=w.source}return P?E(O?Wl(P,w.context_entity_id):P,R,void 0):null},[E]),V=(0,index_js_eager_.useCallback)((w,R)=>{if(!w||void 0===R)return null;const A=h[R-1],$=[],O=w.entity_id?d[w.entity_id]:void 0,P=O?(0,index_js_.createHistoricState)(O,w.state):void 0,L1=w.entity_id?(0,index_js_.computeDomain)(w.entity_id):w.domain,G=new Date(1e3*w.when),W=(0,index_js_.timeAgo)(G,S);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"entry-container",children:[0===R||w?.when&&A?.when&&new Date(1e3*w.when).toDateString()!==new Date(1e3*A.when).toDateString()?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("h4",{className:"date",children:T(new Date(1e3*w.when))}):null,/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:`entry ${w.entity_id?"":"no-entity"}`,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"icon-message",children:[r?"":j(w),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"message-relative_time",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"message",children:[I(w,$,L1,P),D(w,$)]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"secondary",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:C(new Date(1e3*w.when))}),"-",/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"relative-time",children:W})]})]})]})})]},R)},[D,j,I,d,T,C,h,r,S]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Bl,{id:c??"",css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(s??"",";"),className:`logbook-renderer ${a??""}`,style:{...i??{}},...l,children:h.length?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Hl,{children:[!o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{fullWidth:!0,justifyContent:"space-between",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("h3",{children:(0,index_js_.localize)("logbook")}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("button",{className:"link",onClick:_,children:(0,index_js_.localize)("show_more")})]}),h.map((w,R)=>V(w,R))]}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{className:"no-entries",children:(0,index_js_.localize)("no_logbook_events_found")})})}function Yl(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"LogBookRenderer"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ql,{...e})})}const Ul=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"epo8zwv6"})("position:absolute;z-index:1;top:2rem;left:50%;display:flex;width:var(--ha-modal-width);margin-left:calc(var(--ha-modal-width) / -2);color:var(--ha-S50-contrast);max-height:calc(100% - 4rem);overflow:hidden;display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;background-color:var(--ha-S200);z-index:var(--ha-modal-z-index);box-shadow:0px 0px 10px hsla(var(--ha-h), calc(var(--ha-50-s) * 0.8), 3%, 0.6);",(0,breakpoints.mq)(["xxs","xs"],`
    max-width: 95vw;
    margin-left: calc(95vw / -2);
  `),";"),Gl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"epo8zwv5"})({name:"mxrytp",styles:"display:flex;padding:0rem 1rem 2rem;align-items:flex-start;flex-direction:column"}),Ql=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"epo8zwv4"})({name:"1myx6oy",styles:"overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;margin-top:5rem;justify-content:flex-start;align-items:stretch;width:100%"}),Xl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"epo8zwv3"})({name:"uk2h7t",styles:"display:flex;align-items:center;justify-content:space-between;padding:1rem;flex-wrap:nowrap;position:absolute;top:0;left:0;right:0"}),Kl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("h4",{target:"epo8zwv2"})({name:"v9z3ep",styles:"margin:0;font-size:1.5rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;>span{margin:0;font-size:0.9rem;color:var(--ha-S500-contrast);display:flex;}"}),Jl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("h4",{target:"epo8zwv1"})({name:"1klwqgm",styles:"margin:0;font-size:0.9rem;color:var(--ha-S500-contrast)"}),Zl=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(proxy.E.div,{target:"epo8zwv0"})({name:"1kksyq1",styles:"position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;background:hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.3);z-index:var(--ha-modal-z-index);backdrop-filter:blur(2em) brightness(0.75)"}),ed=(e,r)=>{const o={type:"spring",damping:10,mass:.75,stiffness:100,duration:e},n={duration:e,ease:[.42,0,.58,1]};return{modal:{layoutId:r,variants:{initial:{y:"100%",opacity:0,scaleY:0},animate:{y:0,opacity:1,scaleY:1,transition:o},exit:{y:"100%",scaleY:0,opacity:0,transition:n}}},header:{variants:{initial:{y:"-10%",opacity:0,scale:0},animate:{y:0,opacity:1,scale:1,transition:n},exit:{y:"10%",opacity:0,scale:.9,transition:n}}},content:{}}};function td({open:e,id:r,title:o,description:n,children:a,onClose:s,backdropProps:c,style:i,className:l,cssStyles:h,headerActions:p,modalAnimation:f,animationDuration:v=.25,autocloseSeconds:d,...m}){const b=(0,index_js_eager_.useId)(),u=r??b,{useStore:S}=(0,index_js_.useHass)(),N=(0,ModalProvider.aE)(),g=S(L1=>L1.globalComponentStyles),x=S(L1=>L1.windowContext)??window,C=S(L1=>L1.portalRoot),[E,T]=(0,index_js_eager_.useState)(!1),[j]=useKeyPress(L1=>"Escape"===L1.key),z=N.animationDuration??v,D=N.modalAnimation??f,I=void 0!==D,V=D??ed,w=(0,index_js_eager_.useRef)(null),R=(0,index_js_eager_.useCallback)(()=>{w.current&&clearTimeout(w.current),s&&e&&s()},[e,s]);(0,index_js_eager_.useEffect)(()=>{const L1=()=>{w.current&&clearTimeout(w.current)};if(L1(),d&&e)return w.current=setTimeout(R,1e3*d),L1},[e,d,R]),(0,index_js_eager_.useEffect)(()=>{j&&R()},[j,R,e]);const A=(0,index_js_eager_.useCallback)(()=>{e&&T(!0)},[e]),{modal:$={},content:O={},header:P={}}=V(z,u);return(0,react_dom_index_js_eager_.createPortal)(/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(AnimatePresence,{initial:!1,mode:"wait",onExitComplete:()=>{T(!1)},children:e&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(index_js_eager_.Fragment,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Zl,{className:"modal-backdrop",id:`${u}-backdrop`,initial:{opacity:0},transition:{duration:z},animate:{opacity:1},exit:{opacity:0},onClick:()=>{e&&E&&s()},...c},`${u}-backdrop`),/* @__PURE__ */(0,emotion_react_browser_esm_js_.createElement)(Ul,{...m,style:{borderRadius:"16px",...i},css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(g.modal??""," ",h??"",";"),initial:"initial",animate:"animate",exit:"exit",onAnimationStart:()=>{A()},...$,key:`${u}-container`,className:`modal-container ${l??""}`},/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Xl,{className:"modal-header",initial:"initial",animate:"animate",exit:"exit",...P,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",className:"modal-column",style:{flexShrink:1,maxWidth:"70%"},children:[o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Kl,{className:"modal-title",children:o}),n&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Jl,{className:"modal-description",children:n})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{gap:"0.5rem",wrap:"nowrap",style:{flexShrink:0},children:[p&&p(),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{onClick:()=>{R()},className:"modal-close-button",tooltipPlacement:"left",title:(0,index_js_.localize)("close"),icon:"mdi:close",disableRipples:!0,disableScale:!0})]})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ql,{className:"modal-overflow",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Gl,{animate:E||I?"animate":"initial",exit:"exit",...O,className:"modal-inner",style:{transformOrigin:"top"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(AnimatePresence,{children:(E||I)&&a})})}))]},`${u}-fragment`)}),C??x.document.body)}const ThemeControlsModal_DWBaJmrH_rn=(0,index_js_eager_.memo)(function(r){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"Modal"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(td,{...r})})}),rd=e=>(0,lodash.snakeCase)(e.substr(0,e.indexOf(".")));const nd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ej2a6e63"})({name:"1xfvk1j",styles:"height:30px;width:1px;background-color:var(--ha-S400)"}),od=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ej2a6e62"})({name:"1m3iohm",styles:"font-weight:400;font-size:36px;line-height:44px;user-select:none;&:first-letter{text-transform:capitalize;}"}),ad=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ej2a6e61"})({name:"e8crij",styles:"font-style:normal;font-weight:500;font-size:16px;line-height:24px;letter-spacing:0.1px;padding:4px 0px;margin-bottom:20px;user-select:none;-webkit-tap-highlight-color:transparent;margin-bottom:2rem"}),ThemeControlsModal_DWBaJmrH_id=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(iconify.JO,{target:"ej2a6e60"})({name:"a07gmx",styles:"font-size:2rem"});function sd(e){return({cover:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,7848)),alarm_control_panel:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5774)),camera:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,2412)),light:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,8528)),media_player:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9844)),person:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,7569)),switch:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3060)),vacuum:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,8486)),weather:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,1221)),climate:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,822))})[e]??null}function Mo({entity:e,hideState:r,hideUpdated:o,hideAttributes:n,headerActionsPosition:a="start",headerActions:s,hideLogbook:c=!1,hideDefaultLayout:i=!1,children:l,...h}){const{joinHassUrl:p}=(0,index_js_.useHass)(),[f,v]=(0,index_js_eager_.useState)(!1),d=(0,index_js_.useEntity)(e),m=(0,index_js_.useDevice)(e),b=(0,index_js_eager_.useCallback)(()=>{typeof window>"u"||m&&m.device_id&&window.open(p(`config/devices/device/${m.device_id}`),"_blank")},[m,p]),[u,S]=(0,index_js_eager_.useMemo)(()=>{const{open:T,id:j,title:z,description:D,onClose:I,backdropProps:V,stateTitle:w,...R}=h;return[{open:T,id:j,title:z,description:D,onClose:I,backdropProps:V,stateTitle:w},R]},[h]),N=rd(e),g=(0,index_js_eager_.useCallback)(T=>{C.current&&(C.current.innerText=T)},[]),_=(0,index_js_eager_.useMemo)(()=>{const T=sd(N);return T?(0,index_js_eager_.lazy)(T):null},[N]),x=(0,index_js_eager_.useMemo)(()=>{if(!_||i)return null;const T=/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{fullWidth:!0,fullHeight:!0,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH_id,{icon:"eos-icons:three-dots-loading",className:"preloader-loading-icon"})});return"person"===N?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(index_js_eager_.Suspense,{fallback:T,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(_,{entity:e,mapHeight:u.open?300:0,...S})}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(index_js_eager_.Suspense,{fallback:T,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(_,{entity:e,onStateChange:g,...S,entity:e})})},[e,i,_,S,g,N,u.open]),C=(0,index_js_eager_.useRef)(null),E=(0,index_js_eager_.useMemo)(()=>u.stateTitle??(0,lodash.startCase)((0,lodash.lowerCase)(`${d.state}${d.attributes.unit_of_measurement??""}`)),[d,u.stateTitle]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH_rn,{...u,headerActions:()=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[!c&&f&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{title:(0,index_js_.localize)("device"),tooltipPlacement:"left",icon:"mdi:arrow-back",size:30,onClick:()=>v(!1)}),"start"===a&&s&&s(),!c&&!f&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{title:(0,index_js_.localize)("logbook"),tooltipPlacement:"left",icon:"mdi:graph-box",size:30,onClick:()=>v(!0)}),"middle"===a&&s&&s(),m&&m.device_id&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{title:(0,index_js_.localize)("open_device_settings"),tooltipPlacement:"left",icon:"mdi:cog",size:30,onClick:b}),"end"===a&&s&&s(),(!c||m&&m.device_id)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(nd,{})]}),children:f?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Yl,{entity:e})}):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[(!o||!r)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{fullWidth:!0,children:[!r&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(od,{className:"state",ref:C,children:E}),!o&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ad,{className:"last-updated",children:d.custom.relativeTime})]}),l??null,x,!n&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(qu,{entity:e})]})})}const cd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ec44kzx3"})({name:"19ja2ow",styles:"height:100%;max-height:45vh;min-height:300px;margin-bottom:2rem;position:relative"}),Wn=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Column.s,{target:"ec44kzx2"})({name:"16ht9uo",styles:"font-size:0.8rem"}),ld=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"ec44kzx1"})({name:"1dvcxr3",styles:"padding:1rem"}),dd=(0,emotion_react_browser_esm_js_.keyframes)`
  from {
    transform:rotate(0deg);
  }
  to {
    transform:rotate(360deg);
  }
`,ud=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(ve,{target:"ec44kzx0"})("animation-name:",dd,";animation-duration:",e=>{const r=(e.speed||"").toLowerCase().trim(),o=r.includes("silent"),n=r.includes("standard"),a=r.includes("medium"),s=r.includes("turbo");return o?"4s":n?"2.5s":a?"1.8s":s?"0.7s":"2s"},";animation-iteration-count:infinite;animation-timing-function:linear;");function pd({entity:e,shortcuts:r,onLocate:o,hideToolbar:n=!1,buttonGroupProps:a,...s}){const c=(0,index_js_.useEntity)(e),i=Ut();if(n)return null;const l=shared_n({entity:c,shortcuts:r,onLocate:o});return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{gap:"0.5rem",...s,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pt,{wrap:"nowrap",alignItems:"center",justifyContent:"center",orientation:"horizontal",thickness:(i.xxs,80),maintainAspectRatio:!0,...a,children:l.map((h,p)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ze,{iconProps:{color:h?.active?"var(--ha-300)":void 0},rippleProps:{preventPropagation:!0},onClick:(f,v)=>h?.onClick?.(c,v),...h},p))})})}function Oh({entity:e,hideCurrentBatteryLevel:r=!1,hideFanModes:o=!1,hideToolbar:n=!1,customImage:a,shortcuts:s,buttonGroupProps:c,...i}){const l=(0,index_js_.useEntity)(e),h="docked"===l.state,{battery_level:p,fan_speed:f,fan_speed_list:v}=l.attributes||{},[d,m]=(0,index_js_eager_.useState)(f);useDebounce(()=>{"string"==typeof d&&l.service.setFanSpeed({serviceData:{fan_speed:d}})},200,[d]);const b=v??[],u=!o&&!h&&b.length>0,S=!r&&"number"==typeof p;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Column.s,{fullHeight:!0,fullWidth:!0,wrap:"nowrap",...i,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(cd,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{gap:"0.5rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(VacuumImage_C,{src:a,className:l.state}),(S||u)&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{style:{padding:"1rem 0"},children:[u&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Wn,{gap:"0.5rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ud,{size:40,disabled:h,title:d,speed:h?void 0:d,active:!h,icon:"mdi:fan",onClick:()=>{const N=b.findIndex(_=>_.toLowerCase()===(d??"").toLowerCase()),g=b[N+1]?b[N+1]:b[0];m(g),l.service.setFanSpeed({serviceData:{fan_speed:g}})}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{children:(0,index_js_.localize)("fan_speed")}),d]}),S&&u&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ld,{})}),S&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Wn,{gap:"0.5rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{size:40,disabled:h,title:`${p}%`,icon:(0,index_js_.batteryIconByLevel)(p)}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{children:(0,index_js_.localize)("battery_level")}),`${p}%`]})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(pd,{entity:e,hideToolbar:n,shortcuts:s,buttonGroupProps:c})]})})})}const hd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"exkg1b33"})(e=>{const r=[70,70,70];let o=`rgb(${r.join(", ")})`;return e.disabled||("string"==typeof e.sliderColor?o=e.sliderColor:o=`rgb(${(e.sliderColor||r).join(",")})`),`
      
      touch-action: none;
      --ha-slider-control-thickness: ${e.thickness||40}px;
      --ha-slider-control-border-radius: ${e.borderRadius||10}px;
      --ha-slider-control-handle-size: 4px;
      --ha-slider-control-handle-margin: calc(var(--ha-slider-control-thickness) / 8);
      --ha-slider-control-slider-size: ${e.showHandle?"calc(100% - 2 * var(--ha-slider-control-handle-margin) - var(--ha-slider-control-handle-size))":"100%"};
      
      border-radius: var(--ha-slider-control-border-radius);
      outline: 0px;
      &:focus-visible {
        box-shadow: 0 0 0 2px ${o};
      }
      &:not([vertical]) {
        width: 100%;
        height: var(--ha-slider-control-thickness);
        max-width: 420px;
        min-width: 320px;
      }
      &[vertical] {
        width: var(--ha-slider-control-thickness);
        height: 45vh;
        max-height: 320px;
        min-height: 200px;
        ${(0,breakpoints.mq)(["xxs"],`
          min-height: 0;
          height: 35vh;
          max-height: 100%;
        `)}
      }
      .slider {
        position: relative;
        height: 100%;
        width: 100%;
        border-radius: var(--ha-slider-control-border-radius);
        transform: translateZ(0px);
        overflow: hidden;
        cursor: pointer;
      }
      .slider * {
        pointer-events: none;
      }
      .slider-track-background {
        position: absolute;
        top: 0px;
        left: 0px;
        height: 100%;
        width: 100%;
        background: ${o};
        opacity: 0.2;
      }
      .slider-track-bar {
        position: absolute;
        height: 100%;
        width: 100%;
        background-color: ${o};
        transition: transform 180ms ease-in-out, background-color 180ms ease-in-out;                
        &:after {
          display: ${e.showHandle?"block":"none"};
          content: "";
          position: absolute;
          margin: auto;
          border-radius: var(--ha-slider-control-handle-size);
          background-color: white;
        }
      }
      .slider-track-cursor {
        position: absolute;
        background-color: ${o};
        border-radius: var(--ha-slider-control-handle-size);
        transition:
          left 180ms ease-in-out,
          bottom 180ms ease-in-out;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }
      &.horizontal {
        .slider-track-bar {
          top: 0;
          left: 0;
          transform: translate3d(
            calc((var(--value, 0) - 1) * var(--ha-slider-control-slider-size)),
            0,
            0
          );
          border-radius: 0 var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius) 0;
          &:after {
            top: 0;
            bottom: 0;
            right: var(--ha-slider-control-handle-margin);
            height: 50%;
            width: var(--ha-slider-control-handle-size);
          }
          &.end {
            right: 0;
            left: initial;
            transform: translate3d(
              calc(var(--value, 0) * var(--ha-slider-control-slider-size)),
              0,
              0
            );
            border-radius: var(--ha-slider-control-border-radius) 0 0 var(--ha-slider-control-border-radius);
            &:after {
              right: initial;
              left: var(--ha-slider-control-handle-margin);
            }
          }
        }
        .slider-track-cursor {
          top: 0;
          bottom: 0;
          left: calc(var(--value, 0) * (100% - calc(var(--ha-slider-control-thickness) / 4)));
          width: calc(var(--ha-slider-control-thickness) / 4);
          right: 0;
          height: calc(var(--ha-slider-control-thickness) / 4)
          &:after {
            height: 50%;
            width: var(--ha-slider-control-handle-size);
          }
        }
      }
      &.vertical {
        .slider-track-bar {
          bottom: 0;
          left: 0;
          transform: translate3d(
            0,
            calc((1 - var(--value, 0)) * var(--ha-slider-control-slider-size)),
            0
          );
          border-radius: var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius) 0 0;
          &:after {
            top: var(--ha-slider-control-handle-margin);
            right: 0;
            left: 0;
            bottom: initial;
            width: 50%;
            height: var(--ha-slider-control-handle-size);
          }
          &.end {
            top: 0;
            bottom: initial;
            transform: translate3d(
              0,
              calc((0 - var(--value, 0)) * var(--ha-slider-control-slider-size)),
              0
            );
            border-radius: 0 0 var(--ha-slider-control-border-radius) var(--ha-slider-control-border-radius);
            &:after {
              top: initial;
              bottom: var(--ha-slider-control-handle-margin);
            }
          }
        }
        .slider-track-cursor {
          top: initial;
          right: 0;
          left: 0;
          bottom: calc(var(--value, 0) * (100% - calc(var(--ha-slider-control-thickness) / 4)));
          height: calc(var(--ha-slider-control-thickness) / 4);
          width: 100%;
          &:after {
            width: 50%;
            height: var(--ha-slider-control-handle-size);
          }
        }
      }
      &[dragging] .slider-track-bar,
      &[dragging] .slider-track-cursor {
        transition: none;
      }
      &.disabled {
        cursor: not-allowed;
        > * {
          cursor: not-allowed;
        }
      }
    `},";"),fd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"exkg1b32"})(),md=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"exkg1b31"})(),gd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"exkg1b30"})();function vd({vertical:e=!0,disabled:r=!1,showHandle:o=!0,min:n=0,max:a=100,step:s=1,value:c,mode:i="start",thickness:l,borderRadius:h,sliderColor:p=[70,70,70],onChangeApplied:f,onChange:v,cssStyles:d,className:m,...b}){const u=(0,index_js_eager_.useRef)(null),S=(0,index_js_eager_.useRef)(null),N=(0,index_js_eager_.useRef)(null),g=(0,index_js_eager_.useRef)(c),_=(0,index_js_eager_.useRef)(void 0),x=(0,index_js_eager_.useCallback)(w=>Math.min(Math.max(w,n),a),[n,a]),C=(0,index_js_eager_.useCallback)(w=>(x(w)-n)/(a-n),[n,a,x]),E=(0,index_js_eager_.useCallback)(w=>(a-n)*w+n,[n,a]),T=(0,index_js_eager_.useCallback)(w=>Math.round(w/s)*s,[s]),j=(0,index_js_eager_.useCallback)(w=>{_.current&&clearTimeout(_.current),w===c||"function"!=typeof f||(_.current=setTimeout(()=>{f(w)},100))},[f,c]),z=(0,index_js_eager_.useCallback)((w,R)=>{const[A,$]=w;if(e){const L1=R.getBoundingClientRect().top,G=R.clientHeight;return Math.max(Math.min(1,1-($-L1)/G),0)}const O=R.getBoundingClientRect().left,P=R.clientWidth;return Math.max(Math.min(1,(A-O)/P),0)},[e]),D=(0,index_js_eager_.useCallback)(w=>{u.current&&(g.current=w,u.current.style.setProperty("--value",r?"start"===i?`${n}`:"end"===i?`${a}`:"0":`${C(w)}`))},[C,r,n,a,i]);(0,index_js_eager_.useEffect)(()=>{D(c)},[c,D]),(0,index_js_eager_.useEffect)(()=>{N.current&&(e?N.current.setAttribute("vertical",""):N.current.removeAttribute("vertical"))},[e]);const I=function(w){N.current&&(w?N.current.setAttribute("dragging",""):N.current.removeAttribute("dragging"))},V=use_gesture_react_esm_useGesture({onDrag:w=>{if(r)return;const R=z(w.values,w.target);I(!0===w.dragging),D(E(R)),"function"==typeof v&&v(g.current)},onDragStart:()=>{r||(I(!0),D(g.current))},onDragEnd:w=>{if(r)return;I(!1);const R=z(w.values,w.target);D(T(E(R))),j(g.current)},onClick:w=>{if(r)return;const R=w.event.clientX,A=w.event.clientY,$=z([R,A],w.event.target);D(T(E($))),j(g.current)}},{drag:{filterTaps:!0}});return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(hd,{ref:N,className:`${m??""} slider-host ${r?"disabled":""} ${e?"vertical":"horizontal"}`,css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(d??"",";"),showHandle:o&&!r,sliderColor:p,vertical:e,thickness:l,borderRadius:h,disabled:r,...V(),...b,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(fd,{ref:S,className:"slider",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(md,{className:"slider-track-background"}),"cursor"===i?null!=g.current?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("div",{className:"slider-track-cursor",ref:u}):null:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(gd,{className:`slider-track-bar ${i}`,ref:u})]})})}function Pr(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ControlSlider"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(vd,{...e})})}const yd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ermlq5d2"})({name:"4i4k5",styles:'display:block;--ha-control-switch-on-color:var(--ha-A400);--ha-control-switch-off-color:rgb(70, 70, 70);--ha-control-switch-background-opacity:0.2;--ha-control-switch-thickness:100px;--ha-control-switch-border-radius:12px;--ha-control-switch-padding:4px;--mdc-icon-size:20px;box-sizing:border-box;user-select:none;cursor:pointer;border-radius:var(--ha-control-switch-border-radius);outline:none;transition:box-shadow 180ms ease-in-out;-webkit-tap-highlight-color:transparent;&:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-off-color);}&[checked="true"]:focus-visible{box-shadow:0 0 0 2px var(--ha-control-switch-on-color);}.switch{box-sizing:border-box;position:relative;height:100%;width:100%;border-radius:var(--ha-control-switch-border-radius);overflow:hidden;padding:var(--ha-control-switch-padding);display:flex;}.switch .background{position:absolute;top:0;left:0;height:100%;width:100%;background-color:var(--ha-control-switch-off-color);transition:background-color 180ms ease-in-out;opacity:var(--ha-control-switch-background-opacity);}.switch .button{width:50%;height:100%;background:lightgrey;border-radius:calc(var(--ha-control-switch-border-radius) - var(--ha-control-switch-padding));transition:transform 180ms ease-in-out,background-color 180ms ease-in-out;background-color:var(--ha-control-switch-off-color);color:white;display:flex;align-items:center;justify-content:center;}&[checked="true"] .switch .background{background-color:var(--ha-control-switch-on-color);}&[checked="true"] .switch .button{transform:translateX(100%);background-color:var(--ha-control-switch-on-color);}&[reversed="true"] .switch{flex-direction:row-reverse;}&[reversed="true"][checked="true"] .switch .button{transform:translateX(-100%);}&[vertical="false"]{height:var(--ha-control-switch-thickness);max-width:420px;min-width:320px;}&[vertical="true"]{width:var(--ha-control-switch-thickness);height:45vh;max-height:320px;min-height:200px;}&[vertical="true"][checked="true"] .switch .button{transform:translateY(100%);}&[vertical="true"] .switch .button{width:100%;height:50%;}&[vertical="true"][reversed="true"] .switch{flex-direction:column-reverse;}&[vertical="true"][reversed="true"][checked="true"] .switch .button{transform:translateY(-100%);}&[disabled="true"]{opacity:0.5;cursor:not-allowed;}'}),xd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ermlq5d1"})(),wd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"ermlq5d0"})(),Nd=({disabled:e=!1,vertical:r=!0,reversed:o=!1,thickness:n=100,checked:a=!1,onIcon:s,offIcon:c,onChange:i,className:l,cssStyles:h,id:p,style:f,color:v,...d})=>{const[m,b]=(0,index_js_eager_.useState)(a),u=(0,index_js_eager_.useRef)(null),S=(0,index_js_.useIcon)("string"==typeof s?s:"mdi:power"),N=(0,index_js_.useIcon)("string"==typeof c?c:"mdi:power-off"),g=(0,index_js_eager_.useCallback)(()=>{e||(b(!m),i&&i(!m))},[e,m,i]);return(0,index_js_eager_.useEffect)(()=>{u.current&&(u.current.setAttribute("role","switch"),u.current.hasAttribute("tabindex")||u.current.setAttribute("tabindex","0"))},[]),(0,index_js_eager_.useEffect)(()=>{u.current&&u.current.setAttribute("aria-checked",m?"true":"false")},[m]),(0,index_js_eager_.useEffect)(()=>{b(a)},[a]),(0,index_js_eager_.useEffect)(()=>{u.current&&(u.current.style.setProperty("--ha-control-switch-thickness",`${n}px`),u.current.setAttribute("vertical",r?"true":"false"),u.current.setAttribute("reversed",o?"true":"false"),u.current.setAttribute("disabled",e?"true":"false"),u.current.setAttribute("checked",m?"true":"false"),u.current.style.setProperty("--ha-control-switch-on-color",v??"var(--ha-A400)"))},[m,r,e,o,n,v]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(yd,{ref:u,onClick:g,id:p??"",css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(h??"",";"),className:`control-switch ${l??""}`,style:{...f??{}},...d,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:"switch",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(xd,{className:`${m?"checked":""} background`}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(wd,{"aria-hidden":"true",className:"button",children:m?S:N})]})})};function Rh(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ControlToggle"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Nd,{...e})})}const Sd=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1xk40gk0"})({name:"1j3utj8",styles:'--ha-control-slider-track-bg:#464646;--ha-control-slider-track-bg-opacity:0.3;--ha-control-slider-clear:black;touch-action:none;width:320px;display:block;&:after{display:block;content:"";position:absolute;top:-10%;left:-10%;right:-10%;bottom:-10%;background:radial-gradient(50% 50% at 50% 50%, var(--ha-control-slider-color, transparent) 0%, transparent 100%);opacity:0.15;pointer-events:none;}svg{width:100%;display:block;}.slider{outline:none;}.interaction{display:flex;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:calc(24px + 2 * 12px);cursor:pointer;}.display{pointer-events:none;}:host([disabled]) #interaction,:host([readonly]) #interaction{cursor:initial;}.background{fill:none;stroke:var(--ha-control-slider-track-bg);opacity:var(--ha-control-slider-track-bg-opacity);transition:stroke 180ms ease-in-out,opacity 180ms ease-in-out;stroke-linecap:round;stroke-width:24px;}.arc{fill:none;stroke-linecap:round;stroke-width:24px;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target{fill:none;stroke-linecap:round;stroke-width:18px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.target-border{fill:none;stroke-linecap:round;stroke-width:24px;stroke:white;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.current{fill:none;stroke-linecap:round;stroke-width:8px;stroke:var(--ha-500-contrast);opacity:0.5;transition:stroke-width 300ms ease-in-out,stroke-dasharray 300ms ease-in-out,stroke-dashoffset 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.arc-current{stroke:var(--ha-control-slider-clear);}.arc-clear{stroke:var(--ha-control-slider-clear);}.arc-colored{opacity:0.5;}.arc-active{outline:none;}.arc-active:focus-visible{stroke-width:28px;}.pressed .arc,.pressed .target,.pressed .target-border,.pressed .current{transition:stroke-width 300ms ease-in-out,stroke 180ms ease-in-out,opacity 180ms ease-in-out;}.inactive .arc,.inactive .arc-current{opacity:0;}.value{stroke:var(--ha-control-slider-color);}.low{stroke:var(--ha-control-slider-low-color);}.high{stroke:var(--ha-control-slider-high-color);}'}),yt=270,Hn=360-yt/2-90,Ir=145;function kd(e,r){const o=Math.sqrt(e*e+r*r),n=Math.atan2(r,e);return[o,n]}function _d(e){return e/(2*Math.PI)*360}function Cd({step:e=1,inactive:r,label:o,readonly:n=!1,value:a,low:s,high:c,min:i=0,max:l=100,dual:h,disabled:p=!1,mode:f,current:v,colors:d={color:"tomato",lowColor:"blue",highColor:"tomato"},onChange:m,onChangeApplied:b,...u}){const S=(0,index_js_eager_.useRef)(null),N=(0,index_js_eager_.useRef)(null),g=(0,index_js_eager_.useRef)(void 0),_=(0,index_js_eager_.useRef)(void 0),[x,C]=(0,index_js_eager_.useState)(a),[E,T]=(0,index_js_eager_.useState)(s),[j,z]=(0,index_js_eager_.useState)(c),D=(0,index_js_eager_.useMemo)(()=>svg_arc_u({x:0,y:0,start:0,end:yt,r:Ir}),[]),I=h?E:x,V=j;(0,index_js_eager_.useEffect)(()=>{(0,lodash.isNumber)(a)&&C(a),(0,lodash.isNumber)(s)&&T(s),(0,lodash.isNumber)(c)&&T(c)},[a,s,c]);const w=(0,index_js_eager_.useCallback)(B=>{switch(g.current){case"high":z(B);break;case"low":T(B);break;case"value":C(B);break}},[]);(0,index_js_eager_.useEffect)(()=>{S.current&&(d.color&&S.current.style.setProperty("--ha-control-slider-color",d.color),d.lowColor&&S.current.style.setProperty("--ha-control-slider-low-color",d.lowColor),d.highColor&&S.current.style.setProperty("--ha-control-slider-high-color",d.highColor))},[d]);const R=(0,index_js_eager_.useCallback)(B=>((0,lodash.clamp)(B,i,l)-i)/(l-i),[l,i]),A=(0,index_js_eager_.useCallback)(B=>(l-i)*B+i,[l,i]),$=(0,index_js_eager_.useCallback)(B=>Math.round(B/e)*e,[e]),O=(0,index_js_eager_.useCallback)((B,H)=>{const re=R(B),se=R(H),ie=2*Ir*Math.PI*yt/360,me=Math.max((se-re)*ie,0),he=re*ie-.5,fe=`${me} ${ie-me}`,ye=`-${he}`;return[fe,ye]},[R]),P=(0,index_js_eager_.useCallback)(B=>O(B,B),[O]),L1=v?P(v):void 0,G=(0,index_js_eager_.useCallback)(B=>{const H="high"===g.current?Math.min(E??l):i,re="low"===g.current?Math.max(j??i):l;return Math.min(Math.max(B,H),re)},[E,l,i,j]),W=(0,index_js_eager_.useCallback)((B,H,re)=>{if(p)return null;const se=svg_arc_u({x:0,y:0,start:0,end:yt,r:Ir}),ie="end"===re?l:i,me=v??ie,he=H??ie,fe="end"===re?he<=me:"start"===re?me<=he:!1,ye=null!=H,Ie=ye?fe?"end"===re?O(he,me):O(me,he):P(he):void 0,Se="full"===re?O(i,l):"end"===re?O(he,ie):O(ie,he),xe=ye?P(he):void 0,Ae=null!=v&&v<=l&&v>=i&&(fe||"full"===re)?P(v):void 0;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("g",{className:`${r?"inactive":""}`,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{className:"arc arc-clear",d:se,strokeDasharray:Se[0],strokeDashoffset:Se[1]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{className:`arc arc-colored ${B}`,d:se,strokeDasharray:Se[0],strokeDashoffset:Se[1]}),Ie?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{d:se,className:`arc arc-active ${B}`,strokeDasharray:Ie[0],strokeDashoffset:Ie[1],role:"slider",tabIndex:0,"aria-valuemin":i,"aria-valuemax":l,"aria-valuenow":null!=x?$(x):void 0,"aria-disabled":p,"aria-readonly":n,"aria-label":o}):null,Ae?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{className:"current arc-current",d:se,strokeDasharray:Ae[0],strokeDashoffset:Ae[1]}):null,xe?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{className:`target-border ${B}`,d:se,strokeDasharray:xe[0],strokeDashoffset:xe[1]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{className:"target",d:se,strokeDasharray:xe[0],strokeDashoffset:xe[1]})]}):null]})},[$,P,O,v,p,r,o,x,l,i,n]),Z=(0,index_js_eager_.useCallback)(B=>{if(!S.current)return 0;const H=S.current.getBoundingClientRect(),re=2*(B[0]-H.left-H.width/2)/H.width,se=2*(B[1]-H.top-H.height/2)/H.height,[,ie]=kd(re,se),me=(360-yt)/2,he=(_d(ie)+me-Hn+360)%360-me;return Math.max(Math.min(he/yt,1),0)},[]),X=(0,index_js_eager_.useCallback)(B=>{if(!h)return"value";const H=Math.max(E??i,i),re=Math.min(j??l,l);if(H>=B)return"low";if(re<=B)return"high";const se=Math.abs(B-H),ie=Math.abs(B-re);return se<=ie?"low":"high"},[h,j,E,l,i]),le=(0,index_module.y1)((B,H)=>{"function"==typeof b&&b(B,H)},100,{trailing:!0,leading:!0}),ge=(0,index_module.zl)((B,H)=>{"function"==typeof m&&m(B,H)},20,{trailing:!0,leading:!0}),U=use_gesture_react_esm_useGesture({onDrag:B=>{if(p||n)return;const{first:H,last:re}=B;if(!H&&!re){const se=B.values,[ie,me]=se,he=Z([ie,me]),fe=A(he),ye=G(fe);w(ye);const Ie=$(ye),Se=X(fe);ge(Ie,Se)}},onDragStart:B=>{if(p||n)return;const H=B.values,[re,se]=H,ie=Z([re,se]),me=A(ie);g.current=X(me),_.current=g.current,N.current&&N.current.focus()},onDragEnd:B=>{if(p)return;const H=B.values,[re,se]=H,ie=Z([re,se]),me=A(ie),he=G(me),fe=$(he);w(fe),g.current=X(me),ge(fe,g.current),le(fe,g.current),g.current=void 0},onPointerDown:B=>{if(B.event.stopPropagation(),B.event.preventDefault(),p||n)return;const H=Z([B.event.clientX,B.event.clientY]),re=A(H);g.current=X(re);const se=G(re),ie=$(se);w(se),ge(ie,g.current)},onPointerUp:B=>{if(p||n||(B.event.stopPropagation(),B.event.preventDefault(),p||n))return;const H=Z([B.event.clientX,B.event.clientY]),re=A(H);g.current=X(re);const se=G(re),ie=$(se);ge(ie,g.current),le(ie,g.current),g.current=void 0}},{drag:{filterTaps:!0}});return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Sd,{className:"control-slider-circular",ref:S,...U(),...u,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("svg",{ref:N,viewBox:"0 0 320 320",overflow:"visible",className:`slider ${g.current?"pressed":""}`,tabIndex:_.current?0:-1,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("g",{className:"container",transform:`translate(160 160) rotate(${Hn})`,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("g",{className:"interaction",children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{d:D})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("g",{className:"display",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{className:"background",d:D}),L1?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("path",{className:"current",d:D,strokeDasharray:L1[0],strokeDashoffset:L1[1]}):null,null!=I||"full"===f?W(h?"low":"value",I,!h&&f||"start"):null,h&&null!=V?W("high",V,"end"):null]})]})})})}function $t(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ControlSliderCircular"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Cd,{...e})})}function Er(){return typeof window<"u"}function At(e){return Po(e)?(e.nodeName||"").toLowerCase():"#document"}function Pe(e){var r;return(null==e||null==(r=e.ownerDocument)?void 0:r.defaultView)||window}function Xe(e){var r;return null==(r=(Po(e)?e.ownerDocument:e.document)||window.document)?void 0:r.documentElement}function Po(e){return Er()?e instanceof Node||e instanceof Pe(e).Node:!1}function ke(e){return Er()?e instanceof Element||e instanceof Pe(e).Element:!1}function Qe(e){return Er()?e instanceof HTMLElement||e instanceof Pe(e).HTMLElement:!1}function qn(e){return!Er()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pe(e).ShadowRoot}function Kt(e){const{overflow:r,overflowX:o,overflowY:n,display:a}=Fe(e);return/auto|scroll|overlay|hidden|clip/.test(r+n+o)&&!["inline","contents"].includes(a)}function Dd(e){return["table","td","th"].includes(At(e))}function Sr(e){return[":popover-open",":modal"].some(r=>{try{return e.matches(r)}catch{return!1}})}function ThemeControlsModal_DWBaJmrH_on(e){const r=ThemeControlsModal_DWBaJmrH_an(),o=ke(e)?Fe(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?"none"!==o[n]:!1)||(o.containerType?"normal"!==o.containerType:!1)||!r&&(o.backdropFilter?"none"!==o.backdropFilter:!1)||!r&&(o.filter?"none"!==o.filter:!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Od(e){let r=ot(e);for(;Qe(r)&&!Ct(r);){if(ThemeControlsModal_DWBaJmrH_on(r))return r;if(Sr(r))break;r=ot(r)}return null}function ThemeControlsModal_DWBaJmrH_an(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ct(e){return["html","body","#document"].includes(At(e))}function Fe(e){return Pe(e).getComputedStyle(e)}function kr(e){return ke(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ot(e){if("html"===At(e))return e;const r=e.assignedSlot||e.parentNode||qn(e)&&e.host||Xe(e);return qn(r)?r.host:r}function jo(e){const r=ot(e);return Ct(r)?e.ownerDocument?e.ownerDocument.body:e.body:Qe(r)&&Kt(r)?r:jo(r)}function jt(e,r,o){var n;void 0===r&&(r=[]),void 0===o&&(o=!0);const a=jo(e),s=a===(null==(n=e.ownerDocument)?void 0:n.body),c=Pe(a);if(s){const i=jr(c);return r.concat(c,c.visualViewport||[],Kt(a)?a:[],i&&o?jt(i):[])}return r.concat(a,jt(a,[],o))}function jr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Dt=Math.min,ut=Math.max,cr=Math.round,ThemeControlsModal_DWBaJmrH_ar=Math.floor,Ue=e=>({x:e,y:e});function Br(e,r,o){return ut(e,Dt(r,o))}function Ot(e,r){return"function"==typeof e?e(r):e}function Jt(e){return e.split("-")[0]}function ThemeControlsModal_DWBaJmrH_sn(e){return e.split("-")[1]}function ThemeControlsModal_DWBaJmrH_cn(e){return"x"===e?"y":"x"}function Bo(e){return"y"===e?"height":"width"}function Zt(e){return["top","bottom"].includes(Jt(e))?"y":"x"}function Fo(e){return ThemeControlsModal_DWBaJmrH_cn(Zt(e))}function Rd(e){return{top:0,right:0,bottom:0,left:0,...e}}function Lo(e){return"number"!=typeof e?Rd(e):{top:e,right:e,bottom:e,left:e}}function lr(e){const{x:r,y:o,width:n,height:a}=e;return{width:n,height:a,top:o,left:r,right:r+n,bottom:o+a,x:r,y:o}}function Yn(e,r,o){let{reference:n,floating:a}=e;const s=Zt(r),c=Fo(r),i=Bo(c),l=Jt(r),h="y"===s,p=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,v=n[i]/2-a[i]/2;let d;switch(l){case"top":d={x:p,y:n.y-a.height};break;case"bottom":d={x:p,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:f};break;case"left":d={x:n.x-a.width,y:f};break;default:d={x:n.x,y:n.y}}switch(ThemeControlsModal_DWBaJmrH_sn(r)){case"start":d[c]-=v*(o&&h?-1:1);break;case"end":d[c]+=v*(o&&h?-1:1);break}return d}const Id=async(e,r,o)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:c}=o,i=s.filter(Boolean),l=await (null==c.isRTL?void 0:c.isRTL(r));let h=await c.getElementRects({reference:e,floating:r,strategy:a}),{x:p,y:f}=Yn(h,n,l),v=n,d={},m=0;for(let b=0;b<i.length;b++){const{name:u,fn:S}=i[b],{x:N,y:g,data:_,reset:x}=await S({x:p,y:f,initialPlacement:n,placement:v,strategy:a,middlewareData:d,rects:h,platform:c,elements:{reference:e,floating:r}});p=N??p,f=g??f,d={...d,[u]:{...d[u],..._}},x&&m<=50&&(m++,"object"==typeof x&&(x.placement&&(v=x.placement),x.rects&&(h=!0===x.rects?await c.getElementRects({reference:e,floating:r,strategy:a}):x.rects),{x:p,y:f}=Yn(h,v,l)),b=-1)}return{x:p,y:f,placement:v,strategy:a,middlewareData:d}};async function Ad(e,r){var o;void 0===r&&(r={});const{x:n,y:a,platform:s,rects:c,elements:i,strategy:l}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:v=!1,padding:d=0}=Ot(r,e),m=Lo(d),u=i[v?"floating"===f?"reference":"floating":f],S=lr(await s.getClippingRect({element:null==(o=await (null==s.isElement?void 0:s.isElement(u)))||o?u:u.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(i.floating)),boundary:h,rootBoundary:p,strategy:l})),N="floating"===f?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,g=await (null==s.getOffsetParent?void 0:s.getOffsetParent(i.floating)),_=await (null==s.isElement?void 0:s.isElement(g))?await (null==s.getScale?void 0:s.getScale(g))||{x:1,y:1}:{x:1,y:1},x=lr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:N,offsetParent:g,strategy:l}):N);return{top:(S.top-x.top+m.top)/_.y,bottom:(x.bottom-S.bottom+m.bottom)/_.y,left:(S.left-x.left+m.left)/_.x,right:(x.right-S.right+m.right)/_.x}}const Td=e=>({name:"arrow",options:e,async fn(r){const{x:o,y:n,placement:a,rects:s,platform:c,elements:i,middlewareData:l}=r,{element:h,padding:p=0}=Ot(e,r)||{};if(null==h)return{};const f=Lo(p),v={x:o,y:n},d=Fo(a),m=Bo(d),b=await c.getDimensions(h),u="y"===d,S=u?"top":"left",N=u?"bottom":"right",g=u?"clientHeight":"clientWidth",_=s.reference[m]+s.reference[d]-v[d]-s.floating[m],x=v[d]-s.reference[d],C=await (null==c.getOffsetParent?void 0:c.getOffsetParent(h));let E=C?C[g]:0;E&&await (null==c.isElement?void 0:c.isElement(C))||(E=i.floating[g]||s.floating[m]);const T=_/2-x/2,j=E/2-b[m]/2-1,z=Dt(f[S],j),D=Dt(f[N],j),I=z,V=E-b[m]-D,w=E/2-b[m]/2+T,R=Br(I,w,V),A=!l.arrow&&null!=ThemeControlsModal_DWBaJmrH_sn(a)&&w!==R&&s.reference[m]/2-(w<I?z:D)-b[m]/2<0,$=A?w<I?w-I:w-V:0;return{[d]:v[d]+$,data:{[d]:R,centerOffset:w-R-$,...A&&{alignmentOffset:$}},reset:A}}});async function zd(e,r){const{placement:o,platform:n,elements:a}=e,s=await (null==n.isRTL?void 0:n.isRTL(a.floating)),c=Jt(o),i=ThemeControlsModal_DWBaJmrH_sn(o),l="y"===Zt(o),h=["left","top"].includes(c)?-1:1,p=s&&l?-1:1,f=Ot(r,e);let{mainAxis:v,crossAxis:d,alignmentAxis:m}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&"number"==typeof m&&(d="end"===i?-1*m:m),l?{x:d*p,y:v*h}:{x:v*h,y:d*p}}const Vd=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(r){var o,n;const{x:a,y:s,placement:c,middlewareData:i}=r,l=await zd(r,e);return c===(null==(o=i.offset)?void 0:o.placement)&&null!=(n=i.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:c}}}}},$d=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(r){const{x:o,y:n,placement:a}=r,{mainAxis:s=!0,crossAxis:c=!1,limiter:i={fn:u=>{let{x:S,y:N}=u;return{x:S,y:N}}},...l}=Ot(e,r),h={x:o,y:n},p=await Ad(r,l),f=Zt(Jt(a)),v=ThemeControlsModal_DWBaJmrH_cn(f);let d=h[v],m=h[f];if(s){const u="y"===v?"top":"left",S="y"===v?"bottom":"right",N=d+p[u],g=d-p[S];d=Br(N,d,g)}if(c){const u="y"===f?"top":"left",S="y"===f?"bottom":"right",N=m+p[u],g=m-p[S];m=Br(N,m,g)}const b=i.fn({...r,[v]:d,[f]:m});return{...b,data:{x:b.x-o,y:b.y-n,enabled:{[v]:s,[f]:c}}}}}},Md=function(e){return void 0===e&&(e={}),{options:e,fn(r){const{x:o,y:n,placement:a,rects:s,middlewareData:c}=r,{offset:i=0,mainAxis:l=!0,crossAxis:h=!0}=Ot(e,r),p={x:o,y:n},f=Zt(a),v=ThemeControlsModal_DWBaJmrH_cn(f);let d=p[v],m=p[f];const b=Ot(i,r),u="number"==typeof b?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const g="y"===v?"height":"width",_=s.reference[v]-s.floating[g]+u.mainAxis,x=s.reference[v]+s.reference[g]-u.mainAxis;d<_?d=_:d>x&&(d=x)}if(h){var S,N;const g="y"===v?"width":"height",_=["top","left"].includes(Jt(a)),x=s.reference[f]-s.floating[g]+(_&&(null==(S=c.offset)?void 0:S[f])||0)+(_?0:u.crossAxis),C=s.reference[f]+s.reference[g]+(_?0:(null==(N=c.offset)?void 0:N[f])||0)-(_?u.crossAxis:0);m<x?m=x:m>C&&(m=C)}return{[v]:d,[f]:m}}}};function Wo(e){const r=Fe(e);let o=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const a=Qe(e),s=a?e.offsetWidth:o,c=a?e.offsetHeight:n,i=cr(o)!==s||cr(n)!==c;return i&&(o=s,n=c),{width:o,height:n,$:i}}function ThemeControlsModal_DWBaJmrH_ln(e){return ke(e)?e:e.contextElement}function Et(e){const r=ThemeControlsModal_DWBaJmrH_ln(e);if(!Qe(r))return Ue(1);const o=r.getBoundingClientRect(),{width:n,height:a,$:s}=Wo(r);let c=(s?cr(o.width):o.width)/n,i=(s?cr(o.height):o.height)/a;return c&&Number.isFinite(c)||(c=1),i&&Number.isFinite(i)||(i=1),{x:c,y:i}}const Pd=/* @__PURE__ */Ue(0);function Ho(e){const r=Pe(e);return ThemeControlsModal_DWBaJmrH_an()&&r.visualViewport?{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}:Pd}function jd(e,r,o){return void 0===r&&(r=!1),!o||r&&o!==Pe(e)?!1:r}function pt(e,r,o,n){void 0===r&&(r=!1),void 0===o&&(o=!1);const a=e.getBoundingClientRect(),s=ThemeControlsModal_DWBaJmrH_ln(e);let c=Ue(1);r&&(n?ke(n)&&(c=Et(n)):c=Et(e));const i=jd(s,o,n)?Ho(s):Ue(0);let l=(a.left+i.x)/c.x,h=(a.top+i.y)/c.y,p=a.width/c.x,f=a.height/c.y;if(s){const v=Pe(s),d=n&&ke(n)?Pe(n):n;let m=v,b=jr(m);for(;b&&n&&d!==m;){const u=Et(b),S=b.getBoundingClientRect(),N=Fe(b),g=S.left+(b.clientLeft+parseFloat(N.paddingLeft))*u.x,_=S.top+(b.clientTop+parseFloat(N.paddingTop))*u.y;l*=u.x,h*=u.y,p*=u.x,f*=u.y,l+=g,h+=_,m=Pe(b),b=jr(m)}}return lr({width:p,height:f,x:l,y:h})}function ThemeControlsModal_DWBaJmrH_dn(e,r){const o=kr(e).scrollLeft;return r?r.left+o:pt(Xe(e)).left+o}function qo(e,r,o){void 0===o&&(o=!1);const n=e.getBoundingClientRect(),a=n.left+r.scrollLeft-(o?0:ThemeControlsModal_DWBaJmrH_dn(e,n)),s=n.top+r.scrollTop;return{x:a,y:s}}function Bd(e){let{elements:r,rect:o,offsetParent:n,strategy:a}=e;const s="fixed"===a,c=Xe(n),i=r?Sr(r.floating):!1;if(n===c||i&&s)return o;let l={scrollLeft:0,scrollTop:0},h=Ue(1);const p=Ue(0),f=Qe(n);if((f||!f&&!s)&&(("body"!==At(n)||Kt(c))&&(l=kr(n)),Qe(n))){const d=pt(n);h=Et(n),p.x=d.x+n.clientLeft,p.y=d.y+n.clientTop}const v=!c||f||s?Ue(0):qo(c,l,!0);return{width:o.width*h.x,height:o.height*h.y,x:o.x*h.x-l.scrollLeft*h.x+p.x+v.x,y:o.y*h.y-l.scrollTop*h.y+p.y+v.y}}function Fd(e){return Array.from(e.getClientRects())}function Ld(e){const r=Xe(e),o=kr(e),n=e.ownerDocument.body,a=ut(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),s=ut(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let c=-o.scrollLeft+ThemeControlsModal_DWBaJmrH_dn(e);const i=-o.scrollTop;return"rtl"===Fe(n).direction&&(c+=ut(r.clientWidth,n.clientWidth)-a),{width:a,height:s,x:c,y:i}}function Wd(e,r){const o=Pe(e),n=Xe(e),a=o.visualViewport;let s=n.clientWidth,c=n.clientHeight,i=0,l=0;if(a){s=a.width,c=a.height;const h=ThemeControlsModal_DWBaJmrH_an();(!h||h&&"fixed"===r)&&(i=a.offsetLeft,l=a.offsetTop)}return{width:s,height:c,x:i,y:l}}function Hd(e,r){const o=pt(e,!0,"fixed"===r),n=o.top+e.clientTop,a=o.left+e.clientLeft,s=Qe(e)?Et(e):Ue(1),c=e.clientWidth*s.x,i=e.clientHeight*s.y,l=a*s.x,h=n*s.y;return{width:c,height:i,x:l,y:h}}function Un(e,r,o){let n;if("viewport"===r)n=Wd(e,o);else if("document"===r)n=Ld(Xe(e));else if(ke(r))n=Hd(r,o);else{const a=Ho(e);n={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return lr(n)}function Yo(e,r){const o=ot(e);return o===r||!ke(o)||Ct(o)?!1:"fixed"===Fe(o).position||Yo(o,r)}function qd(e,r){const o=r.get(e);if(o)return o;let n=jt(e,[],!1).filter(i=>ke(i)&&"body"!==At(i)),a=null;const s="fixed"===Fe(e).position;let c=s?ot(e):e;for(;ke(c)&&!Ct(c);){const i=Fe(c),l=ThemeControlsModal_DWBaJmrH_on(c);l||"fixed"!==i.position||(a=null),(s?!l&&!a:!l&&"static"===i.position&&!!a&&["absolute","fixed"].includes(a.position)||Kt(c)&&!l&&Yo(e,c))?n=n.filter(p=>p!==c):a=i,c=ot(c)}return r.set(e,n),n}function Yd(e){let{element:r,boundary:o,rootBoundary:n,strategy:a}=e;const c=[..."clippingAncestors"===o?Sr(r)?[]:qd(r,this._c):[].concat(o),n],i=c[0],l=c.reduce((h,p)=>{const f=Un(r,p,a);return h.top=ut(f.top,h.top),h.right=Dt(f.right,h.right),h.bottom=Dt(f.bottom,h.bottom),h.left=ut(f.left,h.left),h},Un(r,i,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ud(e){const{width:r,height:o}=Wo(e);return{width:r,height:o}}function Gd(e,r,o){const n=Qe(r),a=Xe(r),s="fixed"===o,c=pt(e,!0,s,r);let i={scrollLeft:0,scrollTop:0};const l=Ue(0);if(n||!n&&!s){if(("body"!==At(r)||Kt(a))&&(i=kr(r)),n){const v=pt(r,!0,s,r);l.x=v.x+r.clientLeft,l.y=v.y+r.clientTop}else a&&(l.x=ThemeControlsModal_DWBaJmrH_dn(a))}const h=!a||n||s?Ue(0):qo(a,i),p=c.left+i.scrollLeft-l.x-h.x,f=c.top+i.scrollTop-l.y-h.y;return{x:p,y:f,width:c.width,height:c.height}}function Ar(e){return"static"===Fe(e).position}function Gn(e,r){if(!Qe(e)||"fixed"===Fe(e).position)return null;if(r)return r(e);let o=e.offsetParent;return Xe(e)===o&&(o=o.ownerDocument.body),o}function Uo(e,r){const o=Pe(e);if(Sr(e))return o;if(!Qe(e)){let a=ot(e);for(;a&&!Ct(a);){if(ke(a)&&!Ar(a))return a;a=ot(a)}return o}let n=Gn(e,r);for(;n&&Dd(n)&&Ar(n);)n=Gn(n,r);return n&&Ct(n)&&Ar(n)&&!ThemeControlsModal_DWBaJmrH_on(n)?o:n||Od(e)||o}const Qd=async function(e){const r=this.getOffsetParent||Uo,o=this.getDimensions,n=await o(e.floating);return{reference:Gd(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xd(e){return"rtl"===Fe(e).direction}const Kd={convertOffsetParentRelativeRectToViewportRelativeRect:Bd,getDocumentElement:Xe,getClippingRect:Yd,getOffsetParent:Uo,getElementRects:Qd,getClientRects:Fd,getDimensions:Ud,getScale:Et,isElement:ke,isRTL:Xd};function Go(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function Jd(e,r){let o=null,n;const a=Xe(e);function s(){var i;clearTimeout(n),null==(i=o)||i.disconnect(),o=null}function c(i,l){void 0===i&&(i=!1),void 0===l&&(l=1),s();const h=e.getBoundingClientRect(),{left:p,top:f,width:v,height:d}=h;if(i||r(),!v||!d)return;const m=ThemeControlsModal_DWBaJmrH_ar(f),b=ThemeControlsModal_DWBaJmrH_ar(a.clientWidth-(p+v)),u=ThemeControlsModal_DWBaJmrH_ar(a.clientHeight-(f+d)),S=ThemeControlsModal_DWBaJmrH_ar(p),g={rootMargin:-m+"px "+-b+"px "+-u+"px "+-S+"px",threshold:ut(0,Dt(1,l))||1};let _=!0;function x(C){const E=C[0].intersectionRatio;if(E!==l){if(!_)return c();E?c(!1,E):n=setTimeout(()=>{c(!1,1e-7)},1e3)}1!==E||Go(h,e.getBoundingClientRect())||c(),_=!1}try{o=new IntersectionObserver(x,{...g,root:a.ownerDocument})}catch{o=new IntersectionObserver(x,g)}o.observe(e)}return c(!0),s}function Zd(e,r,o,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,h=ThemeControlsModal_DWBaJmrH_ln(e),p=a||s?[...h?jt(h):[],...jt(r)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",o,{passive:!0}),s&&S.addEventListener("resize",o)});const f=h&&i?Jd(h,o):null;let v=-1,d=null;c&&(d=new ResizeObserver(S=>{let[N]=S;N&&N.target===h&&d&&(d.unobserve(r),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var g;null==(g=d)||g.observe(r)})),o()}),h&&!l&&d.observe(h),d.observe(r));let m,b=l?pt(e):null;l&&u();function u(){const S=pt(e);b&&!Go(b,S)&&o(),b=S,m=requestAnimationFrame(u)}return o(),()=>{var S;p.forEach(N=>{a&&N.removeEventListener("scroll",o),s&&N.removeEventListener("resize",o)}),f?.(),null==(S=d)||S.disconnect(),d=null,l&&cancelAnimationFrame(m)}}const eu=Vd,tu=$d,Qn=Td,ru=Md,nu=(e,r,o)=>{const n=/* @__PURE__ */new Map,a={platform:Kd,...o},s={...a.platform,_c:n};return Id(e,r,{...a,platform:s})};var ir=typeof document<"u"?index_js_eager_.useLayoutEffect:index_js_eager_.useEffect;function dr(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if("function"==typeof e&&e.toString()===r.toString())return!0;let o,n,a;if(e&&r&&"object"==typeof e){if(Array.isArray(e)){if(o=e.length,o!==r.length)return!1;for(n=o;0!==n--;)if(!dr(e[n],r[n]))return!1;return!0}if(a=Object.keys(e),o=a.length,o!==Object.keys(r).length)return!1;for(n=o;0!==n--;)if(!({}).hasOwnProperty.call(r,a[n]))return!1;for(n=o;0!==n--;){const s=a[n];if(!("_owner"===s&&e.$$typeof)&&!dr(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}function Qo(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xn(e,r){const o=Qo(e);return Math.round(r*o)/o}function Tr(e){const r=index_js_eager_.useRef(e);return ir(()=>{r.current=e}),r}function ou(e){void 0===e&&(e={});const{placement:r="bottom",strategy:o="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:c}={},transform:i=!0,whileElementsMounted:l,open:h}=e,[p,f]=index_js_eager_.useState({x:0,y:0,strategy:o,placement:r,middlewareData:{},isPositioned:!1}),[v,d]=index_js_eager_.useState(n);dr(v,n)||d(n);const[m,b]=index_js_eager_.useState(null),[u,S]=index_js_eager_.useState(null),N=index_js_eager_.useCallback(O=>{O!==C.current&&(C.current=O,b(O))},[]),g=index_js_eager_.useCallback(O=>{O!==E.current&&(E.current=O,S(O))},[]),_=s||m,x=c||u,C=index_js_eager_.useRef(null),E=index_js_eager_.useRef(null),T=index_js_eager_.useRef(p),j=null!=l,z=Tr(l),D=Tr(a),I=Tr(h),V=index_js_eager_.useCallback(()=>{if(!C.current||!E.current)return;const O={placement:r,strategy:o,middleware:v};D.current&&(O.platform=D.current),nu(C.current,E.current,O).then(P=>{const L1={...P,isPositioned:!1!==I.current};w.current&&!dr(T.current,L1)&&(T.current=L1,react_dom_index_js_eager_.flushSync(()=>{f(L1)}))})},[v,r,o,D,I]);ir(()=>{!1===h&&T.current.isPositioned&&(T.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[h]);const w=index_js_eager_.useRef(!1);ir(()=>(w.current=!0,()=>{w.current=!1}),[]),ir(()=>{if(_&&(C.current=_),x&&(E.current=x),_&&x){if(z.current)return z.current(_,x,V);V()}},[_,x,V,z,j]);const R=index_js_eager_.useMemo(()=>({reference:C,floating:E,setReference:N,setFloating:g}),[N,g]),A=index_js_eager_.useMemo(()=>({reference:_,floating:x}),[_,x]),$=index_js_eager_.useMemo(()=>{const O={position:o,left:0,top:0};if(!A.floating)return O;const P=Xn(A.floating,p.x),L1=Xn(A.floating,p.y);return i?{...O,transform:"translate("+P+"px, "+L1+"px)",...Qo(A.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:P,top:L1}},[o,i,A.floating,p.x,p.y]);return index_js_eager_.useMemo(()=>({...p,update:V,refs:R,elements:A,floatingStyles:$}),[p,V,R,A,$])}const au=e=>{function r(o){return({}).hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:n,padding:a}="function"==typeof e?e(o):e;return n&&r(n)?null!=n.current?Qn({element:n.current,padding:a}).fn(o):{}:n?Qn({element:n,padding:a}).fn(o):{}}}},iu=(e,r)=>({...eu(e),options:[e,r]}),su=(e,r)=>({...tu(e),options:[e,r]}),cu=(e,r)=>({...ru(e),options:[e,r]}),lu=(e,r)=>({...au(e),options:[e,r]}),Xo={...index_js_eager_namespaceObject},du=Xo.useInsertionEffect,uu=du||(e=>e());function pu(e){const r=index_js_eager_.useRef(()=>{});return uu(()=>{r.current=e}),index_js_eager_.useCallback(function(){for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return null==r.current?void 0:r.current(...n)},[])}var ur=typeof document<"u"?index_js_eager_.useLayoutEffect:index_js_eager_.useEffect;let Kn=!1,hu=0;const Jn=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hu++;function fu(){const[e,r]=index_js_eager_.useState(()=>Kn?Jn():void 0);return ur(()=>{null==e&&r(Jn())},[]),index_js_eager_.useEffect(()=>{Kn=!0},[]),e}const mu=Xo.useId,Ko=mu||fu;const bu=/* @__PURE__ */index_js_eager_.forwardRef(function(r,o){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:c}},width:i=14,height:l=7,tipRadius:h=0,strokeWidth:p=0,staticOffset:f,stroke:v,d,style:{transform:m,...b}={},...u}=r;const S=Ko(),[N,g]=index_js_eager_.useState(!1);if(ur(()=>{if(!a)return;"rtl"===Fe(a).direction&&g(!0)},[a]),!a)return null;const[_,x]=n.split("-"),C="top"===_||"bottom"===_;let E=f;(C&&null!=c&&c.x||!C&&null!=c&&c.y)&&(E=null);const T=2*p,j=T/2,z=i/2*(h/-8+1),D=l/2*h/4,I=!!d,V=E&&"end"===x?"bottom":"top";let w=E&&"end"===x?"right":"left";E&&N&&(w="end"===x?"left":"right");const R=s?.x!=null?E||s.x:"",A=s?.y!=null?E||s.y:"",$=d||"M0,0 H"+i+(" L"+(i-z))+","+(l-D)+(" Q"+i/2+","+l+" "+z)+","+(l-D)+" Z",O={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[_];return/* @__PURE__ */(0,jsx_runtime.jsxs)("svg",{...u,"aria-hidden":!0,ref:o,width:I?i:i+T,height:i,viewBox:"0 0 "+i+" "+(l>i?l:i),style:{position:"absolute",pointerEvents:"none",[w]:R,[V]:A,[_]:C||I?"100%":"calc(100% - "+T/2+"px)",transform:[O,m].filter(P=>!!P).join(" "),...b},children:[T>0&&/* @__PURE__ */(0,jsx_runtime.jsx)("path",{clipPath:"url(#"+S+")",fill:"none",stroke:v,strokeWidth:T+(d?0:1),d:$}),/* @__PURE__ */(0,jsx_runtime.jsx)("path",{stroke:T&&!d?u.fill:"none",d:$}),/* @__PURE__ */(0,jsx_runtime.jsx)("clipPath",{id:S,children:/* @__PURE__ */(0,jsx_runtime.jsx)("rect",{x:-j,y:j*(I?-1:1),width:i+T,height:i})})]})});function yu(){const e=/* @__PURE__ */new Map;return{emit(r,o){var n;null==(n=e.get(r))||n.forEach(a=>a(o))},on(r,o){e.set(r,[...e.get(r)||[],o])},off(r,o){var n;e.set(r,(null==(n=e.get(r))?void 0:n.filter(a=>a!==o))||[])}}}const xu=/* @__PURE__ */index_js_eager_.createContext(null),wu=/* @__PURE__ */index_js_eager_.createContext(null),Nu=()=>{var e;return(null==(e=index_js_eager_.useContext(xu))?void 0:e.id)||null},Eu=()=>index_js_eager_.useContext(wu);function Su(e){const{open:r=!1,onOpenChange:o,elements:n}=e,a=Ko(),s=index_js_eager_.useRef({}),[c]=index_js_eager_.useState(()=>yu()),i=null!=Nu();const[l,h]=index_js_eager_.useState(n.reference),p=pu((d,m,b)=>{s.current.openEvent=d?m:void 0,c.emit("openchange",{open:d,event:m,reason:b,nested:i}),o?.(d,m,b)}),f=index_js_eager_.useMemo(()=>({setPositionReference:h}),[]),v=index_js_eager_.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return index_js_eager_.useMemo(()=>({dataRef:s,open:r,onOpenChange:p,elements:v,events:c,floatingId:a,refs:f}),[r,p,v,c,a,f])}function ku(e){void 0===e&&(e={});const{nodeId:r}=e,o=Su({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,a=n.elements,[s,c]=index_js_eager_.useState(null),[i,l]=index_js_eager_.useState(null),p=a?.domReference||s,f=index_js_eager_.useRef(null),v=Eu();ur(()=>{p&&(f.current=p)},[p]);const d=ou({...e,elements:{...a,...i&&{reference:i}}}),m=index_js_eager_.useCallback(g=>{const _=ke(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;l(_),d.refs.setReference(_)},[d.refs]),b=index_js_eager_.useCallback(g=>{(ke(g)||null===g)&&(f.current=g,c(g)),(ke(d.refs.reference.current)||null===d.refs.reference.current||null!==g&&!ke(g))&&d.refs.setReference(g)},[d.refs]),u=index_js_eager_.useMemo(()=>({...d.refs,setReference:b,setPositionReference:m,domReference:f}),[d.refs,b,m]),S=index_js_eager_.useMemo(()=>({...d.elements,domReference:p}),[d.elements,p]),N=index_js_eager_.useMemo(()=>({...d,...n,refs:u,elements:S,nodeId:r}),[d,u,S,r,n]);return ur(()=>{n.dataRef.current.floatingContext=N;const g=v?.nodesRef.current.find(_=>_.id===r);g&&(g.context=N)}),index_js_eager_.useMemo(()=>({...d,context:N,refs:u,elements:S}),[d,u,S,N])}const _u=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(iconify.JO,{target:"e1uo8o83"})({name:"1ci31f3",styles:"font-size:1rem;color:var(--ha-S400-contrast);margin-right:0.5rem"}),Cu=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1uo8o82"})({name:"ofx7pc",styles:"z-index:50;display:flex;min-width:180px;flex-direction:column;overscroll-behavior:contain;border-radius:0.5rem;border-width:1px;border-style:solid;border-color:var(--ha-S500);background-color:var(--ha-S400);padding:0.5rem;color:var(--ha-S400-contrast);box-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1),0 4px 6px -4px rgb(0 0 0 / 0.1);outline:none!important;max-height:max-content;max-height:300px;overflow-y:scroll"}),Du=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1uo8o81"})({name:"bjn8wh",styles:"position:relative"}),Ou=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("a",{target:"e1uo8o80"})({name:"iku8lo",styles:"display:flex;scroll-margin:0.5rem;align-items:center;gap:0.5rem;border-radius:0.25rem;padding:0.8rem 0.5rem;outline:none!important;background-color:transparent;cursor:pointer;transition:background-color var(--ha-transition-duration) var(--ha-easing);&:active,&:focus,&:hover{background-color:var(--ha-S600);}&.active{background-color:var(--ha-S700);}"});function Vt({children:e,placement:r="bottom",items:o=[],disabled:n=!1,cssStyles:a,...s}){const[c,i]=(0,index_js_eager_.useState)(!1),{useStore:l}=(0,index_js_.useHass)(),h=l(N=>N.globalComponentStyles),p=(0,index_js_eager_.useRef)(null),{refs:f,floatingStyles:v,context:d}=ku({whileElementsMounted:Zd,placement:r,middleware:[su({limiter:cu({offset:10})}),iu(20),lu({element:p})]}),{width:m,ref:b}=(0,useResizeDetector.Z)({refreshMode:"debounce",handleHeight:!1,refreshRate:500}),u=(0,index_js_eager_.useRef)(null),S=(0,index_js_eager_.useCallback)(N=>{const g=u.current&&u.current.contains(N.target),_=b.current&&b.current.contains(N.target);g||_||i(!1)},[b]);return(0,index_js_eager_.useEffect)(()=>(c?document.addEventListener("mousedown",S):document.removeEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}),[S,c]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Du,{...s,ref:b,"aria-disabled":n,"aria-controls":"listbox","aria-expanded":c,role:"combobox",css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(h.menu??""," ",a??"",";"),children:[index_js_eager_.Children.map(e,N=>(0,index_js_eager_.isValidElement)(N)?(0,index_js_eager_.cloneElement)(N,{...N.props,role:"option",ref:f.setReference,onClick:()=>{n||(i(!c),N.props.onClick?.())}}):N),c&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{ref:f.setFloating,style:v,role:"listbox",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bu,{ref:p,context:d,style:{fill:"var(--ha-S400)"}}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Cu,{triggerWidth:m??0,className:"menu",children:o.map(({onClick:N,active:g,label:_,icon:x,...C},E)=>/* @__PURE__ */(0,emotion_react_browser_esm_js_.createElement)(Ou,{...C,key:E,"aria-disabled":n,role:"option",onClick:()=>{N?.(),i(!1)},className:`menu-item ${g?"active":""}`},/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{fullWidth:!0,justifyContent:"flex-start",children:[x&&/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(_u,{icon:x}),_]})))})]})]})}const St=400,Zn=St*(typeof window>"u"?1:window.devicePixelRatio),Ru=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"emae8tc0"})(()=>`
    display: block;
    outline: none;
    height: 45vh;
    max-height: 320px;
    min-height: 200px;
    ${(0,breakpoints.mq)(["xxs"],`
      min-height: 0;
      height: 35vh;
      max-height: 100%;
    `)}
    touch-action: none;
    .container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
    }
    canvas {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      transition: box-shadow 180ms ease-in-out;
      cursor: pointer;
    }
    :host(:focus-visible) canvas {
      box-shadow: 0 0 0 2px rgb(255, 160, 0);
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    circle {
      fill: black;
      stroke: white;
      stroke-width: 2;
      filter: url(#marker-shadow);
    }
    &[pressed="touch"] {
      circle {
        transform: translate(0px, -${St/16}px) scale(2.5),
      }
    }
    .cursor {
      --cx: ((var(--value-x, 0) + 1) * ${St}) / 2;
      --cy: ((var(--value-y, 0) + 1) * ${St}) / 2;
      transform: translate(calc(var(--cx) * 1px), calc(var(--cy) * 1px));
    }
    &[pressed] {
      circle {
        transform: translate(0px, 0px) scale(1.5);
      }
    }
    &:not([pressed]) circle {
      transition: transform 100ms ease-in-out, fill 100ms ease-in-out;
    }
    &:not([pressed]) {
      .cursor {
        transition: transform 200ms ease-in-out, opacity 200ms ease-in-out;
      }
    }
    .container.disabled {
      .cursor {
        opacity: 0;
      }
      cursor: not-allowed;
      > * {
        cursor: not-allowed;
      }
    }
    `,";"),Fr=.9;function Iu(e,r){const o=Math.sqrt(e*e+r*r),n=Math.atan2(r,e);return[o,n]}function Au(e,r){const o=Math.cos(r)*e,n=Math.sin(r)*e;return[o,n]}function Tu(e,r,o){e.clearRect(0,0,e.canvas.width,e.canvas.height);const n=e.canvas.width/2,a=Math.max(r,2e3),s=Math.min(o,4e4);for(let c=-n;c<n;c+=1){const i=n*Math.sqrt(1-(c/n)**2),l=(c/(n*Fr)+1)/2,h=Math.max(Math.min(a+l*(s-a),s),a),p=(0,index_js_.rgb2hex)((0,index_js_.temperature2rgb)(h));e.fillStyle=p,e.fillRect(n-i,n+c-.5,2*i,2),e.fill()}}function zu({disabled:e=!1,entity:r,onChangeApplied:o,onChange:n,className:a,cssStyles:s,...c}){const i=(0,index_js_.useEntity)(r),l=(0,index_js_.useLightTemperature)(i),h=(0,index_js_eager_.useRef)(null),p=(0,index_js_eager_.useRef)(null),f=(0,index_js_eager_.useRef)(null),v=(0,index_js_eager_.useRef)(null),d=(0,index_js_eager_.useRef)(void 0),m=(0,index_js_eager_.useRef)([0,0]),b=i.attributes.min_color_temp_kelvin||2e3,u=i.attributes.max_color_temp_kelvin||1e4,S=i.state===index_js_.ON,N=(0,index_js_.lightSupportsColorMode)(i,index_js_.LIGHT_COLOR_MODES.COLOR_TEMP),g=(0,index_js_eager_.useCallback)(R=>{const A=(0,index_js_.temperature2rgb)(R??Math.round((u+b)/2)),$=(0,index_js_.rgb2hex)(A),O=(0,index_js_.rgb2hs)(A);return{rgb:A,hex:$,hs:O}},[u,b]),_=(0,index_js_eager_.useCallback)(R=>{const{hex:A}=g(R);f.current&&(f.current.style.fill=A),v.current&&(v.current.style.fill=A,v.current.style.visibility=m.current?"":"hidden")},[g]),x=(0,index_js_eager_.useCallback)(()=>{if(!h.current)return;const R=h.current.getContext("2d");Tu(R,b,u)},[b,u]),C=function(R){p.current&&(""!==R?p.current.setAttribute("pressed",R):p.current.removeAttribute("pressed"))},E=(0,index_js_eager_.useCallback)(([,R])=>{const A=(R/Fr+1)/2,$=Math.max(Math.min(b+A*(u-b),u),b);return Math.round($)},[b,u]),T=(0,index_js_eager_.useCallback)(R=>{if(!(!p.current||!R))return m.current=R,p.current.style.setProperty("--value-x",e?"0":`${R[0]}`),p.current.style.setProperty("--value-y",e?"0":`${R[1]}`),z.current=E(m.current),_(z.current),()=>{p.current&&(p.current.style.removeProperty("--value-x"),p.current.style.removeProperty("--value-y"))}},[e,_,E]),j=(0,index_js_eager_.useCallback)(R=>l===b?[0,-1]:l===u?[0,1]:[0,(((R||0)-b)/(u-b)*2-1)*Fr],[l,b,u]),z=(0,index_js_eager_.useRef)(E(j(l)));(0,index_js_eager_.useEffect)(()=>{_(z.current)},[_]),(0,index_js_eager_.useEffect)(()=>{const R=m.current[0];m.current=[R,j(l)[1]],T(m.current)},[T,l,j]);const D=(0,index_js_eager_.useCallback)((R,A)=>{const[$,O]=R,P=A.getBoundingClientRect(),L1=P.left,G=P.top,W=A.clientWidth,Z=A.clientHeight,X=2*($-L1)/W-1,le=2*(O-G)/Z-1,[ge,U]=Iu(X,le),[B,H]=Au(Math.min(1,ge),U);return[B,H]},[]),I=(0,index_js_eager_.useCallback)(R=>{d.current&&clearTimeout(d.current),R!==l&&(d.current=setTimeout(()=>{if("function"==typeof o){const A=g(R);o(R,A)}i.service.turnOn({serviceData:{kelvin:R}})},100))},[o,i,l,g]);(0,index_js_eager_.useEffect)(()=>{N&&x()},[x,N]);function V(){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("filter",{id:"marker-shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.3",floodColor:"rgba(0, 0, 0, 1)"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("feDropShadow",{dx:"0",dy:"1",stdDeviation:"3",floodOpacity:"0.15",floodColor:"rgba(0, 0, 0, 1)"})]})}const w=use_gesture_react_esm_useGesture({onDrag:R=>{if(!e&&(T(D(R.xy,R.target)),"function"==typeof n)){const A=g(z.current);n(z.current,A)}},onDragStart:R=>{e||(C(R.type),T(m.current))},onDragEnd:R=>{e||(C(""),T(D(R.xy,R.target)),I(z.current))},onClick:R=>{const A=R.event.clientX,$=R.event.clientY;T(D([A,$],R.event.target)),I(z.current)}},{drag:{filterTaps:!0}});return N?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ru,{css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(s??"",";"),className:`${a??""} color-temp-picker`,ref:p,...w(),...c,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:`container ${e?"disabled":""}`,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("canvas",{ref:h,width:Zn,height:Zn}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("svg",{id:"interaction",viewBox:`0 0 ${St} ${St}`,overflow:"visible","aria-hidden":"true",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("defs",{children:V()}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("g",{ref:f,className:"cursor",style:{visibility:typeof l>"u"||!S?"hidden":"visible"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("circle",{ref:v,cx:"0",cy:"0",r:"16"})})]})]})}):null}function Vu(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ColorTempPicker"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zu,{...e})})}const lt=400;function eo(e,r){const o=Math.sqrt(e*e+r*r),n=Math.atan2(r,e);return[o,n]}function ThemeControlsModal_DWBaJmrH_to(e,r){const o=Math.cos(r)*e,n=Math.sin(r)*e;return[o,n]}function $u(e){return e/(2*Math.PI)*360}function Lr(e){return e/360*2*Math.PI}function Wr(e,r,o,n,a,s){return null!=r?(0,index_js_.rgbw2rgb)([...e,r]):null!=o&&null!==n?(0,index_js_.rgbww2rgb)([...e,o,n],a,s):e}function Mu(e,r=255,o,n,a,s,c){const i=e.canvas.width/2;e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath();const l=e.canvas.width/2,h=e.canvas.width/2;for(let p=0;p<360;p+=1){const f=Lr(p-.5),v=Lr(p+1.5);e.beginPath(),e.moveTo(l,h),e.arc(l,h,i,f,v),e.closePath();const d=e.createRadialGradient(l,h,0,l,h,i),m=(0,index_js_.rgb2hex)(Wr((0,index_js_.hsv2rgb)([p,0,r]),o,n,a,s,c)),b=(0,index_js_.rgb2hex)(Wr((0,index_js_.hsv2rgb)([p,1,r]),o,n,a,s,c));d.addColorStop(0,m),d.addColorStop(1,b),e.fillStyle=d,e.fill()}}const Pu=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e13gc1280"})(()=>{const e=`calc((var(--value-x, 0) + 1) * (${lt} / 2) * 1px), calc((var(--value-y, 0) + 1) * (${lt} / 2) * 1px)`;return`
    touch-action: none;
    display: block;
    outline: none;
    height: 45vh;
    max-height: 320px;
    min-height: 200px;
    ${(0,breakpoints.mq)(["xxs"],`
      min-height: 0;
      height: 35vh;
      max-height: 100%;
    `)}
    .container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
    }
    canvas {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      cursor: pointer;
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    .cursor {
      will-change: transform;
      transform: translate(${e});
    }
    circle {
      fill: black;
      stroke: white;
      stroke-width: 2;
      filter: url(#marker-shadow);
    }
    &:not([pressed]) circle {
      transition:
        transform 100ms ease-in-out,
        fill 100ms ease-in-out;
      translate(0px, 0px) scale(1);
    }
    &:not([pressed]) .cursor {
      transition: opacity 200ms ease-in-out, transform 200ms ease-in-out;
    }
    &[pressed="pointerdown"] circle {
      translate(0px, -${lt/16}px) scale(1.5);
    }
    .container.disabled {
      .cursor {
        opacity: 0;
      }
      cursor: not-allowed;
      > * {
        cursor: not-allowed;
      }
    }
  `},";");function ju({disabled:e=!1,entity:r,onChange:o,onChangeApplied:n,className:a,cssStyles:s}){const c=(0,index_js_.useEntity)(r),i=(0,index_js_.useLightColor)(c),l=(0,index_js_eager_.useRef)(null),h=(0,index_js_eager_.useRef)(null),p=(0,index_js_eager_.useRef)(null),f=(0,index_js_eager_.useRef)(void 0),v=(0,index_js_eager_.useRef)(null),d=(0,index_js_eager_.useRef)(void 0),m=(0,index_js_eager_.useRef)(void 0),b=(0,index_js_eager_.useRef)(void 0),u=(0,index_js_eager_.useMemo)(()=>typeof window>"u"?lt:lt*window.devicePixelRatio,[]),S=c.attributes.min_color_temp_kelvin,N=c.attributes.max_color_temp_kelvin,g=c.state===index_js_.ON,_=(0,index_js_.lightSupportsColor)(c),x=(0,index_js_eager_.useCallback)(()=>{if(!h.current)return;const O=h.current.getContext("2d");Mu(O,i.colorBrightness,i.white,i.coolWhite,i.warmWhite,S,N)},[i.colorBrightness,i.white,i.coolWhite,i.warmWhite,S,N]);(0,index_js_eager_.useEffect)(()=>{_&&x()},[x,_]);const C=(0,index_js_eager_.useCallback)(O=>{const P=Lr(O[0]),L1=Math.min(O[1],1),[G,W]=ThemeControlsModal_DWBaJmrH_to(L1,P);return[G,W]},[]),E=(0,index_js_eager_.useCallback)((O,P)=>{const[L1,G]=eo(O,P),Z=(Math.round($u(G))%360+360)%360,X=Math.round(100*Math.min(L1,1))/100;return[Z,X]},[]),T=(0,index_js_eager_.useCallback)((O,P)=>{const[L1,G]=O,W=P.getBoundingClientRect(),Z=W.left,X=W.top,le=P.clientWidth,ge=P.clientHeight,U=2*(L1-Z)/le-1,B=2*(G-X)/ge-1,[H,re]=eo(U,B),[se,ie]=ThemeControlsModal_DWBaJmrH_to(Math.min(1,H),re);return[se,ie]},[]),j=(0,index_js_eager_.useCallback)(()=>{if(void 0===i.hs){m.current=void 0,b.current=void 0;return}m.current=C(i.hs),b.current=i.hs},[C,i.hs]);(0,index_js_eager_.useEffect)(()=>{_&&j()},[i.hs,j,_]);const z=function(O,P){d.current=P,l.current&&(O?l.current.setAttribute("pressed",""):l.current.removeAttribute("pressed"))},D=(0,index_js_eager_.useCallback)(()=>{const O=void 0!==b.current?Wr((0,index_js_.hsv2rgb)([b.current[0],b.current[1],i.colorBrightness??255]),i.white,i.coolWhite,i.warmWhite):[255,255,255];f.current=(0,index_js_.rgb2hex)(O),v.current&&(v.current.style.fill=f.current,v.current.style.visibility=m.current?"":"hidden"),p.current&&(p.current.style.fill=f.current)},[i.colorBrightness,i.white,i.coolWhite,i.warmWhite]),I=(0,index_js_eager_.useCallback)(O=>{l.current&&O&&(m.current=O,l.current.style.setProperty("--value-x",e?"0":`${O[0]}`),l.current.style.setProperty("--value-y",e?"0":`${O[1]}`),b.current=E(...m.current),D(),"function"==typeof o&&o({hex:f.current,rgb:(0,index_js_.hex2rgb)(f.current),hs:b.current}))},[e,E,o,D]);(0,index_js_eager_.useEffect)(()=>{const O=l.current;return()=>{O&&(O.style.removeProperty("--value-x"),O.style.removeProperty("--value-y"))}},[]),(0,index_js_eager_.useEffect)(()=>{_&&void 0!==i.hs&&(m.current=C(i.hs),I(m.current))},[i.hs,_,I,C]);const V=(0,index_js_eager_.useCallback)((O,P)=>{c.service.turnOn({serviceData:{...O,...P}})},[c]),w=(0,index_js_eager_.useCallback)(O=>{if((0,index_js_.lightSupportsColorMode)(c,index_js_.LIGHT_COLOR_MODES.RGBWW)){const P=c.attributes.rgbww_color?[...c.attributes.rgbww_color]:[0,0,0,0,0],L1=O.concat(P.slice(3));V({rgbww_color:L1})}else if((0,index_js_.lightSupportsColorMode)(c,index_js_.LIGHT_COLOR_MODES.RGBW)){const P=c.attributes.rgbw_color?[...c.attributes.rgbw_color]:[0,0,0,0],L1=O.concat(P.slice(3));V({rgbw_color:L1})}},[c,V]),R=(0,index_js_eager_.useCallback)((O,P,L1=!1)=>{if(O.every(W=>0===W)&&(O[0]=255,O[1]=255,O[2]=255),void 0!==P&&255!==P){let W=P/255;L1&&(W=1/W),O[0]=Math.min(255,Math.round(O[0]*W)),O[1]=Math.min(255,Math.round(O[1]*W)),O[2]=Math.min(255,Math.round(O[2]*W))}return O},[]),A=(0,index_js_eager_.useCallback)(O=>{if(!O)return;const P=[O[0],100*O[1]],L1=(0,index_js_.hs2rgb)(O);if((0,index_js_.lightSupportsColorMode)(c,index_js_.LIGHT_COLOR_MODES.RGBWW)||(0,index_js_.lightSupportsColorMode)(c,index_js_.LIGHT_COLOR_MODES.RGBW))w(i.colorBrightness?R(L1,255*i.colorBrightness/100):L1);else if((0,index_js_.lightSupportsColorMode)(c,index_js_.LIGHT_COLOR_MODES.RGB)){if(i.brightnessAdjusted){const G=i.brightnessAdjusted/255*100,W=Math.round((c.attributes.brightness||0)*G/255),Z=R(L1,i.brightnessAdjusted,!0);V({rgb_color:Z},{brightness_pct:W})}else V({rgb_color:L1})}else V({hs_color:P})},[c,w,i.colorBrightness,i.brightnessAdjusted,R,V]),$=use_gesture_react_esm_useGesture({onDrag:O=>{e||(m.current=T(O.values,O.target),I(m.current))},onDragStart:O=>{e||(z(!0,O.type),I(m.current))},onDragEnd:O=>{e||(z(!1,O.type),m.current=T(O.values,O.target),I(m.current),"function"==typeof n&&n({hex:f.current,rgb:(0,index_js_.hex2rgb)(f.current),hs:b.current}),A(b.current))},onClick:O=>{if(e)return;z(!1,void 0);const P=O.event.clientX,L1=O.event.clientY;m.current=T([P,L1],O.event.target),I(m.current),"function"==typeof n&&n({hex:f.current,rgb:(0,index_js_.hex2rgb)(f.current),hs:b.current}),A(b.current)}},{drag:{filterTaps:!0}});return _?/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Pu,{css:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(s??"",";"),className:`${a??""} color-picker`,ref:l,...$(),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("div",{className:`container ${e?"disabled":""}`,children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("canvas",{ref:h,width:u,height:u}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("svg",{id:"interaction",viewBox:`0 0 ${lt} ${lt}`,overflow:"visible",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("defs",{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("filter",{id:"marker-shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.3",floodColor:"rgba(0, 0, 0, 1)"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("feDropShadow",{dx:"0",dy:"1",stdDeviation:"3",floodOpacity:"0.15",floodColor:"rgba(0, 0, 0, 1)"})]})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("g",{ref:p,className:"cursor",style:{visibility:g?"visible":"hidden"},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("circle",{ref:v,cx:"0",cy:"0",r:"16"})})]})]})}):null}function Bu(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ColorPicker"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ju,{...e})})}const Fu=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"elgr7fr2"})({name:"1ff36h2",styles:"flex-grow:1"}),Lu=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"elgr7fr1"})({name:"1qhvysv",styles:"max-width:60%;overflow-wrap:break-word;text-align:right"}),Wu=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"elgr7fr0"})({name:"177lhik",styles:"display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-bottom:0.5rem;border-bottom:1px solid var(--ha-S400)"});function Hu({entity:e,title:r,...o}){const n=(0,index_js_.useEntity)(e),a=(0,index_js_eager_.useMemo)(()=>[...Object.entries(n.attributes),["state",n.state]],[n]);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(_o,{collapsed:!0,cssStyles:`
    background-color: var(--ha-S300);
    color: var(--ha-S300-contrast);
    margin: 1rem 0;
  `,layout:"column",alignItems:"flex-start",title:r??(0,index_js_.localize)("show_attributes"),...o,children:a.map(([s,c])=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Wu,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Fu,{children:s}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Lu,{children:Array.isArray(c)?c.join(", "):"object"==typeof c||"boolean"==typeof c?JSON.stringify(c):c})]},s))})}function qu(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"EntityAttributes"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Hu,{...e})})}const Yu=li(e=>(0,emotion_cache_browser_esm.Z)(e));function Uu({children:e,options:r}){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_browser_esm_js_.CacheProvider,{value:Yu(r),children:e})}const Gu={errorColor:[219,68,55],warningColor:[255,166,0],successColor:[67,160,71],infoColor:[3,155,229]},Cr=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Qu=(e,r)=>{const[o,n,a]=e.map(s=>{const c=s/255*r;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)});return .2126*o+.7152*n+.0722*a},Xu=(e,r)=>Qu(e,r)>.3?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)",Ku=()=>Object.entries(Gu).map(([e,r])=>Cr.map(o=>{const n=o<1?`-a${10*o}`:"",a=`--ha-${e.replace(/([A-Z])/g,"-$1").toLowerCase().replace("-color","")}-color${n}`,s=`${a}-contrast`,c=`rgba(${r.join(", ")}, ${o})`,i=Xu(r,o);return`${a}: ${c};
${s}: ${i};`}).join(`
`)).join(`
`),ro=(e,r,o,n)=>e.map((a,s)=>{const c="Light"===r,i=c?`calc(((var(--ha-s) - var(--mtc-light-s)) * var(--mtc-s-${a}) + var(--mtc-light-s)) * 1%)`:`calc(((1 - var(--mtc-s-${a})) * 100 + var(--mtc-s-${a}) * var(--ha-s)) * 1%)`,l=c?`calc(((var(--ha-l) - var(--mtc-light-l)) * var(--mtc-l-${a}) + var(--mtc-light-l)) * 1%)`:`calc(((1 - var(--mtc-l-${a})) * var(--ha-l) * var(--ha-l) / 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%)`,h=b=>c?`hsla(0, 0%, calc(((((1 - var(--mtc-l-${a})) * 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${b})`:`hsla(0, 0%, calc(((((1 - var(--mtc-l-${a})) * var(--ha-l) * var(--ha-l) / 100 + var(--mtc-l-${a}) * var(--ha-l)) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${b})`,p=n?constants.ME:constants.jB,f=c?0:constants.rp.length+1,v=n?p+constants.dH*(s+f):p-constants.dH*(s+f),d=`
      --ha-${a}-h: var(--ha-h);
      --ha-${a}-s: ${i};
      --ha-${a}-l: ${l};
      `,m=Cr.map(b=>{const u=b<1?`-a${10*b}`:"";return`
        --ha-${a}${u}: hsla(var(--ha-${a}-h), var(--ha-${a}-s), var(--ha-${a}-l), ${b});
        --ha-${a}${u}-contrast: ${h(b)};
        --ha-S${a}${u}: hsla(var(--ha-h), calc(var(--ha-${a}-s) * ${o}), ${v}%, ${b});
        --ha-S${a}${u}-contrast: hsla(var(--ha-h), calc(var(--ha-${a}-s) * ${o}), calc(((100% - ${v}%) + ${f} * 10%)), ${b});`}).join("");return`
        ${d}
        ${m}
        `}).join(""),Ju=(e,r,o)=>e.map((n,a)=>{const s=constants.rp.length+1+constants.Py.length,c=o?constants.ME:constants.jB,i=o?c+constants.dH*(s+a):c-constants.dH*(s+a),l=`
        --ha-${n}-h: calc(var(--ha-h) * var(--mtc-h-${n}));
        --ha-${n}-s: calc(var(--mtc-s-${n}) * 100%);
        --ha-${n}-l: calc(var(--mtc-l-${n}) * 100%);
      `,h=Cr.map(p=>{const f=p<1?`-a${10*p}`:"";return`
          --ha-${n}${f}: hsla(var(--ha-${n}-h), var(--ha-${n}-s), var(--ha-${n}-l), ${p});
          --ha-S${n}${f}: hsla(var(--ha-h), calc(var(--ha-${n}-s) * ${r}), ${i}%, ${p});
          --ha-S${n}${f}-contrast: hsla(var(--ha-${n}-s), calc(var(--ha-${n}-s) * ${r}), calc(((100% - ${i}%))), ${p});`}).join("");return`
        ${l}
        ${h}
        `}).join(""),Zu=(e,r)=>{const o=ro(constants.rp,"Light",e,r),n=ro(constants.Py,"Dark",e,r),a=Ju(constants.Lr,e,r),s=r?constants.ME:constants.jB,c=r?s+5*constants.dH:s-5*constants.dH,i=Cr.map(l=>{const h=l<1?`-a${10*l}`:"";return`
      --ha-500${h}-contrast: hsla(0, 0%, calc(((var(--ha-l) * 1%) - var(--ha-contrast-threshold, 50%)) * (-100)), ${l});
      --ha-S500${h}: hsla(var(--ha-h), calc(var(--ha-500-s) * ${e}), ${c}%, ${l});
      --ha-S500${h}-contrast: hsla(var(--ha-h), calc(var(--ha-500-s) * ${e}), calc(((100% - ${c}%))), ${l});
    `}).join("");return`
    ${Ku()}
    ${o}
    --ha-500-h: var(--ha-h);
    --ha-500-s: calc(var(--ha-s) * 1%);
    --ha-500-l: calc(var(--ha-l) * 1%);
    --ha-500: var(--ha);
    ${i}
    ${n}
    ${a}
  `};function ep(e){const{xlg:r,...o}=e;return o}const tp=(0,index_js_eager_.memo)(function({theme:r,darkMode:o,tint:n,hue:a,saturation:s,lightness:c,contrastThreshold:i,breakpoints:l,globalStyles:h,globalComponentStyles:p,emotionCache:f,children:v}){const{useStore:d}=(0,index_js_.useHass)(),m=(0,store.f)(E=>E.theme),b=(0,store.f)(E=>E.setTheme),u=d(E=>E.setBreakpoints),S=d(E=>E.setGlobalComponentStyles),N=d(E=>E.breakpoints),g=Ut(),x=d(E=>E.windowContext)??window;(0,index_js_eager_.useEffect)(()=>{p&&S(p)},[S,p]),(0,index_js_eager_.useEffect)(()=>{b({hue:a,lightness:c,tint:n,saturation:s,darkMode:o,contrastThreshold:i})},[i,o,a,c,s,n,b]);const C=m.darkMode?"dark":"light";return(0,index_js_eager_.useEffect)(()=>{typeof l<"u"&&((0,lodash.isEqual)(l,ep(N))||u(l))},[u,l,N]),(0,index_js_eager_.useEffect)(()=>{Object.entries(g).forEach(([E,T])=>{const j=`bp-${E}`,z=f?.container??null;let D=z?z.ownerDocument?.body??null:x.document.body;D||(console.error("No valid <body> element found. Falling back to document.body. Ensure that emotionCache.container is a node within a document."),D=x.document.body),T?D.classList.add(j):D.classList.remove(j)})},[g,x,f]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Uu,{options:f??{key:"hakit",container:x.document.head},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_browser_esm_js_.Global,{styles:/* @__PURE__ */(0,emotion_react_browser_esm_js_.css)(":root{",helpers_i((0,lodash.merge)(ThemeProvider_theme.r,r))," --is-dark-theme:",m.darkMode?"1":"0",";color-scheme:",C,";--ha-easing:cubic-bezier(0.25, 0.46, 0.45, 0.94);--ha-transition-duration:0.25s;--ha-area-card-expanded-offset:0;--ha-background-opaque:",m.darkMode?"hsla(var(--ha-h), calc(var(--ha-s) * 1%), 10%, 0.9)":"hsla(var(--ha-h), calc(var(--ha-s) * 1%), 20%, 0.7)",";}:root{--ha-h:",m.hue,";--ha-s:",m.saturation,";--ha-l:",m.lightness,";--ha-contrast-threshold:",m.contrastThreshold,"%;--ha-so:calc(var(--ha-s) * 1%);--ha:hsla(var(--ha-h), calc(var(--ha-s) * 1%), calc(var(--ha-l) * 1%), 100%);--mtc-h-A100:1;--mtc-h-A200:1;--mtc-h-A400:1;--mtc-h-A700:1.01;--mtc-s-50:0.91;--mtc-s-100:0.98;--mtc-s-200:0.96;--mtc-s-300:0.95;--mtc-s-400:0.96;--mtc-s-600:1;--mtc-s-700:0.99;--mtc-s-800:0.89;--mtc-s-900:0.86;--mtc-s-A100:0.89;--mtc-s-A200:0.98;--mtc-s-A400:0.97;--mtc-s-A700:0.95;--mtc-l-50:0.12;--mtc-l-100:0.3;--mtc-l-200:0.5;--mtc-l-300:0.7;--mtc-l-400:0.86;--mtc-l-600:0.87;--mtc-l-700:0.66;--mtc-l-800:0.45;--mtc-l-900:0.16;--mtc-l-A100:0.76;--mtc-l-A200:0.64;--mtc-l-A400:0.49;--mtc-l-A700:0.44;--mtc-light-h:0;--mtc-light-s:0;--mtc-light-l:100;",Zu(m.tint??constants.Ao.tint,m.darkMode??constants.Ao.darkMode),";}*{box-sizing:border-box;scrollbar-width:thin;scrollbar-color:var(--ha-S500) var(--ha-S200);font-family:var(--ha-font-family);::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0.5);}&::-webkit-scrollbar{width:12px;height:12px;}&::-webkit-scrollbar-track{background:var(--ha-S200);}&::-webkit-scrollbar-thumb{background-color:var(--ha-S500);border-radius:20px;border:3px solid var(--ha-S200);}}html,body{height:100%;width:100%;margin:0;padding:0;}body{-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:transparent;-webkit-overflow-scrolling:touch;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth;background-color:var(--ha-S100);font-family:var(--ha-font-family);font-size:var(--ha-font-size);color:var(--ha-S100-contrast);overflow-x:hidden;overflow-y:var(--ha-hide-body-overflow-y, inherit);}",(0,breakpoints.QX)(N)," ",h??"",";")}),v&&v]})});function Ih(e){return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...ThemeControlsModal_DWBaJmrH_oe({prefix:"ThemeProvider"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(tp,{...e})})}const He=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("span",{target:"eix6b722"})({name:"1p8r5zz",styles:"font-size:0.9rem;color:var(--ha-S100-contrast)"}),Je=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(Row.X,{target:"eix6b721"})({name:"1ygc31c",styles:"font-size:0.8rem;width:3.5rem;height:3.5rem"}),zt=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"eix6b720"})({name:"ve2mh7",styles:"padding:0.5rem;width:100%;background-color:var(--ha-S100);border-radius:0.5rem"});function rp(){const e=(0,store.f)(x=>x.theme),r=(0,store.f)(x=>x.setTheme),{hue:o,saturation:n,lightness:a,tint:s,contrastThreshold:c,darkMode:i}=e,[l,h]=(0,index_js_eager_.useState)(o),[p,f]=(0,index_js_eager_.useState)(a),[v,d]=(0,index_js_eager_.useState)(s),[m,b]=(0,index_js_eager_.useState)(n),[u,S]=(0,index_js_eager_.useState)(i),[N,g]=(0,index_js_eager_.useState)(c),_=(0,index_module.y1)(x=>{r(x)},50,{trailing:!0,leading:!0});return(0,index_js_eager_.useEffect)(()=>{_({hue:l,saturation:m,lightness:p,tint:v,contrastThreshold:N,darkMode:u})},[N,c,u,i,l,o,p,a,_,m,n,v,s]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{fullWidth:!0,gap:"1rem",wrap:"nowrap",style:{padding:"1rem 0"},children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{fullWidth:!0,gap:"1rem",wrap:"nowrap",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zt,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bt,{label:"Shade Tint",description:"Will change the hue tint for the shade colors",min:0,max:1,step:.05,value:v,onChangeComplete:x=>{d(x)}})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zt,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bt,{label:"Contrast Threshold",description:"Changes output calculation for text color",min:0,max:100,step:1,value:N,onChangeComplete:x=>{g(x)}})})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{fullWidth:!0,gap:"1rem",wrap:"nowrap",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zt,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bt,{label:"Saturation",description:"Control the saturation of the color",min:0,max:100,value:m,onChangeComplete:x=>{b(x)}})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zt,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bt,{label:"Lightness",description:"Control how bright the primary colors are",min:0,max:100,value:p,onChangeComplete:x=>{f(x)}})})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(zt,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(bt,{label:"Hue",description:"Change the overall hue of the colors",min:0,max:360,value:l,onChangeComplete:x=>{h(x)}})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{justifyContent:"flex-start",fullWidth:!0,gap:"1rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:"Dark / Light mode"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{tooltipPlacement:"right",title:u?"Change to light mode":"Change to dark mode",icon:u?"ph:moon":"ph:sun",onClick:()=>{S(!u)}})]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{justifyContent:"flex-start",fullWidth:!0,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Alert.b,{children:"Hover over the pallette's below to see the respective css variables."})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Row.X,{wrap:"nowrap",fullWidth:!0,justifyContent:"flex-start",children:[constants.rp.map((x,C)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{gap:"1rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:0===C?"Primary":/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["background-color: var(--ha-",x,");"]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["color: var(--ha-",x,"-contrast);"]})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Je,{style:{color:`var(--ha-${x}-contrast)`,backgroundColor:`var(--ha-${x})`},children:x})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:0===C?"Shade":/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["background-color: var(--ha-S",x,");"]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["color: var(--ha-S",x,"-contrast);"]})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Je,{style:{color:`var(--ha-S${x}-contrast)`,backgroundColor:`var(--ha-S${x})`},children:["S",x]})})]},x)),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{gap:"1rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:"background-color: var(--ha-500);"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:"color: var(--ha-500-contrast);"})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Je,{style:{transform:"scale(1.1)",transformOrigin:"bottom",color:"var(--ha-500-contrast)",backgroundColor:"var(--ha-500)"},children:"500"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:"background-color: var(--ha-S500);"}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)("span",{children:"color: var(--ha-S500-contrast);"})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Je,{style:{transform:"scale(1.1)",transformOrigin:"top",color:"var(--ha-S500-contrast)",backgroundColor:"var(--ha-S500)"},children:"S500"})})]}),constants.Py.map(x=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{gap:"1rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["background-color: var(--ha-",x,");"]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["color: var(--ha-",x,"-contrast);"]})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Je,{style:{color:`var(--ha-${x}-contrast)`,backgroundColor:`var(--ha-${x})`},children:x})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["background-color: var(--ha-S",x,");"]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["color: var(--ha-S",x,"-contrast);"]})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Je,{style:{color:`var(--ha-S${x}-contrast)`,backgroundColor:`var(--ha-S${x})`},children:["S",x]})})]},x))]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{fullWidth:!0,justifyContent:"flex-start",children:constants.Lr.map((x,C)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{gap:"1rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:0===C?"Accent":/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["background-color: var(--ha-",x,");"]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["color: var(--ha-",x,"-contrast);"]})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Je,{style:{color:`var(--ha-${x}-contrast)`,backgroundColor:`var(--ha-${x})`},children:x})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:0===C?"Shade":/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["background-color: var(--ha-S",x,");"]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["color: var(--ha-S",x,"-contrast);"]})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Je,{style:{color:`var(--ha-S${x}-contrast)`,backgroundColor:`var(--ha-S${x})`},children:["S",x]})})]},x))}),["info","success","error","warning"].map((x,C)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Row.X,{fullWidth:!0,justifyContent:"flex-start",children:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1].map((E,T)=>{const j=1===E?"":`-a${T+1}`;return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{gap:"1rem",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(He,{children:0===T?(0,lodash.capitalize)(x):/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:"\xa0"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(Ne,{placement:"top",title:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Column.s,{alignItems:"flex-start",children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["background-color: var(--ha-",x,"-color",j,");"]}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)("span",{children:["color: var(--ha-",x,"-color",j,"-contrast);"]})]}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(Je,{style:{color:`var(--ha-${x}-color${j}-contrast)`,backgroundColor:`var(--ha-${x}-color${j})`},children:[j,1===E?E:""]})})]},`${E}-${x}-${C}`)})},C))]})}const ThemeControlsModal_DWBaJmrH_op=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)("div",{target:"e1f4ouvq0"})({name:"a3s68x",styles:"position:fixed;top:1rem;right:1rem;z-index:1"});function Ah(){const[e,r]=(0,index_js_eager_.useState)(!1);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.a)(emotion_react_jsx_runtime_browser_esm_Tq_btErF.F,{children:[/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH_op,{children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ve,{onClick:()=>r(!0),tooltipPlacement:"left",title:(0,index_js_.localize)("theme"),icon:"mdi:color"})}),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH_rn,{description:"This interface showcases how the colors will behave and provides easy to access css variables",open:e,title:(0,index_js_.localize)("theme"),onClose:()=>{r(!1)},children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(rp,{})})]})}},2404:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>ee,a:()=>te,j:()=>re});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3257);var _emotion_cache__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6300);var _emotion_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(444);var _emotion_serialize__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8871);var _emotion_use_insertion_effect_with_fallbacks_browser_esm_o5bKZLsy_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4429);var react_is__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9864);var T,h;function L1(){if(h)return T;h=1;var a=react_is__WEBPACK_IMPORTED_MODULE_4__,r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[a.ForwardRef]=e,c[a.Memo]=i;function s(o){return a.isMemo(o)?i:c[o.$$typeof]||r}var g=Object.defineProperty,f=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols,I=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,E=Object.prototype;function N(o,l,S){if("string"!=typeof l){if(E){var p=_(l);p&&p!==E&&N(o,p,S)}var d=f(l);n&&(d=d.concat(n(l)));for(var j=s(o),x=s(l),P=0;P<d.length;++P){var v=d[P];if(!t[v]&&!(S&&S[v])&&!(x&&x[v])&&!(j&&j[v])){var A=I(l,v);try{g(o,v,A)}catch{}}}}return o}return T=N}L1();var w=/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_1__.createContext(typeof HTMLElement<"u"?/* @__PURE__ */(0,_emotion_cache__WEBPACK_IMPORTED_MODULE_2__.Z)({key:"css"}):null);w.Provider;var Y=function(r){return/* @__PURE__ */(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(t,e){var i=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(w);return r(t,i,e)})},J=/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_1__.createContext({}),y={}.hasOwnProperty,O="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",R=function(r,t){var e={};for(var i in t)y.call(t,i)&&(e[i]=t[i]);return e[O]=r,e},K=function(r){var t=r.cache,e=r.serialized,i=r.isStringTag;return(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_5__.hC)(t,e,i),(0,_emotion_use_insertion_effect_with_fallbacks_browser_esm_o5bKZLsy_js__WEBPACK_IMPORTED_MODULE_3__.u)(function(){return(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_5__.My)(t,e,i)}),null},U=/* @__PURE__ */Y(function(a,r,t){var e=a.css;"string"==typeof e&&void 0!==r.registered[e]&&(e=r.registered[e]);var i=a[O],c=[e],s="";"string"==typeof a.className?s=(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_5__.fp)(r.registered,c,a.className):null!=a.className&&(s=a.className+" ");var g=(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_6__.O)(c,void 0,react__WEBPACK_IMPORTED_MODULE_1__.useContext(J));s+=r.key+"-"+g.name;var f={};for(var n in a)y.call(a,n)&&"css"!==n&&n!==O&&(f[n]=a[n]);return f.className=s,t&&(f.ref=t),/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_1__.createElement(K,{cache:r,serialized:g,isStringTag:"string"==typeof i}),/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_1__.createElement(i,f))}),F=U,ee=react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,re=function(r,t,e){return y.call(t,"css")?react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(F,R(r,t),e):react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(r,t,e)},te=function(r,t,e){return y.call(t,"css")?react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs(F,R(r,t),e):react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs(r,t,e)}},455:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>Q});var _emotion_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6536);var _emotion_serialize__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8871);var _emotion_use_insertion_effect_with_fallbacks_browser_esm_o5bKZLsy_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4429);var _emotion_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(444);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3257);var _emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1068);function S(){return S=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},S.apply(null,arguments)}var q=_emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_3__.Z,B=function(e){return"theme"!==e},T=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?q:B},z=function(e,r,a){var n;if(r){var i=r.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(u){return e.__emotion_forwardProp(u)&&i(u)}:i}return"function"!=typeof n&&a&&(n=e.__emotion_forwardProp),n},G=function(e){var r=e.cache,a=e.serialized,n=e.isStringTag;return(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_4__.hC)(r,a,n),(0,_emotion_use_insertion_effect_with_fallbacks_browser_esm_o5bKZLsy_js__WEBPACK_IMPORTED_MODULE_1__.u)(function(){return(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_4__.My)(r,a,n)}),null},Q=function s(e,r){var a=e.__emotion_real===e,n=a&&e.__emotion_base||e,i,u;void 0!==r&&(i=r.label,u=r.target);var p=z(e,r,a),F=p||T(n),P=!F("as");return function(){var d=arguments,l=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==i&&l.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)l.push.apply(l,d);else{var b=d[0];l.push(b[0]);for(var E=d.length,v=1;v<E;v++)l.push(d[v],b[v])}var o=(0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.withEmotionCache)(function(t,f,_){var w=P&&t.as||n,m="",C=[],h=t;if(null==t.theme){h={};for(var N in t)h[N]=t[N];h.theme=react__WEBPACK_IMPORTED_MODULE_2__.useContext(_emotion_react__WEBPACK_IMPORTED_MODULE_0__.ThemeContext)}"string"==typeof t.className?m=(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_4__.fp)(f.registered,C,t.className):null!=t.className&&(m=t.className+" ");var O=(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_5__.O)(l.concat(C),f.registered,h);m+=f.key+"-"+O.name,void 0!==u&&(m+=" "+u);var I=P&&void 0===p?T(w):F,g={};for(var y in t)P&&"as"===y||I(y)&&(g[y]=t[y]);return g.className=m,_&&(g.ref=_),/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_2__.createElement(G,{cache:f,serialized:O,isStringTag:"string"==typeof w}),/* @__PURE__ */react__WEBPACK_IMPORTED_MODULE_2__.createElement(w,g))});return o.displayName=void 0!==i?i:"Styled("+("string"==typeof n?n:n.displayName||n.name||"Component")+")",o.defaultProps=e.defaultProps,o.__emotion_real=o,o.__emotion_base=n,o.__emotion_styles=l,o.__emotion_forwardProp=p,Object.defineProperty(o,"toString",{value:function(){return"."+u}}),o.withComponent=function(t,f){var _=s(t,S({},r,f,{shouldForwardProp:z(o,f,!0)}));return _.apply(void 0,l)},o}}},4429:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>c});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3257);var n=function(a){return a()},s=react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect?react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect:!1,c=s||n},1051:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>I});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3257);var _hakit_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3629);const w=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)("video",{target:"e19y1x090"})({name:"1082qq3",styles:"display:block;width:100%"}),I=(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(({src:v,type:u,onVideoStateChange:a,...y},m)=>{const n=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_2__.useImperativeHandle)(m,()=>n.current);const t=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(e=>{a&&a(e)},[a]);return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{const e=n.current,r=()=>{t("canplay")},s=()=>{t("canplaythrough")},o=()=>{t("waiting")},d=()=>{t("stalled")},i=()=>{t("loadeddata")},l=()=>{t("play")},c=()=>{t("playing")},p=()=>{t("pause")};return e&&(e.addEventListener("canplay",r),e.addEventListener("canplaythrough",s),e.addEventListener("waiting",o),e.addEventListener("stalled",d),e.addEventListener("loadeddata",i),e.addEventListener("playing",c),e.addEventListener("play",l),e.addEventListener("pause",p)),()=>{e&&(e.removeEventListener("canplay",r),e.removeEventListener("canplaythrough",s),e.removeEventListener("waiting",o),e.removeEventListener("stalled",d),e.removeEventListener("loadeddata",i),e.removeEventListener("playing",c),e.removeEventListener("play",l),e.removeEventListener("pause",p))}},[t]),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)(w,{ref:n,...y,children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("source",{src:v,type:u}),(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("format_description")]})});I.displayName="VideoPlayer"},1228:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>E});const v=(n,t)=>{switch(t){case"ft/s":return .3048*n;case"km/h":return n/3.6;case"kn":return .514444*n;case"m/s":return n;case"mph":return .44704*n;default:throw new Error("Unsupported wind speed unit")}},f=(n,t)=>{switch(t){case"\xb0C":return n;case"\xb0F":return(n-32)*.5555555555555556;default:throw new Error("Unsupported temperature unit")}},i=(n,t)=>{switch(t){case"\xb0C":return n;case"\xb0F":return 9*n/5+32;default:throw new Error("Unsupported target temperature unit")}};function k(n,t,c){if(c>100||c<0)return null;const e=f(n,t),r=c,o=-8.78469475556,s=1.61139411,u=2.33854883889,h=-.14611605,T=-.012308094,w=-.0164248277778,C=.002211732,x=72546e-8,I=-3582e-9,l=e**2,a=r**2,d=o+s*e+u*r+h*e*r+T*l+w*a+C*l*r+x*e*a+I*l*a;return i(d,t)}function p(n,t,c,e){const r=m(v(c,e)),o=f(n,t),s=r**.16,u=13.12+.6215*o-11.37*s+.3965*o*s;return i(u,t)}function m(n){return 3.6*n}function E(n,t,c,e,r){if(!n||!t||!c||!e||!r)return null;const o=f(n,t),s=k(n,t,r),u=p(n,t,c,e);return{feelsLike:o>=27?s:o<=10?u:n,heatIndex:s,windChill:u}}},1364:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>x});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var _emotion_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6536);var _iconify_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4445);const p={info:"mdi:information-outline",warning:"mdi:alert-outline",error:"mdi:alert-circle-outline",success:"mdi:check-circle-outline"},h=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)("div",{target:"e1jy14t0"})({name:"1e4y0tn",styles:'position:relative;padding:8px;display:flex;&:after{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;content:"";border-radius:6px;}.icon{z-index:1;}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:left;}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0;}.title{font-weight:bold;font-size:0.8rem;line-height:1rem;color:var(--ha-S50-contrast);}.description{margin-top:2px;font-weight:normal;font-size:0.75rem;line-height:1rem;color:var(--ha-S100-contrast);}&.no-title{align-items:center;justify-content:center;.description{margin-top:0;}.icon{align-self:center;}}&.info>.icon{color:var(--ha-info-color);}&.info::after{background-color:var(--ha-info-color-a1);}&.warning>.icon{color:var(--ha-warning-color);}&.warning::after{background-color:var(--ha-warning-color-a1);}&.error>.icon{color:var(--ha-error-color);}&.error::after{background-color:var(--ha-error-color-a1);}&.success>.icon{color:var(--ha-success-color);}&.success::after{background-color:var(--ha-success-color-a1);}'});function x({title:r="",description:e="",type:n="info",onClick:a,className:c,children:t,cssStyles:l,...s}){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)(h,{css:/* @__PURE__ */(0,_emotion_react__WEBPACK_IMPORTED_MODULE_2__.css)(l??"",";"),onClick:a,className:`alert issue-type ${r?"":"no-title"} ${n} ${c??""}`,role:"alert",...s,children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_iconify_react__WEBPACK_IMPORTED_MODULE_3__.JO,{className:"icon",icon:p[n]}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"content",children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:"main-content",children:[r?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"title",children:r}):"",e?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"description",children:e}):"",t&&t]})})]})}},6962:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>u});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var framer_motion__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(720);var _emotion_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6536);var _emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1068);const r=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.div,{shouldForwardProp:t=>(0,_emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_4__.Z)(t),target:"e1vx4js00"})("display:flex;flex-direction:column;flex-wrap:",({wrap:t})=>t||"wrap",";justify-content:",({justifyContent:t})=>t||"center",";align-items:",({alignItems:t})=>t||"center",";",({justifyContent:t})=>`
    --stretch: ${"stretch"===t?"100%":"false"};
  `," ",t=>"string"==typeof t.gap&&`
    gap: ${t.gap};
    --gap: ${t.gap??"0px"};
  `," ",t=>t.fullHeight&&"height: 100%;"," ",t=>t.fullWidth&&"width: 100%;",";");function u(t){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(r,{...t,css:/* @__PURE__ */(0,_emotion_react__WEBPACK_IMPORTED_MODULE_2__.css)(t.cssStyles??"",";"),className:`${t.className??""} ${t.fullHeight?"full-height":""} ${t.fullWidth?"full-width":""} ${t.justifyContent?t.justifyContent:"center"} ${t.alignItems?t.alignItems:"center"} ${t.wrap?t.wrap:"wrap"}`})}},2587:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{gq:()=>s,A0:()=>u,n0:()=>d,nL:()=>l,Cm:()=>i,PJ:()=>_});var index_js_=__webpack_require__(3629);var R=/* @__PURE__ */(M=>(M[M.ARM_HOME=1]="ARM_HOME",M[M.ARM_AWAY=2]="ARM_AWAY",M[M.ARM_NIGHT=4]="ARM_NIGHT",M[M.TRIGGER=8]="TRIGGER",M[M.ARM_CUSTOM_BYPASS=16]="ARM_CUSTOM_BYPASS",M[M.ARM_VACATION=32]="ARM_VACATION",M))(R||{});const s={armed_home:{feature:R.ARM_HOME,service:"alarm_arm_home",icon:"mdi:home"},armed_away:{feature:R.ARM_AWAY,service:"alarm_arm_away",icon:"mdi:lock"},armed_night:{feature:R.ARM_NIGHT,service:"alarm_arm_night",icon:"mdi:moon-waning-crescent"},armed_vacation:{feature:R.ARM_VACATION,service:"alarm_arm_vacation",icon:"mdi:airplane"},armed_custom_bypass:{feature:R.ARM_CUSTOM_BYPASS,service:"alarm_arm_custom_bypass",icon:"mdi:shield"},disarmed:{service:"alarm_disarm",icon:"mdi:shield-off"},triggered:{feature:R.TRIGGER,service:"",icon:"mdi:alert"},pending:{feature:R.TRIGGER,service:"",icon:"mdi:clock"},arming:{feature:R.TRIGGER,service:"",icon:"mdi:clock"}},_=(r,e)=>{const m=e?.(r);if(m)return m;switch(r){case"disarmed":return"var(--ha-error-color)";case"armed_away":return"var(--ha-success-color)";case"armed_home":return"var(--ha-success-color)";case"armed_custom_bypass":return"var(--ha-success-color)";case"armed_night":return"var(--ha-success-color)";case"armed_vacation":return"var(--ha-success-color)";default:return"var(--ha-warning-color)"}},d=["arm_home","arm_away"],i={arm_home:"armed_home",arm_away:"armed_away",arm_night:"armed_night",arm_vacation:"armed_vacation",arm_custom_bypass:"armed_custom_bypass",disarm:"disarmed",triggered:"triggered",pending:"pending",arming:"arming"},u=(r,e)=>e?.[r]??(0,index_js_.localize)("arm_custom_bypass"===r?"custom_bypass":r),l=(r,e)=>e.filter(m=>r&&(0,index_js_.supportsFeatureFromAttributes)(r.attributes,s[i[m]].feature||0))},8935:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>b});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var _hakit_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3629);const h=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)("div",{target:"eih3n4n0"})({name:"1nj368h",styles:"font-size:57px;line-height:1.12;letter-spacing:-0.25px;.value{display:flex;margin:0;direction:ltr;}.displayed-value{display:inline-flex;flex-direction:row;align-items:flex-end;}.addon{display:flex;flex-direction:column-reverse;padding:4px 0;height:100%;}.addon.bottom{flex-direction:column;align-items:baseline;}.addon.bottom .unit{margin-bottom:4px;margin-left:2px;}.value .decimal{font-size:0.42em;line-height:1.33;}.value .unit{font-size:0.33em;line-height:1.26;}.visually-hidden{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0;}"});function b({value:l,unit:t,unitPosition:o="top",formatOptions:d={}}){const i=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_2__.formatNumber)(l,d),[a]=i.includes(".")?i.split("."):i.split(","),s=i.replace(a,""),r=`${l}${t?`${t}`:""}`;return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(h,{children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("p",{className:"value",children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("span",{"aria-hidden":"true",className:"displayed-value",children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("span",{children:a}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("span",{className:`addon ${"bottom"===o?"bottom":""}`,children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("span",{className:"decimal",children:s}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("span",{className:"unit",children:t})]})]}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("span",{className:"visually-hidden",children:r})]})})}},845:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Dl:()=>A,Ep:()=>M,T1:()=>T,ZS:()=>E,Zs:()=>c,b$:()=>a,bN:()=>i,gD:()=>_,hB:()=>t,oM:()=>w,ot:()=>f,pi:()=>s,tO:()=>l,v4:()=>I,yr:()=>n});const r=["auto","heat_cool","heat","cool","dry","fan_only","off"],f="\xb0C",_="\xb0F",T="none";var s=/* @__PURE__ */(o=>(o[o.TARGET_TEMPERATURE=1]="TARGET_TEMPERATURE",o[o.TARGET_TEMPERATURE_RANGE=2]="TARGET_TEMPERATURE_RANGE",o[o.TARGET_HUMIDITY=4]="TARGET_HUMIDITY",o[o.FAN_MODE=8]="FAN_MODE",o[o.PRESET_MODE=16]="PRESET_MODE",o[o.SWING_MODE=32]="SWING_MODE",o[o.AUX_HEAT=64]="AUX_HEAT",o))(s||{});const d=r.reduce((o,e,m)=>(o[e]=m,o),{}),E=(o,e)=>d[o]-d[e],t={cooling:"cool",drying:"dry",fan:"fan_only",preheating:"heat",heating:"heat",idle:"off",off:"off",defrosting:"heat"},A={cooling:"mdi:snowflake",drying:"mdi:water-percent",fan:"mdi:fan",heating:"mdi:fire",idle:"mdi:clock-outline",off:"mdi:power",preheating:"mdi:heat-wave",defrosting:"mdi:snowflake-alert"},a={cool:"mdi:snowflake",dry:"mdi:water-percent",fan_only:"mdi:fan",auto:"mdi:thermostat-auto",heat:"mdi:fire",off:"mdi:power",heat_cool:"mdi:sun-snowflake-variant"},M=o=>a[(o??"").toLowerCase()],i={away:"mdi:account-arrow-right",boost:"mdi:rocket-launch",comfort:"mdi:sofa",eco:"mdi:leaf",home:"mdi:home",sleep:"mdi:bed",activity:"mdi:motion-sensor"},w=o=>(o??"").toLowerCase()in i?i[o.toLowerCase()]:"mdi:circle-medium",n={on:"mdi:fan",off:"mdi:fan-off",auto:"mdi:fan-auto",low:"mdi:speedometer-slow",medium:"mdi:speedometer-medium",mid:"mdi:speedometer-medium",high:"mdi:speedometer",middle:"mdi:speedometer-medium",focus:"mdi:target",diffuse:"mdi:weather-windy"},I=o=>(o??"").toLowerCase()in n?n[o.toLowerCase()]:"mdi:circle-medium",c={on:"mdi:arrow-oscillating",off:"mdi:arrow-oscillating-off",vertical:"mdi:arrow-up-down",horizontal:"mdi:arrow-left-right",both:"mdi:arrow-all"},l=o=>(o??"").toLowerCase()in c?c[o.toLowerCase()]:"mdi:circle-medium"},4087:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>H});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);__webpack_require__(3257);var _hakit_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3629);__webpack_require__(3042);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9672);var react_error_boundary__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4511);__webpack_require__(6536);__webpack_require__(4085);__webpack_require__(2587);__webpack_require__(6486);__webpack_require__(3836);__webpack_require__(845);__webpack_require__(8935);__webpack_require__(4445);__webpack_require__(1051);__webpack_require__(3102);__webpack_require__(8930);__webpack_require__(1364);__webpack_require__(5274);__webpack_require__(499);function d({entity:r,onChange:i,reversed:m=!0,...p}){const t=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_2__.useEntity)(r),e=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_2__.isUnavailableState)(t.state);return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_4__.X,{disabled:e,...p,reversed:m,checked:t.state===_hakit_core__WEBPACK_IMPORTED_MODULE_2__.ON,onChange:n=>{i&&i(t,n),t.service.toggle()}})}function H(r){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(react_error_boundary__WEBPACK_IMPORTED_MODULE_19__.SV,{...(0,_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_4__.f)({prefix:"SwitchControls"}),children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(d,{...r})})}},3042:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>ar});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3257);var _iconify_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4445);var _hakit_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3629);const K=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)("div",{target:"eljae2g0"})({name:"w9zp4k",styles:"--padding-horizontal:14px;--padding-horizontal-icon:8px;--padding-vertical:16px;--floating-label-padding-horizontal:4px;--margin-vertical:16px;--transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);--transition-duration:0.4s;--border-width:1px;--border-width-active:2px;--icon-size:24px;--icon-margin:12px;--border-radius:4px;--font-size:16;--label-font-size-active:12;--label-scale-factor:calc(var(--label-font-size-active) / var(--font-size));--label-scale-width:calc((100% - var(--padding-horizontal) * 2 - var(--floating-label-padding-horizontal)) / var(--label-scale-factor));margin:var(--margin-vertical) 0;&:disabled,&.disabled{cursor:not-allowed;opacity:0.8;}.field-wrapper{align-items:center;display:flex;flex-direction:row;position:relative;}.field-wrapper input,.field-wrapper label{font-size:calc(var(--font-size) * 1px);}.field-wrapper input{background:transparent;border:none;color:var(--ha-S200-contrast);padding:var(--padding-vertical) var(--padding-horizontal);outline:none;width:100%;}.field-wrapper input:-moz-ui-invalid{box-shadow:none!important;}.field-wrapper i{color:var(--ha-S200-contrast);margin:0 var(--icon-margin);pointer-events:none;width:var(--icon-size);}.field-wrapper label{color:var(--ha-S400-contrast);pointer-events:none;}.field-wrapper label.floating{left:var(--padding-horizontal);line-height:calc((var(--label-font-size-active) * 1px) * 1.45);max-width:calc(100% - var(--padding-horizontal) * 2);overflow:hidden;position:absolute;text-overflow:ellipsis;transition-duration:var(--transition-duration);transform-origin:0 0;transition-property:color,font-size,padding,transform,max-width,left;transition-timing-function:var(--transition-timing-function);white-space:nowrap;}.field-wrapper label.reference{max-width:var(--label-scale-width);padding:0 var(--floating-label-padding-horizontal) 0 0;transform:scale3d(var(--label-scale-factor), var(--label-scale-factor), 1);}.field-wrapper._leading-icon,.field-wrapper._trailing-icon label.floating:not(.reference){max-width:calc(100% - var(--icon-size) + (var(--icon-margin) * 2) + var(--padding-horizontal));}.field-wrapper._leading-icon._trailing-icon label.floating:not(.reference){max-width:calc(100% - ((var(--icon-size) + (var(--icon-margin) * 2)) * 2));}.field-wrapper._leading-icon input{padding-left:0;}.field-wrapper._leading-icon label.floating:not(.reference){left:calc(var(--icon-size) + (var(--icon-margin) * 2));}.field-wrapper._trailing-icon input{padding-right:0;}.borders{display:flex;flex-direction:row;height:100%;pointer-events:none;position:absolute;width:100%;}.borders .border{border-color:var(--ha-S300);border-style:solid;transition-duration:var(--transition-duration);transition-property:border-color,width;transition-timing-function:var(--transition-timing-function);}.borders .middle{display:flex;flex:1 1 auto;flex-direction:column;}.borders .middle .top-borders{display:flex;flex-direction:row;justify-content:space-between;}.borders .middle .top-borders .border{border-width:var(--border-width) 0 0;flex:unset;}.borders .middle .top-borders .border.start{width:calc(var(--label-active-width) / 2);}.borders .middle .border{flex:1 1 auto;width:100%;}.borders .middle .border.bottom{border-width:0 0 var(--border-width) 0;}.borders .left,.borders .right{width:calc(var(--padding-horizontal) - var(--floating-label-padding-horizontal) - var(--border-width));}.borders .left{border-radius:var(--border-radius) 0 0 var(--border-radius);border-width:var(--border-width) 0 var(--border-width) var(--border-width);}.borders .right{border-radius:0 var(--border-radius) var(--border-radius) 0;border-width:var(--border-width) var(--border-width) var(--border-width) 0;}.field-wrapper._floating-label._focused .borders .top-borders .start,.field-wrapper._floating-label._has-value .borders .top-borders .start{width:0;}.field-wrapper._floating-label._focused .borders .top-borders .end,.field-wrapper._floating-label._has-value .borders .top-borders .end{width:calc(100% - var(--label-active-width, 0) - var(--floating-label-padding-horizontal));}.field-wrapper._floating-label._focused label.floating:not(.reference),.field-wrapper._floating-label._has-value label.floating:not(.reference){left:var(--padding-horizontal);max-width:var(--label-scale-width);padding:0 var(--floating-label-padding-horizontal) 0 0;transform:translate3d(0, calc(-100% - var(--label-font-size-active) * 0.5px), 0) scale3d(var(--label-scale-factor), var(--label-scale-factor), 1);}.field-wrapper._focused label.floating{color:var(--ha-300);}.field-wrapper._focused .borders .top-borders .border{border-width:var(--border-width-active) 0 0;}.field-wrapper._focused .borders .border{border-color:var(--ha-300);}.field-wrapper._focused .borders .border.bottom{border-width:0 0 var(--border-width-active) 0;}.field-wrapper._focused .borders .border.left{border-width:var(--border-width-active) 0 var(--border-width-active) var(--border-width-active);}.field-wrapper._focused .borders .border.right{border-width:var(--border-width-active) var(--border-width-active) var(--border-width-active) 0;}.field-wrapper._invalid .borders .border{border-color:var(--ha-alert-error-color);}.field-wrapper._invalid label.floating{color:var(--ha-alert-error-color);}.hints{color:var(--ha-S400-contrast);display:flex;flex-direction:row;font-size:12px;margin:4px 12px 0 12px;}.hints .messages{flex:1 1 auto;}.hints .error{color:var(--ha-alert-error-color);}.hints .char-counter{margin:0 0 0 12px;}"}),ar=({type:C="text",value:b="",errorMessage:j=null,label:i,placeholder:x,leadingIcon:f,trailingIcon:v,minLength:F,maxLength:h,min:R,max:k,helperText:l,charCounter:V,inputProps:O,className:B,disabled:z,...D})=>{const{useStore:I}=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_4__.useHass)(),w=I(r=>r.windowContext)??window,[_,y]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[n,N]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(b),[s,M]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(j),[t,S]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),d=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),u=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),o=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),c=()=>{if(u.current&&d.current){const r=u.current.getBoundingClientRect();d.current.style.setProperty("--label-active-width",`${r.width}px`)}else d.current&&d.current.style.setProperty("--label-active-width","0px")};(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>(c(),w.addEventListener("resize",c),()=>{w.removeEventListener("resize",c)}),[w]);const P=()=>{o.current?.focus()},T=()=>{y(!0),c()},$=()=>{y(!1)},H=r=>{N(r.target.value),L1()},L1=()=>{o.current&&S(o.current.checkValidity())},q=()=>{const r=[];return i&&r.push("_floating-label"),f&&r.push("_leading-icon"),v&&r.push("_trailing-icon"),t||r.push("_invalid"),n&&r.push("_has-value"),_&&r.push("_focused"),z&&r.push("disabled"),r.join(" ")},G=()=>s||l||V,W=r=>{o.current&&(o.current.setCustomValidity(r),S(!1),M(r))};return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{N(b)},[b]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{t||W("This field is required")},[t]),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)(K,{className:`outline-input ${B??""}`,...D,ref:d,children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:`field-wrapper ${q()}`,onClick:P,children:[i?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("label",{className:"floating",children:i}):null,i?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("label",{ref:u,className:"floating reference",style:{opacity:0,pointerEvents:"none",visibility:"hidden",zIndex:-0x2540be3ff},children:i}):null,f?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_iconify_react__WEBPACK_IMPORTED_MODULE_3__.JO,{className:"icon leading",icon:f,style:{color:"var(--ha-500-contrast)"}}):null,/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("input",{ref:o,type:C,minLength:F,maxLength:h,min:R,max:k,placeholder:x,value:n||"",onChange:H,onFocus:T,onBlur:$,disabled:z,...O}),v?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_iconify_react__WEBPACK_IMPORTED_MODULE_3__.JO,{className:"icon trailing",icon:v,style:{color:"var(--ha-500-contrast)"}}):null,/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:"borders",children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"border left"}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:"middle",children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:"top-borders",children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"border start"}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"border end"})]}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"border bottom"})]}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"border right"})]})]}),G()?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:"hints",children:[s||l?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:"messages",children:[!t&&s?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"error",children:s}):null,t&&l?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("div",{className:"helper",children:l}):null]}):null,h?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)("div",{className:"char-counter",children:[n?n.length:0,"/",h]}):null]}):null]})}},5774:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalAlarmControls:()=>m,default:()=>m});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);function m(o){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.n,{...o})}},2412:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalCameraControls:()=>k,default:()=>k});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);var _Row_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5246);var _hakit_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3629);var react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3257);function k({entity:l,onStateChange:t,...r}){const o=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.useEntity)(l),s=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.isUnavailableState)(o.state);return(0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{t("loading")},[t]),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_Row_index_js__WEBPACK_IMPORTED_MODULE_2__.X,{fullWidth:!0,children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.I,{entity:l,...r,onStateChange:n=>{let e=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("loading");switch(n){case"playing":case"play":e=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("play");break;case"loadeddata":case"waiting":e=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("loading");break;case"pause":e=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("pause");break;case"stalled":e=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("buffering");break;case"canplaythrough":case"canplay":e=(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("nothing_playing");break}t(s?(0,_hakit_core__WEBPACK_IMPORTED_MODULE_3__.localize)("unavailable"):e)}})})}},822:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalClimateControls:()=>m,default:()=>m});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);function m(o){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.k,{...o})}},7848:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalCoverControls:()=>m,default:()=>m});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);var _Row_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5246);function m(r){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_Row_index_js__WEBPACK_IMPORTED_MODULE_2__.X,{fullWidth:!0,children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.o,{...r})})}},8528:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalLightControls:()=>i,default:()=>i});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);function i(o){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.L,{...o})}},9844:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalMediaPlayerControls:()=>l,default:()=>l});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);function l(o){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.M,{...o})}},7569:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalPersonControls:()=>f,default:()=>f});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);function f({entity:o,mapHeight:r,...s}){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.p,{entity:o,mapHeight:r,...s})}},3060:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalSwitchControls:()=>p,default:()=>p});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _hakit_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3629);var _Row_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5246);var _Entity_Switch_SwitchControls_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4087);function p({entity:o,onStateChange:r,...a}){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_Row_index_js__WEBPACK_IMPORTED_MODULE_2__.X,{fullWidth:!0,children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_Entity_Switch_SwitchControls_index_js__WEBPACK_IMPORTED_MODULE_3__.$,{entity:o,...a,onChange:(i,l)=>{r((0,_hakit_core__WEBPACK_IMPORTED_MODULE_1__.isUnavailableState)(i.state)?(0,_hakit_core__WEBPACK_IMPORTED_MODULE_1__.localize)("unavailable"):!0===l?"On":"Off")}})})}},8486:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalVacuumControls:()=>m,default:()=>m});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);function m(o){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.O,{...o})}},1221:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ModalWeatherControls:()=>u,default:()=>u});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9672);var _Row_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5246);function u({entity:r,...t}){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_Row_index_js__WEBPACK_IMPORTED_MODULE_2__.X,{fullWidth:!0,children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_ThemeControlsModal_DWBaJmrH_js__WEBPACK_IMPORTED_MODULE_1__.W,{entity:r,...t,disableScale:!0,disableRipples:!0,disableActiveState:!0,disableColumns:!0})})}},3102:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{aE:()=>p,DY:()=>C});var emotion_react_jsx_runtime_browser_esm_Tq_btErF=__webpack_require__(2404);var index_js_eager_=__webpack_require__(3257);var esm=__webpack_require__(8812);var jsx_runtime=__webpack_require__(5893);var react_index_js_eager_=__webpack_require__(7771);var MotionConfigContext=__webpack_require__(1353);var filter_props=__webpack_require__(352);var use_constant=__webpack_require__(8217);"use client";function MotionConfig({children,isValidProp,...config}){isValidProp&&(0,filter_props.K)(isValidProp);config={...(0,react_index_js_eager_.useContext)(MotionConfigContext._),...config};config.isStatic=(0,use_constant.h)(()=>config.isStatic);const context=(0,react_index_js_eager_.useMemo)(()=>config,[JSON.stringify(config.transition),config.transformPagePoint,config.reducedMotion]);return(0,jsx_runtime.jsx)(MotionConfigContext._.Provider,{value:context,children:children})}const p=(0,esm.Ue)(t=>({setModalAnimation:o=>t({modalAnimation:o}),setAnimationDuration:o=>t({animationDuration:o})})),A=(0,index_js_eager_.createContext)({});function C({children:t,options:o={}}){const{animationDuration:n,modalAnimation:i,...s}=o,a=(0,index_js_eager_.useRef)(!("number"==typeof n||"function"==typeof i)),{setAnimationDuration:e,setModalAnimation:r}=p();return(0,index_js_eager_.useEffect)(()=>{"number"==typeof n&&e(n),"function"==typeof i&&r(i),a.current=!0},[r,e,n,i]),/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(MotionConfig,{...s,children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(A.Provider,{value:o,children:a.current&&t})})}},8930:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>A});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3257);var _emotion_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6536);var _iconify_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4445);const T=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)("div",{target:"e3cnprl2"})({name:"bjn8wh",styles:"position:relative"}),B=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)("div",{target:"e3cnprl1"})({name:"1vojj8m",styles:"position:absolute;top:0;right:0;bottom:0;left:0;transition-property:background-image,opacity;opacity:0"}),C=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.JO,{target:"e3cnprl0"})({name:"2bb5y2",styles:"opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:2rem"}),A=({lazy:m,src:c,className:E,style:I,innerStyle:s,duration:k,ease:b,children:O,onLoad:a,onLoading:u,onError:l,onClick:_,cssStyles:h,...j})=>{const p=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),t=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),e=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),r=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),o=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),g=k??300,i=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{c&&(o.current=new Image,"function"==typeof u&&u(),e.current&&(e.current.style.opacity="0",e.current.style.backgroundImage=`url(${c})`),t.current&&(t.current.style.opacity="1"),o.current.onload=()=>{e.current&&(e.current.style.opacity="1"),t.current&&(t.current.style.opacity="0"),"function"==typeof a&&a()},o.current.onerror=()=>{e.current&&(e.current.style.opacity="1"),t.current&&(t.current.style.opacity="0"),"function"==typeof l&&l()},o.current.src=c)},[c,u,a,l]),y=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{r.current=new IntersectionObserver(S=>{S.forEach(w=>{w.isIntersecting&&(i(),r.current&&r.current.disconnect())})}),p.current&&r.current.observe(p.current)},[i]);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>(typeof window<"u"&&m&&"IntersectionObserver"in window?y():i(),()=>{r.current&&r.current.disconnect(),o.current&&(o.current.onload=null)}),[m,r,o,y,i]);const D=s?.backgroundSize||"cover",P=s?.backgroundPosition||"center",R=s?.backgroundRepeat||"no-repeat";return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)(T,{css:/* @__PURE__ */(0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.css)(h??"",";"),className:`preload-image ${E??""}`,style:{...I},ref:p,...j,onClick:_,children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(B,{className:"preloader-background-image",ref:e,style:{backgroundSize:D,backgroundPosition:P,backgroundRepeat:R,transitionProperty:"background-image, opacity",transitionDuration:`${g}ms, ${g}ms`,transitionTimingFunction:`${b??"cubic-bezier(0.215, 0.61, 0.355, 1)"}, ${b??"cubic-bezier(0.215, 0.61, 0.355, 1)"}`}}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(C,{ref:t,icon:"eos-icons:three-dots-loading",className:"preloader-loading-icon"}),O]})}},5246:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>g});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var _emotion_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6536);var framer_motion__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(720);var _utils_isValidProp_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(525);const n=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.div,{shouldForwardProp:t=>(0,_utils_isValidProp_js__WEBPACK_IMPORTED_MODULE_4__.z)(t),target:"ev4xl8t0"})("display:flex;flex-direction:row;flex-wrap:",({wrap:t})=>t||"wrap",";justify-content:",({justifyContent:t})=>t||"center",";align-items:",({alignItems:t})=>t||"center",";",({alignItems:t})=>`
    --stretch: ${"stretch"===t?"100%":"false"};
  `," ",t=>"string"==typeof t.gap&&`
    gap: ${t.gap};
    --gap: ${t.gap??"0px"};
  `," ",t=>t.fullHeight&&"height: 100%;"," ",t=>t.fullWidth&&"width: 100%;",";");function g(t){return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(n,{...t,css:/* @__PURE__ */(0,_emotion_react__WEBPACK_IMPORTED_MODULE_2__.css)(t.cssStyles??"",";"),className:`${t.className??""} ${t.fullHeight?"full-height":""} ${t.fullWidth?"full-width":""} ${t.justifyContent?t.justifyContent:"center"} ${t.alignItems?t.alignItems:"center"} ${t.wrap?t.wrap:"wrap"}`})}},9254:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>t,q:()=>o});const o=500,t=100},3836:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>R});var _emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2404);var _emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(455);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3257);var _emotion_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6536);var _constants_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9254);const E=(s,t,o,e)=>{const i=(s-o)/2+o,r=(t-e)/2+e;return[i,r]},N=s=>{if(!s.length)return"";let t,o;const e=0,i=1;let r="",a=s.filter(Boolean)[0];r+=`M ${a[e]},${a[i]}`;for(const c of s)t=c,o=E(a[e],a[i],t[e],t[i]),r+=` ${o[e]},${o[i]}`,r+=` Q${t[e]},${t[i]}`,a=t;return r+=` ${t[e]},${t[i]}`,r},_=/* @__PURE__ */(0,_emotion_styled_base_browser_esm_Dyg8Y4aq_js__WEBPACK_IMPORTED_MODULE_1__.c)("svg",{target:"esztfdy0"})({name:"lth4tv",styles:"display:flex;width:100%;.fill{opacity:0.1;}"});function R({coordinates:s,strokeWidth:t=5,cssStyles:o,className:e,...i}){const[r,a]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{if(s){const f=N(s);a(f)}},[s]);const l=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(`svg-${Math.random().toString(36).substr(2,9)}`).current;return/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_,{className:`${e??""} svg-graph`,width:"100%",height:"100%",viewBox:`0 0 ${_constants_js__WEBPACK_IMPORTED_MODULE_4__.q} ${_constants_js__WEBPACK_IMPORTED_MODULE_4__.e}`,css:/* @__PURE__ */(0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.css)(o??"",";"),...i,children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("g",{children:r&&s?/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.a)(_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.F,{children:[/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("mask",{id:`${l}-fill`,children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("path",{className:"fill",fill:"white",d:`${r} L 500, 100 L 0, 100 z`})}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("rect",{height:"100%",width:"100%",fill:"var(--ha-A400)",mask:`url(#${l}-fill)`}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("mask",{id:`${l}-line`,children:/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("path",{fill:"none",stroke:"var(--ha-A100)",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round",d:r})}),/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)("rect",{height:"100%",width:"100%",fill:"var(--ha-A400)",mask:`url(#${l}-line)`})]}):/* @__PURE__ */(0,_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.j)(_emotion_react_jsx_runtime_browser_esm_Tq_btErF_js__WEBPACK_IMPORTED_MODULE_0__.F,{})})})}},712:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{QX:()=>s,le:()=>m,mq:()=>d,yG:()=>a});const r=[1,2,3,4,5,6,7,8,9,10,11,12],m=n=>{const{xxs:x,xs:t,sm:p,md:i,lg:e}=n;return{xxs:`(max-width: ${x}px)`,xs:`(min-width: ${x+1}px) and (max-width: ${t}px)`,sm:`(min-width: ${t+1}px) and (max-width: ${p}px)`,md:`(min-width: ${p+1}px) and (max-width: ${i}px)`,lg:`(min-width: ${i+1}px) and (max-width: ${e}px)`,xlg:`(min-width: ${e+1}px)`}},d=(n,x)=>n.map(t=>`
    .bp-${t} & {
      ${x}
    }
  `).join(`
`),a=n=>`calc(
    (100% - 11 * var(--gap, 0px)) * ${n} / 12 + (${n} - 1) * var(--gap, 0px)
  )`,s=n=>Object.entries(n).reduce((x,[t])=>{const p=r.map(i=>`
        .bp-${t} {
          .${t}-${i} {
            width: ${a(i)};
          }
        }
      `);return x+p.join(`
`)},"")},5274:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A7:()=>o,Ao:()=>e,Lr:()=>A,ME:()=>s,Py:()=>n,dH:()=>c,jB:()=>T,rp:()=>t});const o="ha",t=["50","100","200","300","400"],n=["600","700","800","900"],A=["A100","A200","A400","A700"],s=3,T=97,c=60/(t.length+1+n.length+A.length),e={darkMode:!0,tint:.8,hue:220,saturation:60,lightness:54,contrastThreshold:65}},499:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>m});var zustand__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8812);var _constants_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5274);const m=(0,zustand__WEBPACK_IMPORTED_MODULE_1__.Ue)(t=>({theme:{hue:_constants_js__WEBPACK_IMPORTED_MODULE_0__.Ao.hue,lightness:_constants_js__WEBPACK_IMPORTED_MODULE_0__.Ao.lightness,tint:_constants_js__WEBPACK_IMPORTED_MODULE_0__.Ao.tint,saturation:_constants_js__WEBPACK_IMPORTED_MODULE_0__.Ao.saturation,darkMode:_constants_js__WEBPACK_IMPORTED_MODULE_0__.Ao.darkMode,contrastThreshold:_constants_js__WEBPACK_IMPORTED_MODULE_0__.Ao.contrastThreshold},setTheme:r=>{t(o=>({theme:{...o.theme,...Object.fromEntries(Object.entries(r).filter(([,s])=>void 0!==s))}}))}}))},3823:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>e});const e={font:{size:"1rem",family:'"Roboto","Helvetica","Arial",sans-serif'},device:{areaCard:{zIndex:20},sidebarCard:{width:{collapsed:"5rem",expanded:"19rem"}}},modal:{width:"40rem",zIndex:21}}},1270:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{ColorPicker:()=>ThemeControlsModal_DWBaJmrH.$,VacuumControls:()=>ThemeControlsModal_DWBaJmrH.O,computePresetModeIcon:()=>data.oM,getAdditionalWeatherInformation:()=>helpers.E,fallback:()=>ThemeControlsModal_DWBaJmrH.f,UNIT_F:()=>data.gD,useThemeStore:()=>store.f,ControlSlider:()=>ThemeControlsModal_DWBaJmrH.Q,useModalStore:()=>ModalProvider.aE,TriggerCard:()=>ThemeControlsModal_DWBaJmrH.c,WeatherCardDetail:()=>ThemeControlsModal_DWBaJmrH.d,ClimateHumiditySlider:()=>ThemeControlsModal_DWBaJmrH.m,FabCard:()=>ThemeControlsModal_DWBaJmrH.h,Column:()=>Column.s,PictureCard:()=>ThemeControlsModal_DWBaJmrH.P,PreloadImage:()=>PreloadImage.b,mq:()=>breakpoints.mq,NAMESPACE:()=>constants.A7,CLIMATE_FAN_MODE_ICONS:()=>data.yr,CLIMATE_SWING_MODE_ICONS:()=>data.Zs,LightControls:()=>ThemeControlsModal_DWBaJmrH.L,ModalCameraControls:()=>Camera.ModalCameraControls,RelatedEntity:()=>ThemeControlsModal_DWBaJmrH.R,EntitiesCard:()=>ThemeControlsModal_DWBaJmrH.E,SidebarCard:()=>ThemeControlsModal_DWBaJmrH.S,LIGHT:()=>constants.rp,Tooltip:()=>ThemeControlsModal_DWBaJmrH.T,computeFanModeIcon:()=>data.v4,ControlToggle:()=>ThemeControlsModal_DWBaJmrH.X,VolumeControls:()=>ThemeControlsModal_DWBaJmrH.v,ControlSliderCircular:()=>ThemeControlsModal_DWBaJmrH.Y,Ripples:()=>ThemeControlsModal_DWBaJmrH.b,theme:()=>theme.r,ModalVacuumControls:()=>Vacuum.ModalVacuumControls,ButtonBar:()=>ThemeControlsModal_DWBaJmrH.x,DIFF:()=>constants.dH,AlarmCard:()=>Z,DEFAULT_THEME_OPTIONS:()=>constants.Ao,ModalLightControls:()=>Light.ModalLightControls,PersonControls:()=>ThemeControlsModal_DWBaJmrH.p,ClimateEntityFeature:()=>data.pi,CLIMATE_HVAC_ACTION_ICONS:()=>data.Dl,CameraCard:()=>ThemeControlsModal_DWBaJmrH.H,CameraStream:()=>ThemeControlsModal_DWBaJmrH.I,CalendarCard:()=>ThemeControlsModal_DWBaJmrH.w,DARK:()=>constants.Py,SensorCard:()=>w,TimeCard:()=>ThemeControlsModal_DWBaJmrH.g,VacuumCard:()=>ThemeControlsModal_DWBaJmrH.V,ButtonCard:()=>ThemeControlsModal_DWBaJmrH.B,CLIMATE_PRESET_MODE_ICONS:()=>data.bN,ModalCoverControls:()=>Cover.ModalCoverControls,WeatherCard:()=>ThemeControlsModal_DWBaJmrH.W,computeHvacModeIcon:()=>data.Ep,computeSwingModeIcon:()=>data.tO,generateColumnBreakpoints:()=>breakpoints.QX,getBreakpoints:()=>breakpoints.le,useBreakpoint:()=>ThemeControlsModal_DWBaJmrH.u,ACCENT:()=>constants.Lr,ClimateControlSlider:()=>ThemeControlsModal_DWBaJmrH.l,ModalMediaPlayerControls:()=>MediaPlayer.ModalMediaPlayerControls,ModalClimateControls:()=>Climate.ModalClimateControls,ModalSwitchControls:()=>Switch.ModalSwitchControls,ModalWeatherControls:()=>Weather.ModalWeatherControls,LogBookRenderer:()=>ThemeControlsModal_DWBaJmrH.J,ModalAlarmControls:()=>AlarmControlPanel.ModalAlarmControls,MediaPlayerControls:()=>ThemeControlsModal_DWBaJmrH.M,ModalByEntityDomain:()=>ThemeControlsModal_DWBaJmrH.N,ButtonGroupButton:()=>ThemeControlsModal_DWBaJmrH.D,CLIMATE_PRESET_NONE:()=>data.T1,Row:()=>Row.X,SvgGraph:()=>SvgGraph.O,SwitchControls:()=>SwitchControls.$,EntityAttributes:()=>ThemeControlsModal_DWBaJmrH.a0,DEFAULT_START_LIGHT:()=>constants.ME,MediaPlayerCard:()=>ThemeControlsModal_DWBaJmrH.s,ButtonBarButton:()=>ThemeControlsModal_DWBaJmrH.y,DEFAULT_START_DARK:()=>constants.jB,Group:()=>ThemeControlsModal_DWBaJmrH.G,EntitiesCardRow:()=>ThemeControlsModal_DWBaJmrH.r,AreaCard:()=>ThemeControlsModal_DWBaJmrH.A,CLIMATE_HVAC_ACTION_TO_MODE:()=>data.hB,AlarmControls:()=>ThemeControlsModal_DWBaJmrH.n,CLIMATE_HVAC_MODE_ICONS:()=>data.b$,FamilyCard:()=>ThemeControlsModal_DWBaJmrH.i,ButtonGroup:()=>ThemeControlsModal_DWBaJmrH.z,GarbageCollectionCard:()=>ThemeControlsModal_DWBaJmrH.e,Modal:()=>ThemeControlsModal_DWBaJmrH.K,ModalPersonControls:()=>Person.ModalPersonControls,Alert:()=>Alert.b,CoverControls:()=>ThemeControlsModal_DWBaJmrH.o,PlaybackControls:()=>ThemeControlsModal_DWBaJmrH.t,FeatureEntity:()=>ThemeControlsModal_DWBaJmrH.F,ColorTempPicker:()=>ThemeControlsModal_DWBaJmrH._,Menu:()=>ThemeControlsModal_DWBaJmrH.Z,RangeSlider:()=>ThemeControlsModal_DWBaJmrH.a,TextField:()=>TextField.n,ThemeControlsModal:()=>ThemeControlsModal_DWBaJmrH.a2,ThemeProvider:()=>ThemeControlsModal_DWBaJmrH.a1,PersonCard:()=>ThemeControlsModal_DWBaJmrH.j,UserAvatar:()=>ThemeControlsModal_DWBaJmrH.U,ClimateCard:()=>ThemeControlsModal_DWBaJmrH.q,compareClimateHvacModes:()=>data.ZS,ClimateControls:()=>ThemeControlsModal_DWBaJmrH.k,ModalProvider:()=>ModalProvider.DY,getColumnSizeCSS:()=>breakpoints.yG,UNIT_C:()=>data.ot,CardBase:()=>ThemeControlsModal_DWBaJmrH.C});var breakpoints=__webpack_require__(712);var ThemeControlsModal_DWBaJmrH=__webpack_require__(9672);var TextField=__webpack_require__(3042);var emotion_react_jsx_runtime_browser_esm_Tq_btErF=__webpack_require__(2404);var emotion_styled_base_browser_esm_Dyg8Y4aq=__webpack_require__(455);var index_js_eager_=__webpack_require__(3257);var index_js_=__webpack_require__(3629);var react_error_boundary_esm=__webpack_require__(4511);var shared=__webpack_require__(2587);var lodash=__webpack_require__(6486);const V=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(ThemeControlsModal_DWBaJmrH.B,{target:"e1tay81o0"})(),W={armed_home:"arm_home",armed_away:"arm_away",armed_night:"arm_night",armed_vacation:"arm_vacation",armed_custom_bypass:"custom_bypass",disarmed:"disarm",triggered:"pending",pending:"pending",arming:"pending"};function z({entity:r,cssStyles:o,key:p,className:A,title:n,states:f,modalProps:s,layoutType:g="slim-vertical",defaultCode:i,children:_,icon:b,...y}){const t=(0,index_js_.useEntity)(r),{useStore:S}=(0,index_js_.useHass)(),v=S(a=>a.globalComponentStyles),C=(0,index_js_eager_.useCallback)(a=>a===index_js_.UNAVAILABLE?(0,index_js_.localize)("unavailable"):(0,index_js_.localize)(W[a]),[]),E=(0,index_js_eager_.useMemo)(()=>n??t.attributes.friendly_name,[n,t.attributes.friendly_name]),h=C(t.state),m=f||(0,shared.nL)(t,shared.n0),M=a=>{i&&t.service[(0,lodash.snakeCase)(`alarm_${a}`)]({serviceData:{code:i.toString()}})},c=(0,shared.PJ)(t.state,s?.customActionColor);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(V,{as:"div",entity:r,layoutType:g,icon:b??(t.state in shared.gq?shared.gq[t.state].icon:void 0),title:n,hideToggle:!0,className:`alarm-card ${A??""} ${t.state}`,fabProps:{style:{backgroundColor:c,color:"var(--ha-S500-contrast)"}},cssStyles:`
          .fab-card-inner.icon {
            background-color: ${c};
            color: var(--ha-S500-contrast);
          }
          &:not(.disabled),
          &:not(:disabled) {
            &:not(:focus):hover {
              .fab-card-inner.icon {
                background-color: ${c};
                color: var(--ha-S500-contrast);
              }
            }
          }
          ${v.alarmCard??""}
          ${o??""}
        `,features:i?("disarmed"===t.state?m:["disarm"]).map((a,T)=>/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(ThemeControlsModal_DWBaJmrH.F,{entity:r,onClick:()=>{M(a)},icon:a in shared.Cm?shared.gq[shared.Cm[a]].icon:void 0,children:(0,shared.A0)(a,s?.labelMap)},T)):[],disableActiveState:!0,modalProps:{title:E,stateTitle:h,states:m,...s},...y,children:_},p)}function Z(r){const o={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...(0,ThemeControlsModal_DWBaJmrH.f)({prefix:"AlarmCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(z,{...o,...r})})}var Row=__webpack_require__(5246);var Column=__webpack_require__(6962);var SvgGraph=__webpack_require__(3836);const SensorCard_y=/* @__PURE__ */(0,emotion_styled_base_browser_esm_Dyg8Y4aq.c)(ThemeControlsModal_DWBaJmrH.B,{target:"e16wpwvj0"})();function SensorCard_C({entity:r,className:e,cssStyles:o,hideToggle:s=!0,service:a,serviceData:n,...l}){const{useStore:d}=(0,index_js_.useHass)(),c=d(m=>m.globalComponentStyles);return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(SensorCard_y,{disableActiveState:!0,hideToggle:s,service:a,serviceData:n,graph:{entity:r,adjustGraphSpaceBy:"1rem"},entity:r,className:`sensor-card ${e??""}`,cssStyles:`
        ${c?.sensorCard??""}
        ${o??""}
      `,...l})}function w(r){const e={xxs:12,xs:6,sm:6,md:4,lg:4,xlg:3};return/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(react_error_boundary_esm.SV,{...(0,ThemeControlsModal_DWBaJmrH.f)({prefix:"SensorCard"}),children:/* @__PURE__ */(0,emotion_react_jsx_runtime_browser_esm_Tq_btErF.j)(SensorCard_C,{...e,...r})})}var helpers=__webpack_require__(1228);var data=__webpack_require__(845);var SwitchControls=__webpack_require__(4087);var ModalProvider=__webpack_require__(3102);var Camera=__webpack_require__(2412);var AlarmControlPanel=__webpack_require__(5774);var Climate=__webpack_require__(822);var Cover=__webpack_require__(7848);var Light=__webpack_require__(8528);var MediaPlayer=__webpack_require__(9844);var Person=__webpack_require__(7569);var Switch=__webpack_require__(3060);var Weather=__webpack_require__(1221);var Vacuum=__webpack_require__(8486);var PreloadImage=__webpack_require__(8930);var Alert=__webpack_require__(1364);var constants=__webpack_require__(5274);var store=__webpack_require__(499);var theme=__webpack_require__(3823)},525:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>t});var _emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1068);const l=["layoutId","whileTap"],t=i=>(0,_emotion_is_prop_valid__WEBPACK_IMPORTED_MODULE_0__.Z)(i)||l.includes(i)},720:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>m});var create_proxy=__webpack_require__(3249);var create_factory=__webpack_require__(9505);const createMinimalMotionComponent=/*@__PURE__*/(0,create_factory.x)();const m=/*@__PURE__*/(0,create_proxy.c)(createMinimalMotionComponent)}}]);